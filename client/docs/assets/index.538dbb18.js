var Yu=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var lv=Yu((fv,Cs)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const dt={};function Ju(n){dt.context=n}const Xu=(n,e)=>n===e,Zu=Symbol("solid-track"),Qr={equals:Xu};let Nc=Fc;const Rt=1,$r=2,Lc={owned:null,cleanups:null,context:null,owner:null};var Le=null;let Ht=null,Se=null,Ve=null,bt=null,As=0;function Rr(n,e){const t=Se,r=Le,i=n.length===0,s=i?Lc:{owned:null,cleanups:null,context:null,owner:e||r},a=i?n:()=>n(()=>Mt(()=>Xr(s)));Le=s,Se=null;try{return or(a,!0)}finally{Se=t,Le=r}}function Ee(n,e){e=e?Object.assign({},Qr,e):Qr;const t={value:n,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(i=i(t.value)),Mc(t,i));return[Rc.bind(t),r]}function At(n,e,t){const r=Ds(n,e,!1,Rt);sr(r)}function ef(n,e,t){Nc=cf;const r=Ds(n,e,!1,Rt);r.user=!0,bt?bt.push(r):sr(r)}function _t(n,e,t){t=t?Object.assign({},Qr,t):Qr;const r=Ds(n,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,sr(r),Rc.bind(r)}function Mt(n){const e=Se;Se=null;try{return n()}finally{Se=e}}function xn(n){ef(()=>Mt(n))}function tf(n){return Le===null||(Le.cleanups===null?Le.cleanups=[n]:Le.cleanups.push(n)),n}function nf(n,e){const t=Symbol("context");return{id:t,Provider:uf(t),defaultValue:n}}function rf(n){let e;return(e=qc(Le,n.id))!==void 0?e:n.defaultValue}function sf(n){const e=_t(n),t=_t(()=>Xi(e()));return t.toArray=()=>{const r=t();return Array.isArray(r)?r:r!=null?[r]:[]},t}function Rc(){const n=Ht;if(this.sources&&(this.state||n))if(this.state===Rt||n)sr(this);else{const e=Ve;Ve=null,or(()=>zr(this),!1),Ve=e}if(Se){const e=this.observers?this.observers.length:0;Se.sources?(Se.sources.push(this),Se.sourceSlots.push(e)):(Se.sources=[this],Se.sourceSlots=[e]),this.observers?(this.observers.push(Se),this.observerSlots.push(Se.sources.length-1)):(this.observers=[Se],this.observerSlots=[Se.sources.length-1])}return this.value}function Mc(n,e,t){let r=n.value;return(!n.comparator||!n.comparator(r,e))&&(n.value=e,n.observers&&n.observers.length&&or(()=>{for(let i=0;i<n.observers.length;i+=1){const s=n.observers[i],a=Ht&&Ht.running;a&&Ht.disposed.has(s),(a&&!s.tState||!a&&!s.state)&&(s.pure?Ve.push(s):bt.push(s),s.observers&&Bc(s)),a||(s.state=Rt)}if(Ve.length>1e6)throw Ve=[],new Error},!1)),e}function sr(n){if(!n.fn)return;Xr(n);const e=Le,t=Se,r=As;Se=Le=n,of(n,n.value,r),Se=t,Le=e}function of(n,e,t){let r;try{r=n.fn(e)}catch(i){n.pure&&(n.state=Rt,n.owned&&n.owned.forEach(Xr),n.owned=null),jc(i)}(!n.updatedAt||n.updatedAt<=t)&&(n.updatedAt!=null&&"observers"in n?Mc(n,r):n.value=r,n.updatedAt=t)}function Ds(n,e,t,r=Rt,i){const s={fn:n,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:Le,context:null,pure:t};return Le===null||Le!==Lc&&(Le.owned?Le.owned.push(s):Le.owned=[s]),s}function Ur(n){const e=Ht;if(n.state===0||e)return;if(n.state===$r||e)return zr(n);if(n.suspense&&Mt(n.suspense.inFallback))return n.suspense.effects.push(n);const t=[n];for(;(n=n.owner)&&(!n.updatedAt||n.updatedAt<As);)(n.state||e)&&t.push(n);for(let r=t.length-1;r>=0;r--)if(n=t[r],n.state===Rt||e)sr(n);else if(n.state===$r||e){const i=Ve;Ve=null,or(()=>zr(n,t[0]),!1),Ve=i}}function or(n,e){if(Ve)return n();let t=!1;e||(Ve=[]),bt?t=!0:bt=[],As++;try{const r=n();return af(t),r}catch(r){Ve||(bt=null),jc(r)}}function af(n){if(Ve&&(Fc(Ve),Ve=null),n)return;const e=bt;bt=null,e.length&&or(()=>Nc(e),!1)}function Fc(n){for(let e=0;e<n.length;e++)Ur(n[e])}function cf(n){let e,t=0;for(e=0;e<n.length;e++){const r=n[e];r.user?n[t++]=r:Ur(r)}for(dt.context&&Ju(),e=0;e<t;e++)Ur(n[e])}function zr(n,e){const t=Ht;n.state=0;for(let r=0;r<n.sources.length;r+=1){const i=n.sources[r];i.sources&&(i.state===Rt||t?i!==e&&Ur(i):(i.state===$r||t)&&zr(i,e))}}function Bc(n){const e=Ht;for(let t=0;t<n.observers.length;t+=1){const r=n.observers[t];(!r.state||e)&&(r.state=$r,r.pure?Ve.push(r):bt.push(r),r.observers&&Bc(r))}}function Xr(n){let e;if(n.sources)for(;n.sources.length;){const t=n.sources.pop(),r=n.sourceSlots.pop(),i=t.observers;if(i&&i.length){const s=i.pop(),a=t.observerSlots.pop();r<i.length&&(s.sourceSlots[a]=r,i[r]=s,t.observerSlots[r]=a)}}if(n.owned){for(e=0;e<n.owned.length;e++)Xr(n.owned[e]);n.owned=null}if(n.cleanups){for(e=0;e<n.cleanups.length;e++)n.cleanups[e]();n.cleanups=null}n.state=0,n.context=null}function lf(n){return n instanceof Error||typeof n=="string"?n:new Error("Unknown error")}function jc(n){throw n=lf(n),n}function qc(n,e){return n?n.context&&n.context[e]!==void 0?n.context[e]:qc(n.owner,e):void 0}function Xi(n){if(typeof n=="function"&&!n.length)return Xi(n());if(Array.isArray(n)){const e=[];for(let t=0;t<n.length;t++){const r=Xi(n[t]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return n}function uf(n,e){return function(r){let i;return At(()=>i=Mt(()=>(Le.context={[n]:r.value},sf(()=>r.children))),void 0),i}}const ff=Symbol("fallback");function Ia(n){for(let e=0;e<n.length;e++)n[e]()}function hf(n,e,t={}){let r=[],i=[],s=[],a=0,c=e.length>1?[]:null;return tf(()=>Ia(s)),()=>{let u=n()||[],f,d;return u[Zu],Mt(()=>{let v=u.length,g,b,_,k,C,x,T,A,j;if(v===0)a!==0&&(Ia(s),s=[],r=[],i=[],a=0,c&&(c=[])),t.fallback&&(r=[ff],i[0]=Rr(U=>(s[0]=U,t.fallback())),a=1);else if(a===0){for(i=new Array(v),d=0;d<v;d++)r[d]=u[d],i[d]=Rr(m);a=v}else{for(_=new Array(v),k=new Array(v),c&&(C=new Array(v)),x=0,T=Math.min(a,v);x<T&&r[x]===u[x];x++);for(T=a-1,A=v-1;T>=x&&A>=x&&r[T]===u[A];T--,A--)_[A]=i[T],k[A]=s[T],c&&(C[A]=c[T]);for(g=new Map,b=new Array(A+1),d=A;d>=x;d--)j=u[d],f=g.get(j),b[d]=f===void 0?-1:f,g.set(j,d);for(f=x;f<=T;f++)j=r[f],d=g.get(j),d!==void 0&&d!==-1?(_[d]=i[f],k[d]=s[f],c&&(C[d]=c[f]),d=b[d],g.set(j,d)):s[f]();for(d=x;d<v;d++)d in _?(i[d]=_[d],s[d]=k[d],c&&(c[d]=C[d],c[d](d))):i[d]=Rr(m);i=i.slice(0,a=v),r=u.slice(0)}return i});function m(v){if(s[d]=v,c){const[g,b]=Ee(d);return c[d]=b,e(u[d],g)}return e(u[d])}}}function Re(n,e){return Mt(()=>n(e||{}))}function Vc(n){const e="fallback"in n&&{fallback:()=>n.fallback};return _t(hf(()=>n.each,n.children,e||void 0))}function Jn(n){let e=!1;const t=n.keyed,r=_t(()=>n.when,void 0,{equals:(i,s)=>e?i===s:!i==!s});return _t(()=>{const i=r();if(i){const s=n.children,a=typeof s=="function"&&s.length>0;return e=t||a,a?Mt(()=>s(i)):s}return n.fallback},void 0,void 0)}function df(n,e,t){let r=t.length,i=e.length,s=r,a=0,c=0,u=e[i-1].nextSibling,f=null;for(;a<i||c<s;){if(e[a]===t[c]){a++,c++;continue}for(;e[i-1]===t[s-1];)i--,s--;if(i===a){const d=s<r?c?t[c-1].nextSibling:t[s-c]:u;for(;c<s;)n.insertBefore(t[c++],d)}else if(s===c)for(;a<i;)(!f||!f.has(e[a]))&&e[a].remove(),a++;else if(e[a]===t[s-1]&&t[c]===e[i-1]){const d=e[--i].nextSibling;n.insertBefore(t[c++],e[a++].nextSibling),n.insertBefore(t[--s],d),e[i]=t[s]}else{if(!f){f=new Map;let m=c;for(;m<s;)f.set(t[m],m++)}const d=f.get(e[a]);if(d!=null)if(c<d&&d<s){let m=a,v=1,g;for(;++m<i&&m<s&&!((g=f.get(e[m]))==null||g!==d+v);)v++;if(v>d-c){const b=e[a];for(;c<d;)n.insertBefore(t[c++],b)}else n.replaceChild(t[c++],e[a++])}else a++;else e[a++].remove()}}}const Ca="_$DX_DELEGATE";function pf(n,e,t,r={}){let i;return Rr(s=>{i=s,e===document?n():Wt(e,n(),e.firstChild?null:void 0,t)},r.owner),()=>{i(),e.textContent=""}}function Et(n,e,t){const r=document.createElement("template");r.innerHTML=n;let i=r.content.firstChild;return t&&(i=i.firstChild),i}function Zr(n,e=window.document){const t=e[Ca]||(e[Ca]=new Set);for(let r=0,i=n.length;r<i;r++){const s=n[r];t.has(s)||(t.add(s),e.addEventListener(s,mf))}}function kn(n,e,t){t==null?n.removeAttribute(e):n.setAttribute(e,t)}function Zi(n,e){e==null?n.removeAttribute("class"):n.className=e}function vf(n,e,t,r){if(r)Array.isArray(t)?(n[`$$${e}`]=t[0],n[`$$${e}Data`]=t[1]):n[`$$${e}`]=t;else if(Array.isArray(t)){const i=t[0];n.addEventListener(e,t[0]=s=>i.call(n,t[1],s))}else n.addEventListener(e,t)}function Qc(n,e,t){if(!e)return t?kn(n,"style"):e;const r=n.style;if(typeof e=="string")return r.cssText=e;typeof t=="string"&&(r.cssText=t=void 0),t||(t={}),e||(e={});let i,s;for(s in t)e[s]==null&&r.removeProperty(s),delete t[s];for(s in e)i=e[s],i!==t[s]&&(r.setProperty(s,i),t[s]=i);return t}function Aa(n,e,t){return Mt(()=>n(e,t))}function Wt(n,e,t,r){if(t!==void 0&&!r&&(r=[]),typeof e!="function")return Wr(n,e,r,t);At(i=>Wr(n,e(),i,t),r)}function mf(n){const e=`$$${n.type}`;let t=n.composedPath&&n.composedPath()[0]||n.target;for(n.target!==t&&Object.defineProperty(n,"target",{configurable:!0,value:t}),Object.defineProperty(n,"currentTarget",{configurable:!0,get(){return t||document}}),dt.registry&&!dt.done&&(dt.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>{for(;r&&r.nodeType!==8&&r.nodeValue!=="pl-"+n;){let i=r.nextSibling;r.remove(),r=i}r&&r.remove()}));t;){const r=t[e];if(r&&!t.disabled){const i=t[`${e}Data`];if(i!==void 0?r.call(t,i,n):r.call(t,n),n.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function Wr(n,e,t,r,i){for(dt.context&&!t&&(t=[...n.childNodes]);typeof t=="function";)t=t();if(e===t)return t;const s=typeof e,a=r!==void 0;if(n=a&&t[0]&&t[0].parentNode||n,s==="string"||s==="number"){if(dt.context)return t;if(s==="number"&&(e=e.toString()),a){let c=t[0];c&&c.nodeType===3?c.data=e:c=document.createTextNode(e),t=dn(n,t,r,c)}else t!==""&&typeof t=="string"?t=n.firstChild.data=e:t=n.textContent=e}else if(e==null||s==="boolean"){if(dt.context)return t;t=dn(n,t,r)}else{if(s==="function")return At(()=>{let c=e();for(;typeof c=="function";)c=c();t=Wr(n,c,t,r)}),()=>t;if(Array.isArray(e)){const c=[],u=t&&Array.isArray(t);if(es(c,e,t,i))return At(()=>t=Wr(n,c,t,r,!0)),()=>t;if(dt.context){if(!c.length)return t;for(let f=0;f<c.length;f++)if(c[f].parentNode)return t=c}if(c.length===0){if(t=dn(n,t,r),a)return t}else u?t.length===0?Da(n,c,r):df(n,t,c):(t&&dn(n),Da(n,c));t=c}else if(e instanceof Node){if(dt.context&&e.parentNode)return t=a?[e]:e;if(Array.isArray(t)){if(a)return t=dn(n,t,r,e);dn(n,t,null,e)}else t==null||t===""||!n.firstChild?n.appendChild(e):n.replaceChild(e,n.firstChild);t=e}}return t}function es(n,e,t,r){let i=!1;for(let s=0,a=e.length;s<a;s++){let c=e[s],u=t&&t[s];if(c instanceof Node)n.push(c);else if(!(c==null||c===!0||c===!1))if(Array.isArray(c))i=es(n,c,u)||i;else if(typeof c=="function")if(r){for(;typeof c=="function";)c=c();i=es(n,Array.isArray(c)?c:[c],Array.isArray(u)?u:[u])||i}else n.push(c),i=!0;else{const f=String(c);u&&u.nodeType===3&&u.data===f?n.push(u):n.push(document.createTextNode(f))}}return i}function Da(n,e,t=null){for(let r=0,i=e.length;r<i;r++)n.insertBefore(e[r],t)}function dn(n,e,t,r){if(t===void 0)return n.textContent="";const i=r||document.createTextNode("");if(e.length){let s=!1;for(let a=e.length-1;a>=0;a--){const c=e[a];if(i!==c){const u=c.parentNode===n;!s&&!a?u?n.replaceChild(i,c):n.insertBefore(i,t):u&&c.remove()}else s=!0}}else n.insertBefore(i,t);return[i]}var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yf={exports:{}};/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(n,e){(function(t,r){n.exports=r()})(gf,function(){const t="transitionend",r=h=>{let o=h.getAttribute("data-bs-target");if(!o||o==="#"){let l=h.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),o=l&&l!=="#"?l.trim():null}return o},i=h=>{const o=r(h);return o&&document.querySelector(o)?o:null},s=h=>{const o=r(h);return o?document.querySelector(o):null},a=h=>{h.dispatchEvent(new Event(t))},c=h=>!(!h||typeof h!="object")&&(h.jquery!==void 0&&(h=h[0]),h.nodeType!==void 0),u=h=>c(h)?h.jquery?h[0]:h:typeof h=="string"&&h.length>0?document.querySelector(h):null,f=h=>{if(!c(h)||h.getClientRects().length===0)return!1;const o=getComputedStyle(h).getPropertyValue("visibility")==="visible",l=h.closest("details:not([open])");if(!l)return o;if(l!==h){const p=h.closest("summary");if(p&&p.parentNode!==l||p===null)return!1}return o},d=h=>!h||h.nodeType!==Node.ELEMENT_NODE||!!h.classList.contains("disabled")||(h.disabled!==void 0?h.disabled:h.hasAttribute("disabled")&&h.getAttribute("disabled")!=="false"),m=h=>{if(!document.documentElement.attachShadow)return null;if(typeof h.getRootNode=="function"){const o=h.getRootNode();return o instanceof ShadowRoot?o:null}return h instanceof ShadowRoot?h:h.parentNode?m(h.parentNode):null},v=()=>{},g=h=>{h.offsetHeight},b=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,_=[],k=()=>document.documentElement.dir==="rtl",C=h=>{var o;o=()=>{const l=b();if(l){const p=h.NAME,y=l.fn[p];l.fn[p]=h.jQueryInterface,l.fn[p].Constructor=h,l.fn[p].noConflict=()=>(l.fn[p]=y,h.jQueryInterface)}},document.readyState==="loading"?(_.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of _)l()}),_.push(o)):o()},x=h=>{typeof h=="function"&&h()},T=(h,o,l=!0)=>{if(!l)return void x(h);const p=(P=>{if(!P)return 0;let{transitionDuration:D,transitionDelay:N}=window.getComputedStyle(P);const q=Number.parseFloat(D),V=Number.parseFloat(N);return q||V?(D=D.split(",")[0],N=N.split(",")[0],1e3*(Number.parseFloat(D)+Number.parseFloat(N))):0})(o)+5;let y=!1;const w=({target:P})=>{P===o&&(y=!0,o.removeEventListener(t,w),x(h))};o.addEventListener(t,w),setTimeout(()=>{y||a(o)},p)},A=(h,o,l,p)=>{const y=h.length;let w=h.indexOf(o);return w===-1?!l&&p?h[y-1]:h[0]:(w+=l?1:-1,p&&(w=(w+y)%y),h[Math.max(0,Math.min(w,y-1))])},j=/[^.]*(?=\..*)\.|.*/,U=/\..*/,M=/::\d+$/,z={};let W=1;const H={mouseenter:"mouseover",mouseleave:"mouseout"},Z=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ie(h,o){return o&&`${o}::${W++}`||h.uidEvent||W++}function ce(h){const o=ie(h);return h.uidEvent=o,z[o]=z[o]||{},z[o]}function Ce(h,o,l=null){return Object.values(h).find(p=>p.callable===o&&p.delegationSelector===l)}function He(h,o,l){const p=typeof o=="string",y=p?l:o||l;let w=Oe(h);return Z.has(w)||(w=h),[p,y,w]}function Tt(h,o,l,p,y){if(typeof o!="string"||!h)return;let[w,P,D]=He(o,l,p);o in H&&(P=(J=>function(G){if(!G.relatedTarget||G.relatedTarget!==G.delegateTarget&&!G.delegateTarget.contains(G.relatedTarget))return J.call(this,G)})(P));const N=ce(h),q=N[D]||(N[D]={}),V=Ce(q,P,w?l:null);if(V)return void(V.oneOff=V.oneOff&&y);const F=ie(P,o.replace(j,"")),te=w?function(K,J,G){return function X(ve){const be=K.querySelectorAll(J);for(let{target:re}=ve;re&&re!==this;re=re.parentNode)for(const ue of be)if(ue===re)return xt(ve,{delegateTarget:re}),X.oneOff&&O.off(K,ve.type,J,G),G.apply(re,[ve])}}(h,l,P):function(K,J){return function G(X){return xt(X,{delegateTarget:K}),G.oneOff&&O.off(K,X.type,J),J.apply(K,[X])}}(h,P);te.delegationSelector=w?l:null,te.callable=P,te.oneOff=y,te.uidEvent=F,q[F]=te,h.addEventListener(D,te,w)}function Y(h,o,l,p,y){const w=Ce(o[l],p,y);w&&(h.removeEventListener(l,w,Boolean(y)),delete o[l][w.uidEvent])}function B(h,o,l,p){const y=o[l]||{};for(const w of Object.keys(y))if(w.includes(p)){const P=y[w];Y(h,o,l,P.callable,P.delegationSelector)}}function Oe(h){return h=h.replace(U,""),H[h]||h}const O={on(h,o,l,p){Tt(h,o,l,p,!1)},one(h,o,l,p){Tt(h,o,l,p,!0)},off(h,o,l,p){if(typeof o!="string"||!h)return;const[y,w,P]=He(o,l,p),D=P!==o,N=ce(h),q=N[P]||{},V=o.startsWith(".");if(w===void 0){if(V)for(const F of Object.keys(N))B(h,N,F,o.slice(1));for(const F of Object.keys(q)){const te=F.replace(M,"");if(!D||o.includes(te)){const K=q[F];Y(h,N,P,K.callable,K.delegationSelector)}}}else{if(!Object.keys(q).length)return;Y(h,N,P,w,y?l:null)}},trigger(h,o,l){if(typeof o!="string"||!h)return null;const p=b();let y=null,w=!0,P=!0,D=!1;o!==Oe(o)&&p&&(y=p.Event(o,l),p(h).trigger(y),w=!y.isPropagationStopped(),P=!y.isImmediatePropagationStopped(),D=y.isDefaultPrevented());let N=new Event(o,{bubbles:w,cancelable:!0});return N=xt(N,l),D&&N.preventDefault(),P&&h.dispatchEvent(N),N.defaultPrevented&&y&&y.preventDefault(),N}};function xt(h,o){for(const[l,p]of Object.entries(o||{}))try{h[l]=p}catch{Object.defineProperty(h,l,{configurable:!0,get:()=>p})}return h}const le=new Map,Ge={set(h,o,l){le.has(h)||le.set(h,new Map);const p=le.get(h);p.has(o)||p.size===0?p.set(o,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`)},get:(h,o)=>le.has(h)&&le.get(h).get(o)||null,remove(h,o){if(!le.has(h))return;const l=le.get(h);l.delete(o),l.size===0&&le.delete(h)}};function Be(h){if(h==="true")return!0;if(h==="false")return!1;if(h===Number(h).toString())return Number(h);if(h===""||h==="null")return null;if(typeof h!="string")return h;try{return JSON.parse(decodeURIComponent(h))}catch{return h}}function it(h){return h.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}const je={setDataAttribute(h,o,l){h.setAttribute(`data-bs-${it(o)}`,l)},removeDataAttribute(h,o){h.removeAttribute(`data-bs-${it(o)}`)},getDataAttributes(h){if(!h)return{};const o={},l=Object.keys(h.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of l){let y=p.replace(/^bs/,"");y=y.charAt(0).toLowerCase()+y.slice(1,y.length),o[y]=Be(h.dataset[p])}return o},getDataAttribute:(h,o)=>Be(h.getAttribute(`data-bs-${it(o)}`))};class mt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(o){return o=this._mergeConfigObj(o),o=this._configAfterMerge(o),this._typeCheckConfig(o),o}_configAfterMerge(o){return o}_mergeConfigObj(o,l){const p=c(l)?je.getDataAttribute(l,"config"):{};return{...this.constructor.Default,...typeof p=="object"?p:{},...c(l)?je.getDataAttributes(l):{},...typeof o=="object"?o:{}}}_typeCheckConfig(o,l=this.constructor.DefaultType){for(const y of Object.keys(l)){const w=l[y],P=o[y],D=c(P)?"element":(p=P)==null?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(w).test(D))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${D}" but expected type "${w}".`)}var p}}class Ke extends mt{constructor(o,l){super(),(o=u(o))&&(this._element=o,this._config=this._getConfig(l),Ge.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ge.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const o of Object.getOwnPropertyNames(this))this[o]=null}_queueCallback(o,l,p=!0){T(o,l,p)}_getConfig(o){return o=this._mergeConfigObj(o,this._element),o=this._configAfterMerge(o),this._typeCheckConfig(o),o}static getInstance(o){return Ge.get(u(o),this.DATA_KEY)}static getOrCreateInstance(o,l={}){return this.getInstance(o)||new this(o,typeof l=="object"?l:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(o){return`${o}${this.EVENT_KEY}`}}const Ft=(h,o="hide")=>{const l=`click.dismiss${h.EVENT_KEY}`,p=h.NAME;O.on(document,l,`[data-bs-dismiss="${p}"]`,function(y){if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),d(this))return;const w=s(this)||this.closest(`.${p}`);h.getOrCreateInstance(w)[o]()})};class Ln extends Ke{static get NAME(){return"alert"}close(){if(O.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const o=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,o)}_destroyElement(){this._element.remove(),O.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(o){return this.each(function(){const l=Ln.getOrCreateInstance(this);if(typeof o=="string"){if(l[o]===void 0||o.startsWith("_")||o==="constructor")throw new TypeError(`No method named "${o}"`);l[o](this)}})}}Ft(Ln,"close"),C(Ln);const no='[data-bs-toggle="button"]';class Rn extends Ke{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(o){return this.each(function(){const l=Rn.getOrCreateInstance(this);o==="toggle"&&l[o]()})}}O.on(document,"click.bs.button.data-api",no,h=>{h.preventDefault();const o=h.target.closest(no);Rn.getOrCreateInstance(o).toggle()}),C(Rn);const ee={find:(h,o=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(o,h)),findOne:(h,o=document.documentElement)=>Element.prototype.querySelector.call(o,h),children:(h,o)=>[].concat(...h.children).filter(l=>l.matches(o)),parents(h,o){const l=[];let p=h.parentNode.closest(o);for(;p;)l.push(p),p=p.parentNode.closest(o);return l},prev(h,o){let l=h.previousElementSibling;for(;l;){if(l.matches(o))return[l];l=l.previousElementSibling}return[]},next(h,o){let l=h.nextElementSibling;for(;l;){if(l.matches(o))return[l];l=l.nextElementSibling}return[]},focusableChildren(h){const o=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(o,h).filter(l=>!d(l)&&f(l))}},Ql={endCallback:null,leftCallback:null,rightCallback:null},$l={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ur extends mt{constructor(o,l){super(),this._element=o,o&&ur.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Ql}static get DefaultType(){return $l}static get NAME(){return"swipe"}dispose(){O.off(this._element,".bs.swipe")}_start(o){this._supportPointerEvents?this._eventIsPointerPenTouch(o)&&(this._deltaX=o.clientX):this._deltaX=o.touches[0].clientX}_end(o){this._eventIsPointerPenTouch(o)&&(this._deltaX=o.clientX-this._deltaX),this._handleSwipe(),x(this._config.endCallback)}_move(o){this._deltaX=o.touches&&o.touches.length>1?0:o.touches[0].clientX-this._deltaX}_handleSwipe(){const o=Math.abs(this._deltaX);if(o<=40)return;const l=o/this._deltaX;this._deltaX=0,l&&x(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,"pointerdown.bs.swipe",o=>this._start(o)),O.on(this._element,"pointerup.bs.swipe",o=>this._end(o)),this._element.classList.add("pointer-event")):(O.on(this._element,"touchstart.bs.swipe",o=>this._start(o)),O.on(this._element,"touchmove.bs.swipe",o=>this._move(o)),O.on(this._element,"touchend.bs.swipe",o=>this._end(o)))}_eventIsPointerPenTouch(o){return this._supportPointerEvents&&(o.pointerType==="pen"||o.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Mn="next",en="prev",tn="left",fr="right",ui="slid.bs.carousel",ro="carousel",hr="active",Ul={ArrowLeft:fr,ArrowRight:tn},zl={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Wl={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class nn extends Ke{constructor(o,l){super(o,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ee.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ro&&this.cycle()}static get Default(){return zl}static get DefaultType(){return Wl}static get NAME(){return"carousel"}next(){this._slide(Mn)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(en)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?O.one(this._element,ui,()=>this.cycle()):this.cycle())}to(o){const l=this._getItems();if(o>l.length-1||o<0)return;if(this._isSliding)return void O.one(this._element,ui,()=>this.to(o));const p=this._getItemIndex(this._getActive());if(p===o)return;const y=o>p?Mn:en;this._slide(y,l[o])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(o){return o.defaultInterval=o.interval,o}_addEventListeners(){this._config.keyboard&&O.on(this._element,"keydown.bs.carousel",o=>this._keydown(o)),this._config.pause==="hover"&&(O.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),O.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&ur.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of ee.find(".carousel-item img",this._element))O.on(l,"dragstart.bs.carousel",p=>p.preventDefault());const o={leftCallback:()=>this._slide(this._directionToOrder(tn)),rightCallback:()=>this._slide(this._directionToOrder(fr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ur(this._element,o)}_keydown(o){if(/input|textarea/i.test(o.target.tagName))return;const l=Ul[o.key];l&&(o.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(o){return this._getItems().indexOf(o)}_setActiveIndicatorElement(o){if(!this._indicatorsElement)return;const l=ee.findOne(".active",this._indicatorsElement);l.classList.remove(hr),l.removeAttribute("aria-current");const p=ee.findOne(`[data-bs-slide-to="${o}"]`,this._indicatorsElement);p&&(p.classList.add(hr),p.setAttribute("aria-current","true"))}_updateInterval(){const o=this._activeElement||this._getActive();if(!o)return;const l=Number.parseInt(o.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(o,l=null){if(this._isSliding)return;const p=this._getActive(),y=o===Mn,w=l||A(this._getItems(),p,y,this._config.wrap);if(w===p)return;const P=this._getItemIndex(w),D=F=>O.trigger(this._element,F,{relatedTarget:w,direction:this._orderToDirection(o),from:this._getItemIndex(p),to:P});if(D("slide.bs.carousel").defaultPrevented||!p||!w)return;const N=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(P),this._activeElement=w;const q=y?"carousel-item-start":"carousel-item-end",V=y?"carousel-item-next":"carousel-item-prev";w.classList.add(V),g(w),p.classList.add(q),w.classList.add(q),this._queueCallback(()=>{w.classList.remove(q,V),w.classList.add(hr),p.classList.remove(hr,V,q),this._isSliding=!1,D(ui)},p,this._isAnimated()),N&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ee.findOne(".active.carousel-item",this._element)}_getItems(){return ee.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(o){return k()?o===tn?en:Mn:o===tn?Mn:en}_orderToDirection(o){return k()?o===en?tn:fr:o===en?fr:tn}static jQueryInterface(o){return this.each(function(){const l=nn.getOrCreateInstance(this,o);if(typeof o!="number"){if(typeof o=="string"){if(l[o]===void 0||o.startsWith("_")||o==="constructor")throw new TypeError(`No method named "${o}"`);l[o]()}}else l.to(o)})}}O.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(h){const o=s(this);if(!o||!o.classList.contains(ro))return;h.preventDefault();const l=nn.getOrCreateInstance(o),p=this.getAttribute("data-bs-slide-to");return p?(l.to(p),void l._maybeEnableCycle()):je.getDataAttribute(this,"slide")==="next"?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),O.on(window,"load.bs.carousel.data-api",()=>{const h=ee.find('[data-bs-ride="carousel"]');for(const o of h)nn.getOrCreateInstance(o)}),C(nn);const fi="show",dr="collapse",pr="collapsing",hi='[data-bs-toggle="collapse"]',Hl={parent:null,toggle:!0},Kl={parent:"(null|element)",toggle:"boolean"};class rn extends Ke{constructor(o,l){super(o,l),this._isTransitioning=!1,this._triggerArray=[];const p=ee.find(hi);for(const y of p){const w=i(y),P=ee.find(w).filter(D=>D===this._element);w!==null&&P.length&&this._triggerArray.push(y)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Hl}static get DefaultType(){return Kl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let o=[];if(this._config.parent&&(o=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(y=>y!==this._element).map(y=>rn.getOrCreateInstance(y,{toggle:!1}))),o.length&&o[0]._isTransitioning||O.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const y of o)y.hide();const l=this._getDimension();this._element.classList.remove(dr),this._element.classList.add(pr),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const p=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(pr),this._element.classList.add(dr,fi),this._element.style[l]="",O.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[l]=`${this._element[p]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const o=this._getDimension();this._element.style[o]=`${this._element.getBoundingClientRect()[o]}px`,g(this._element),this._element.classList.add(pr),this._element.classList.remove(dr,fi);for(const l of this._triggerArray){const p=s(l);p&&!this._isShown(p)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0,this._element.style[o]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(pr),this._element.classList.add(dr),O.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(o=this._element){return o.classList.contains(fi)}_configAfterMerge(o){return o.toggle=Boolean(o.toggle),o.parent=u(o.parent),o}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const o=this._getFirstLevelChildren(hi);for(const l of o){const p=s(l);p&&this._addAriaAndCollapsedClass([l],this._isShown(p))}}_getFirstLevelChildren(o){const l=ee.find(":scope .collapse .collapse",this._config.parent);return ee.find(o,this._config.parent).filter(p=>!l.includes(p))}_addAriaAndCollapsedClass(o,l){if(o.length)for(const p of o)p.classList.toggle("collapsed",!l),p.setAttribute("aria-expanded",l)}static jQueryInterface(o){const l={};return typeof o=="string"&&/show|hide/.test(o)&&(l.toggle=!1),this.each(function(){const p=rn.getOrCreateInstance(this,l);if(typeof o=="string"){if(p[o]===void 0)throw new TypeError(`No method named "${o}"`);p[o]()}})}}O.on(document,"click.bs.collapse.data-api",hi,function(h){(h.target.tagName==="A"||h.delegateTarget&&h.delegateTarget.tagName==="A")&&h.preventDefault();const o=i(this),l=ee.find(o);for(const p of l)rn.getOrCreateInstance(p,{toggle:!1}).toggle()}),C(rn);var Qe="top",Ye="bottom",Je="right",$e="left",vr="auto",sn=[Qe,Ye,Je,$e],Bt="start",on="end",io="clippingParents",di="viewport",an="popper",so="reference",pi=sn.reduce(function(h,o){return h.concat([o+"-"+Bt,o+"-"+on])},[]),vi=[].concat(sn,[vr]).reduce(function(h,o){return h.concat([o,o+"-"+Bt,o+"-"+on])},[]),oo="beforeRead",ao="read",co="afterRead",lo="beforeMain",uo="main",fo="afterMain",ho="beforeWrite",po="write",vo="afterWrite",mo=[oo,ao,co,lo,uo,fo,ho,po,vo];function lt(h){return h?(h.nodeName||"").toLowerCase():null}function Ze(h){if(h==null)return window;if(h.toString()!=="[object Window]"){var o=h.ownerDocument;return o&&o.defaultView||window}return h}function jt(h){return h instanceof Ze(h).Element||h instanceof Element}function et(h){return h instanceof Ze(h).HTMLElement||h instanceof HTMLElement}function mi(h){return typeof ShadowRoot<"u"&&(h instanceof Ze(h).ShadowRoot||h instanceof ShadowRoot)}const gi={name:"applyStyles",enabled:!0,phase:"write",fn:function(h){var o=h.state;Object.keys(o.elements).forEach(function(l){var p=o.styles[l]||{},y=o.attributes[l]||{},w=o.elements[l];et(w)&&lt(w)&&(Object.assign(w.style,p),Object.keys(y).forEach(function(P){var D=y[P];D===!1?w.removeAttribute(P):w.setAttribute(P,D===!0?"":D)}))})},effect:function(h){var o=h.state,l={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,l.popper),o.styles=l,o.elements.arrow&&Object.assign(o.elements.arrow.style,l.arrow),function(){Object.keys(o.elements).forEach(function(p){var y=o.elements[p],w=o.attributes[p]||{},P=Object.keys(o.styles.hasOwnProperty(p)?o.styles[p]:l[p]).reduce(function(D,N){return D[N]="",D},{});et(y)&&lt(y)&&(Object.assign(y.style,P),Object.keys(w).forEach(function(D){y.removeAttribute(D)}))})}},requires:["computeStyles"]};function ut(h){return h.split("-")[0]}var qt=Math.max,mr=Math.min,cn=Math.round;function yi(){var h=navigator.userAgentData;return h!=null&&h.brands?h.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function go(){return!/^((?!chrome|android).)*safari/i.test(yi())}function ln(h,o,l){o===void 0&&(o=!1),l===void 0&&(l=!1);var p=h.getBoundingClientRect(),y=1,w=1;o&&et(h)&&(y=h.offsetWidth>0&&cn(p.width)/h.offsetWidth||1,w=h.offsetHeight>0&&cn(p.height)/h.offsetHeight||1);var P=(jt(h)?Ze(h):window).visualViewport,D=!go()&&l,N=(p.left+(D&&P?P.offsetLeft:0))/y,q=(p.top+(D&&P?P.offsetTop:0))/w,V=p.width/y,F=p.height/w;return{width:V,height:F,top:q,right:N+V,bottom:q+F,left:N,x:N,y:q}}function bi(h){var o=ln(h),l=h.offsetWidth,p=h.offsetHeight;return Math.abs(o.width-l)<=1&&(l=o.width),Math.abs(o.height-p)<=1&&(p=o.height),{x:h.offsetLeft,y:h.offsetTop,width:l,height:p}}function yo(h,o){var l=o.getRootNode&&o.getRootNode();if(h.contains(o))return!0;if(l&&mi(l)){var p=o;do{if(p&&h.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function gt(h){return Ze(h).getComputedStyle(h)}function Gl(h){return["table","td","th"].indexOf(lt(h))>=0}function kt(h){return((jt(h)?h.ownerDocument:h.document)||window.document).documentElement}function gr(h){return lt(h)==="html"?h:h.assignedSlot||h.parentNode||(mi(h)?h.host:null)||kt(h)}function bo(h){return et(h)&&gt(h).position!=="fixed"?h.offsetParent:null}function Fn(h){for(var o=Ze(h),l=bo(h);l&&Gl(l)&&gt(l).position==="static";)l=bo(l);return l&&(lt(l)==="html"||lt(l)==="body"&&gt(l).position==="static")?o:l||function(p){var y=/firefox/i.test(yi());if(/Trident/i.test(yi())&&et(p)&&gt(p).position==="fixed")return null;var w=gr(p);for(mi(w)&&(w=w.host);et(w)&&["html","body"].indexOf(lt(w))<0;){var P=gt(w);if(P.transform!=="none"||P.perspective!=="none"||P.contain==="paint"||["transform","perspective"].indexOf(P.willChange)!==-1||y&&P.willChange==="filter"||y&&P.filter&&P.filter!=="none")return w;w=w.parentNode}return null}(h)||o}function _i(h){return["top","bottom"].indexOf(h)>=0?"x":"y"}function Bn(h,o,l){return qt(h,mr(o,l))}function _o(h){return Object.assign({},{top:0,right:0,bottom:0,left:0},h)}function wo(h,o){return o.reduce(function(l,p){return l[p]=h,l},{})}const Eo={name:"arrow",enabled:!0,phase:"main",fn:function(h){var o,l=h.state,p=h.name,y=h.options,w=l.elements.arrow,P=l.modifiersData.popperOffsets,D=ut(l.placement),N=_i(D),q=[$e,Je].indexOf(D)>=0?"height":"width";if(w&&P){var V=function(me,de){return _o(typeof(me=typeof me=="function"?me(Object.assign({},de.rects,{placement:de.placement})):me)!="number"?me:wo(me,sn))}(y.padding,l),F=bi(w),te=N==="y"?Qe:$e,K=N==="y"?Ye:Je,J=l.rects.reference[q]+l.rects.reference[N]-P[N]-l.rects.popper[q],G=P[N]-l.rects.reference[N],X=Fn(w),ve=X?N==="y"?X.clientHeight||0:X.clientWidth||0:0,be=J/2-G/2,re=V[te],ue=ve-F[q]-V[K],ne=ve/2-F[q]/2+be,oe=Bn(re,ne,ue),he=N;l.modifiersData[p]=((o={})[he]=oe,o.centerOffset=oe-ne,o)}},effect:function(h){var o=h.state,l=h.options.element,p=l===void 0?"[data-popper-arrow]":l;p!=null&&(typeof p!="string"||(p=o.elements.popper.querySelector(p)))&&yo(o.elements.popper,p)&&(o.elements.arrow=p)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function un(h){return h.split("-")[1]}var Yl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function To(h){var o,l=h.popper,p=h.popperRect,y=h.placement,w=h.variation,P=h.offsets,D=h.position,N=h.gpuAcceleration,q=h.adaptive,V=h.roundOffsets,F=h.isFixed,te=P.x,K=te===void 0?0:te,J=P.y,G=J===void 0?0:J,X=typeof V=="function"?V({x:K,y:G}):{x:K,y:G};K=X.x,G=X.y;var ve=P.hasOwnProperty("x"),be=P.hasOwnProperty("y"),re=$e,ue=Qe,ne=window;if(q){var oe=Fn(l),he="clientHeight",me="clientWidth";oe===Ze(l)&&gt(oe=kt(l)).position!=="static"&&D==="absolute"&&(he="scrollHeight",me="scrollWidth"),(y===Qe||(y===$e||y===Je)&&w===on)&&(ue=Ye,G-=(F&&oe===ne&&ne.visualViewport?ne.visualViewport.height:oe[he])-p.height,G*=N?1:-1),y!==$e&&(y!==Qe&&y!==Ye||w!==on)||(re=Je,K-=(F&&oe===ne&&ne.visualViewport?ne.visualViewport.width:oe[me])-p.width,K*=N?1:-1)}var de,ke=Object.assign({position:D},q&&Yl),Xe=V===!0?function(ot){var Ue=ot.x,tt=ot.y,ze=window.devicePixelRatio||1;return{x:cn(Ue*ze)/ze||0,y:cn(tt*ze)/ze||0}}({x:K,y:G}):{x:K,y:G};return K=Xe.x,G=Xe.y,N?Object.assign({},ke,((de={})[ue]=be?"0":"",de[re]=ve?"0":"",de.transform=(ne.devicePixelRatio||1)<=1?"translate("+K+"px, "+G+"px)":"translate3d("+K+"px, "+G+"px, 0)",de)):Object.assign({},ke,((o={})[ue]=be?G+"px":"",o[re]=ve?K+"px":"",o.transform="",o))}const wi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(h){var o=h.state,l=h.options,p=l.gpuAcceleration,y=p===void 0||p,w=l.adaptive,P=w===void 0||w,D=l.roundOffsets,N=D===void 0||D,q={placement:ut(o.placement),variation:un(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:y,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,To(Object.assign({},q,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:P,roundOffsets:N})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,To(Object.assign({},q,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:N})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})},data:{}};var yr={passive:!0};const Ei={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(h){var o=h.state,l=h.instance,p=h.options,y=p.scroll,w=y===void 0||y,P=p.resize,D=P===void 0||P,N=Ze(o.elements.popper),q=[].concat(o.scrollParents.reference,o.scrollParents.popper);return w&&q.forEach(function(V){V.addEventListener("scroll",l.update,yr)}),D&&N.addEventListener("resize",l.update,yr),function(){w&&q.forEach(function(V){V.removeEventListener("scroll",l.update,yr)}),D&&N.removeEventListener("resize",l.update,yr)}},data:{}};var Jl={left:"right",right:"left",bottom:"top",top:"bottom"};function br(h){return h.replace(/left|right|bottom|top/g,function(o){return Jl[o]})}var Xl={start:"end",end:"start"};function xo(h){return h.replace(/start|end/g,function(o){return Xl[o]})}function Ti(h){var o=Ze(h);return{scrollLeft:o.pageXOffset,scrollTop:o.pageYOffset}}function xi(h){return ln(kt(h)).left+Ti(h).scrollLeft}function ki(h){var o=gt(h),l=o.overflow,p=o.overflowX,y=o.overflowY;return/auto|scroll|overlay|hidden/.test(l+y+p)}function ko(h){return["html","body","#document"].indexOf(lt(h))>=0?h.ownerDocument.body:et(h)&&ki(h)?h:ko(gr(h))}function jn(h,o){var l;o===void 0&&(o=[]);var p=ko(h),y=p===((l=h.ownerDocument)==null?void 0:l.body),w=Ze(p),P=y?[w].concat(w.visualViewport||[],ki(p)?p:[]):p,D=o.concat(P);return y?D:D.concat(jn(gr(P)))}function Pi(h){return Object.assign({},h,{left:h.x,top:h.y,right:h.x+h.width,bottom:h.y+h.height})}function Po(h,o,l){return o===di?Pi(function(p,y){var w=Ze(p),P=kt(p),D=w.visualViewport,N=P.clientWidth,q=P.clientHeight,V=0,F=0;if(D){N=D.width,q=D.height;var te=go();(te||!te&&y==="fixed")&&(V=D.offsetLeft,F=D.offsetTop)}return{width:N,height:q,x:V+xi(p),y:F}}(h,l)):jt(o)?function(p,y){var w=ln(p,!1,y==="fixed");return w.top=w.top+p.clientTop,w.left=w.left+p.clientLeft,w.bottom=w.top+p.clientHeight,w.right=w.left+p.clientWidth,w.width=p.clientWidth,w.height=p.clientHeight,w.x=w.left,w.y=w.top,w}(o,l):Pi(function(p){var y,w=kt(p),P=Ti(p),D=(y=p.ownerDocument)==null?void 0:y.body,N=qt(w.scrollWidth,w.clientWidth,D?D.scrollWidth:0,D?D.clientWidth:0),q=qt(w.scrollHeight,w.clientHeight,D?D.scrollHeight:0,D?D.clientHeight:0),V=-P.scrollLeft+xi(p),F=-P.scrollTop;return gt(D||w).direction==="rtl"&&(V+=qt(w.clientWidth,D?D.clientWidth:0)-N),{width:N,height:q,x:V,y:F}}(kt(h)))}function Oo(h){var o,l=h.reference,p=h.element,y=h.placement,w=y?ut(y):null,P=y?un(y):null,D=l.x+l.width/2-p.width/2,N=l.y+l.height/2-p.height/2;switch(w){case Qe:o={x:D,y:l.y-p.height};break;case Ye:o={x:D,y:l.y+l.height};break;case Je:o={x:l.x+l.width,y:N};break;case $e:o={x:l.x-p.width,y:N};break;default:o={x:l.x,y:l.y}}var q=w?_i(w):null;if(q!=null){var V=q==="y"?"height":"width";switch(P){case Bt:o[q]=o[q]-(l[V]/2-p[V]/2);break;case on:o[q]=o[q]+(l[V]/2-p[V]/2)}}return o}function fn(h,o){o===void 0&&(o={});var l=o,p=l.placement,y=p===void 0?h.placement:p,w=l.strategy,P=w===void 0?h.strategy:w,D=l.boundary,N=D===void 0?io:D,q=l.rootBoundary,V=q===void 0?di:q,F=l.elementContext,te=F===void 0?an:F,K=l.altBoundary,J=K!==void 0&&K,G=l.padding,X=G===void 0?0:G,ve=_o(typeof X!="number"?X:wo(X,sn)),be=te===an?so:an,re=h.rects.popper,ue=h.elements[J?be:te],ne=function(Ue,tt,ze,Me){var ft=tt==="clippingParents"?function(ye){var We=jn(gr(ye)),nt=["absolute","fixed"].indexOf(gt(ye).position)>=0&&et(ye)?Fn(ye):ye;return jt(nt)?We.filter(function(Pt){return jt(Pt)&&yo(Pt,nt)&&lt(Pt)!=="body"}):[]}(Ue):[].concat(tt),ht=[].concat(ft,[ze]),hn=ht[0],Ae=ht.reduce(function(ye,We){var nt=Po(Ue,We,Me);return ye.top=qt(nt.top,ye.top),ye.right=mr(nt.right,ye.right),ye.bottom=mr(nt.bottom,ye.bottom),ye.left=qt(nt.left,ye.left),ye},Po(Ue,hn,Me));return Ae.width=Ae.right-Ae.left,Ae.height=Ae.bottom-Ae.top,Ae.x=Ae.left,Ae.y=Ae.top,Ae}(jt(ue)?ue:ue.contextElement||kt(h.elements.popper),N,V,P),oe=ln(h.elements.reference),he=Oo({reference:oe,element:re,strategy:"absolute",placement:y}),me=Pi(Object.assign({},re,he)),de=te===an?me:oe,ke={top:ne.top-de.top+ve.top,bottom:de.bottom-ne.bottom+ve.bottom,left:ne.left-de.left+ve.left,right:de.right-ne.right+ve.right},Xe=h.modifiersData.offset;if(te===an&&Xe){var ot=Xe[y];Object.keys(ke).forEach(function(Ue){var tt=[Je,Ye].indexOf(Ue)>=0?1:-1,ze=[Qe,Ye].indexOf(Ue)>=0?"y":"x";ke[Ue]+=ot[ze]*tt})}return ke}function Zl(h,o){o===void 0&&(o={});var l=o,p=l.placement,y=l.boundary,w=l.rootBoundary,P=l.padding,D=l.flipVariations,N=l.allowedAutoPlacements,q=N===void 0?vi:N,V=un(p),F=V?D?pi:pi.filter(function(J){return un(J)===V}):sn,te=F.filter(function(J){return q.indexOf(J)>=0});te.length===0&&(te=F);var K=te.reduce(function(J,G){return J[G]=fn(h,{placement:G,boundary:y,rootBoundary:w,padding:P})[ut(G)],J},{});return Object.keys(K).sort(function(J,G){return K[J]-K[G]})}const So={name:"flip",enabled:!0,phase:"main",fn:function(h){var o=h.state,l=h.options,p=h.name;if(!o.modifiersData[p]._skip){for(var y=l.mainAxis,w=y===void 0||y,P=l.altAxis,D=P===void 0||P,N=l.fallbackPlacements,q=l.padding,V=l.boundary,F=l.rootBoundary,te=l.altBoundary,K=l.flipVariations,J=K===void 0||K,G=l.allowedAutoPlacements,X=o.options.placement,ve=ut(X),be=N||(ve!==X&&J?function(ye){if(ut(ye)===vr)return[];var We=br(ye);return[xo(ye),We,xo(We)]}(X):[br(X)]),re=[X].concat(be).reduce(function(ye,We){return ye.concat(ut(We)===vr?Zl(o,{placement:We,boundary:V,rootBoundary:F,padding:q,flipVariations:J,allowedAutoPlacements:G}):We)},[]),ue=o.rects.reference,ne=o.rects.popper,oe=new Map,he=!0,me=re[0],de=0;de<re.length;de++){var ke=re[de],Xe=ut(ke),ot=un(ke)===Bt,Ue=[Qe,Ye].indexOf(Xe)>=0,tt=Ue?"width":"height",ze=fn(o,{placement:ke,boundary:V,rootBoundary:F,altBoundary:te,padding:q}),Me=Ue?ot?Je:$e:ot?Ye:Qe;ue[tt]>ne[tt]&&(Me=br(Me));var ft=br(Me),ht=[];if(w&&ht.push(ze[Xe]<=0),D&&ht.push(ze[Me]<=0,ze[ft]<=0),ht.every(function(ye){return ye})){me=ke,he=!1;break}oe.set(ke,ht)}if(he)for(var hn=function(ye){var We=re.find(function(nt){var Pt=oe.get(nt);if(Pt)return Pt.slice(0,ye).every(function(Ir){return Ir})});if(We)return me=We,"break"},Ae=J?3:1;Ae>0&&hn(Ae)!=="break";Ae--);o.placement!==me&&(o.modifiersData[p]._skip=!0,o.placement=me,o.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Io(h,o,l){return l===void 0&&(l={x:0,y:0}),{top:h.top-o.height-l.y,right:h.right-o.width+l.x,bottom:h.bottom-o.height+l.y,left:h.left-o.width-l.x}}function Co(h){return[Qe,Je,Ye,$e].some(function(o){return h[o]>=0})}const Ao={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(h){var o=h.state,l=h.name,p=o.rects.reference,y=o.rects.popper,w=o.modifiersData.preventOverflow,P=fn(o,{elementContext:"reference"}),D=fn(o,{altBoundary:!0}),N=Io(P,p),q=Io(D,y,w),V=Co(N),F=Co(q);o.modifiersData[l]={referenceClippingOffsets:N,popperEscapeOffsets:q,isReferenceHidden:V,hasPopperEscaped:F},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":V,"data-popper-escaped":F})}},Do={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(h){var o=h.state,l=h.options,p=h.name,y=l.offset,w=y===void 0?[0,0]:y,P=vi.reduce(function(V,F){return V[F]=function(te,K,J){var G=ut(te),X=[$e,Qe].indexOf(G)>=0?-1:1,ve=typeof J=="function"?J(Object.assign({},K,{placement:te})):J,be=ve[0],re=ve[1];return be=be||0,re=(re||0)*X,[$e,Je].indexOf(G)>=0?{x:re,y:be}:{x:be,y:re}}(F,o.rects,w),V},{}),D=P[o.placement],N=D.x,q=D.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=N,o.modifiersData.popperOffsets.y+=q),o.modifiersData[p]=P}},Oi={name:"popperOffsets",enabled:!0,phase:"read",fn:function(h){var o=h.state,l=h.name;o.modifiersData[l]=Oo({reference:o.rects.reference,element:o.rects.popper,strategy:"absolute",placement:o.placement})},data:{}},No={name:"preventOverflow",enabled:!0,phase:"main",fn:function(h){var o=h.state,l=h.options,p=h.name,y=l.mainAxis,w=y===void 0||y,P=l.altAxis,D=P!==void 0&&P,N=l.boundary,q=l.rootBoundary,V=l.altBoundary,F=l.padding,te=l.tether,K=te===void 0||te,J=l.tetherOffset,G=J===void 0?0:J,X=fn(o,{boundary:N,rootBoundary:q,padding:F,altBoundary:V}),ve=ut(o.placement),be=un(o.placement),re=!be,ue=_i(ve),ne=ue==="x"?"y":"x",oe=o.modifiersData.popperOffsets,he=o.rects.reference,me=o.rects.popper,de=typeof G=="function"?G(Object.assign({},o.rects,{placement:o.placement})):G,ke=typeof de=="number"?{mainAxis:de,altAxis:de}:Object.assign({mainAxis:0,altAxis:0},de),Xe=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,ot={x:0,y:0};if(oe){if(w){var Ue,tt=ue==="y"?Qe:$e,ze=ue==="y"?Ye:Je,Me=ue==="y"?"height":"width",ft=oe[ue],ht=ft+X[tt],hn=ft-X[ze],Ae=K?-me[Me]/2:0,ye=be===Bt?he[Me]:me[Me],We=be===Bt?-me[Me]:-he[Me],nt=o.elements.arrow,Pt=K&&nt?bi(nt):{width:0,height:0},Ir=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ga=Ir[tt],ya=Ir[ze],Cr=Bn(0,he[Me],Pt[Me]),Qu=re?he[Me]/2-Ae-Cr-ga-ke.mainAxis:ye-Cr-ga-ke.mainAxis,$u=re?-he[Me]/2+Ae+Cr+ya+ke.mainAxis:We+Cr+ya+ke.mainAxis,Li=o.elements.arrow&&Fn(o.elements.arrow),Uu=Li?ue==="y"?Li.clientTop||0:Li.clientLeft||0:0,ba=(Ue=Xe?.[ue])!=null?Ue:0,zu=ft+$u-ba,_a=Bn(K?mr(ht,ft+Qu-ba-Uu):ht,ft,K?qt(hn,zu):hn);oe[ue]=_a,ot[ue]=_a-ft}if(D){var wa,Wu=ue==="x"?Qe:$e,Hu=ue==="x"?Ye:Je,zt=oe[ne],Ar=ne==="y"?"height":"width",Ea=zt+X[Wu],Ta=zt-X[Hu],Ri=[Qe,$e].indexOf(ve)!==-1,xa=(wa=Xe?.[ne])!=null?wa:0,ka=Ri?Ea:zt-he[Ar]-me[Ar]-xa+ke.altAxis,Pa=Ri?zt+he[Ar]+me[Ar]-xa-ke.altAxis:Ta,Oa=K&&Ri?function(Ku,Gu,Mi){var Sa=Bn(Ku,Gu,Mi);return Sa>Mi?Mi:Sa}(ka,zt,Pa):Bn(K?ka:Ea,zt,K?Pa:Ta);oe[ne]=Oa,ot[ne]=Oa-zt}o.modifiersData[p]=ot}},requiresIfExists:["offset"]};function eu(h,o,l){l===void 0&&(l=!1);var p,y,w=et(o),P=et(o)&&function(F){var te=F.getBoundingClientRect(),K=cn(te.width)/F.offsetWidth||1,J=cn(te.height)/F.offsetHeight||1;return K!==1||J!==1}(o),D=kt(o),N=ln(h,P,l),q={scrollLeft:0,scrollTop:0},V={x:0,y:0};return(w||!w&&!l)&&((lt(o)!=="body"||ki(D))&&(q=(p=o)!==Ze(p)&&et(p)?{scrollLeft:(y=p).scrollLeft,scrollTop:y.scrollTop}:Ti(p)),et(o)?((V=ln(o,!0)).x+=o.clientLeft,V.y+=o.clientTop):D&&(V.x=xi(D))),{x:N.left+q.scrollLeft-V.x,y:N.top+q.scrollTop-V.y,width:N.width,height:N.height}}function tu(h){var o=new Map,l=new Set,p=[];function y(w){l.add(w.name),[].concat(w.requires||[],w.requiresIfExists||[]).forEach(function(P){if(!l.has(P)){var D=o.get(P);D&&y(D)}}),p.push(w)}return h.forEach(function(w){o.set(w.name,w)}),h.forEach(function(w){l.has(w.name)||y(w)}),p}var Lo={placement:"bottom",modifiers:[],strategy:"absolute"};function Ro(){for(var h=arguments.length,o=new Array(h),l=0;l<h;l++)o[l]=arguments[l];return!o.some(function(p){return!(p&&typeof p.getBoundingClientRect=="function")})}function _r(h){h===void 0&&(h={});var o=h,l=o.defaultModifiers,p=l===void 0?[]:l,y=o.defaultOptions,w=y===void 0?Lo:y;return function(P,D,N){N===void 0&&(N=w);var q,V,F={placement:"bottom",orderedModifiers:[],options:Object.assign({},Lo,w),modifiersData:{},elements:{reference:P,popper:D},attributes:{},styles:{}},te=[],K=!1,J={state:F,setOptions:function(X){var ve=typeof X=="function"?X(F.options):X;G(),F.options=Object.assign({},w,F.options,ve),F.scrollParents={reference:jt(P)?jn(P):P.contextElement?jn(P.contextElement):[],popper:jn(D)};var be,re,ue=function(ne){var oe=tu(ne);return mo.reduce(function(he,me){return he.concat(oe.filter(function(de){return de.phase===me}))},[])}((be=[].concat(p,F.options.modifiers),re=be.reduce(function(ne,oe){var he=ne[oe.name];return ne[oe.name]=he?Object.assign({},he,oe,{options:Object.assign({},he.options,oe.options),data:Object.assign({},he.data,oe.data)}):oe,ne},{}),Object.keys(re).map(function(ne){return re[ne]})));return F.orderedModifiers=ue.filter(function(ne){return ne.enabled}),F.orderedModifiers.forEach(function(ne){var oe=ne.name,he=ne.options,me=he===void 0?{}:he,de=ne.effect;if(typeof de=="function"){var ke=de({state:F,name:oe,instance:J,options:me});te.push(ke||function(){})}}),J.update()},forceUpdate:function(){if(!K){var X=F.elements,ve=X.reference,be=X.popper;if(Ro(ve,be)){F.rects={reference:eu(ve,Fn(be),F.options.strategy==="fixed"),popper:bi(be)},F.reset=!1,F.placement=F.options.placement,F.orderedModifiers.forEach(function(de){return F.modifiersData[de.name]=Object.assign({},de.data)});for(var re=0;re<F.orderedModifiers.length;re++)if(F.reset!==!0){var ue=F.orderedModifiers[re],ne=ue.fn,oe=ue.options,he=oe===void 0?{}:oe,me=ue.name;typeof ne=="function"&&(F=ne({state:F,options:he,name:me,instance:J})||F)}else F.reset=!1,re=-1}}},update:(q=function(){return new Promise(function(X){J.forceUpdate(),X(F)})},function(){return V||(V=new Promise(function(X){Promise.resolve().then(function(){V=void 0,X(q())})})),V}),destroy:function(){G(),K=!0}};if(!Ro(P,D))return J;function G(){te.forEach(function(X){return X()}),te=[]}return J.setOptions(N).then(function(X){!K&&N.onFirstUpdate&&N.onFirstUpdate(X)}),J}}var nu=_r(),ru=_r({defaultModifiers:[Ei,Oi,wi,gi]}),Si=_r({defaultModifiers:[Ei,Oi,wi,gi,Do,So,No,Eo,Ao]});const Mo=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:_r,detectOverflow:fn,createPopperBase:nu,createPopper:Si,createPopperLite:ru,top:Qe,bottom:Ye,right:Je,left:$e,auto:vr,basePlacements:sn,start:Bt,end:on,clippingParents:io,viewport:di,popper:an,reference:so,variationPlacements:pi,placements:vi,beforeRead:oo,read:ao,afterRead:co,beforeMain:lo,main:uo,afterMain:fo,beforeWrite:ho,write:po,afterWrite:vo,modifierPhases:mo,applyStyles:gi,arrow:Eo,computeStyles:wi,eventListeners:Ei,flip:So,hide:Ao,offset:Do,popperOffsets:Oi,preventOverflow:No},Symbol.toStringTag,{value:"Module"})),Fo="dropdown",iu="ArrowUp",Bo="ArrowDown",jo="click.bs.dropdown.data-api",qo="keydown.bs.dropdown.data-api",qn="show",Vt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',su=`${Vt}.show`,wr=".dropdown-menu",ou=k()?"top-end":"top-start",au=k()?"top-start":"top-end",cu=k()?"bottom-end":"bottom-start",lu=k()?"bottom-start":"bottom-end",uu=k()?"left-start":"right-start",fu=k()?"right-start":"left-start",hu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},du={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class st extends Ke{constructor(o,l){super(o,l),this._popper=null,this._parent=this._element.parentNode,this._menu=ee.next(this._element,wr)[0]||ee.prev(this._element,wr)[0]||ee.findOne(wr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return hu}static get DefaultType(){return du}static get NAME(){return Fo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const o={relatedTarget:this._element};if(!O.trigger(this._element,"show.bs.dropdown",o).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const l of[].concat(...document.body.children))O.on(l,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(qn),this._element.classList.add(qn),O.trigger(this._element,"shown.bs.dropdown",o)}}hide(){if(d(this._element)||!this._isShown())return;const o={relatedTarget:this._element};this._completeHide(o)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(o){if(!O.trigger(this._element,"hide.bs.dropdown",o).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))O.off(l,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(qn),this._element.classList.remove(qn),this._element.setAttribute("aria-expanded","false"),je.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,"hidden.bs.dropdown",o)}}_getConfig(o){if(typeof(o=super._getConfig(o)).reference=="object"&&!c(o.reference)&&typeof o.reference.getBoundingClientRect!="function")throw new TypeError(`${Fo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return o}_createPopper(){if(Mo===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let o=this._element;this._config.reference==="parent"?o=this._parent:c(this._config.reference)?o=u(this._config.reference):typeof this._config.reference=="object"&&(o=this._config.reference);const l=this._getPopperConfig();this._popper=Si(o,this._menu,l)}_isShown(){return this._menu.classList.contains(qn)}_getPlacement(){const o=this._parent;if(o.classList.contains("dropend"))return uu;if(o.classList.contains("dropstart"))return fu;if(o.classList.contains("dropup-center"))return"top";if(o.classList.contains("dropdown-center"))return"bottom";const l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return o.classList.contains("dropup")?l?au:ou:l?lu:cu}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:o}=this._config;return typeof o=="string"?o.split(",").map(l=>Number.parseInt(l,10)):typeof o=="function"?l=>o(l,this._element):o}_getPopperConfig(){const o={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(je.setDataAttribute(this._menu,"popper","static"),o.modifiers=[{name:"applyStyles",enabled:!1}]),{...o,...typeof this._config.popperConfig=="function"?this._config.popperConfig(o):this._config.popperConfig}}_selectMenuItem({key:o,target:l}){const p=ee.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(y=>f(y));p.length&&A(p,l,o===Bo,!p.includes(l)).focus()}static jQueryInterface(o){return this.each(function(){const l=st.getOrCreateInstance(this,o);if(typeof o=="string"){if(l[o]===void 0)throw new TypeError(`No method named "${o}"`);l[o]()}})}static clearMenus(o){if(o.button===2||o.type==="keyup"&&o.key!=="Tab")return;const l=ee.find(su);for(const p of l){const y=st.getInstance(p);if(!y||y._config.autoClose===!1)continue;const w=o.composedPath(),P=w.includes(y._menu);if(w.includes(y._element)||y._config.autoClose==="inside"&&!P||y._config.autoClose==="outside"&&P||y._menu.contains(o.target)&&(o.type==="keyup"&&o.key==="Tab"||/input|select|option|textarea|form/i.test(o.target.tagName)))continue;const D={relatedTarget:y._element};o.type==="click"&&(D.clickEvent=o),y._completeHide(D)}}static dataApiKeydownHandler(o){const l=/input|textarea/i.test(o.target.tagName),p=o.key==="Escape",y=[iu,Bo].includes(o.key);if(!y&&!p||l&&!p)return;o.preventDefault();const w=this.matches(Vt)?this:ee.prev(this,Vt)[0]||ee.next(this,Vt)[0]||ee.findOne(Vt,o.delegateTarget.parentNode),P=st.getOrCreateInstance(w);if(y)return o.stopPropagation(),P.show(),void P._selectMenuItem(o);P._isShown()&&(o.stopPropagation(),P.hide(),w.focus())}}O.on(document,qo,Vt,st.dataApiKeydownHandler),O.on(document,qo,wr,st.dataApiKeydownHandler),O.on(document,jo,st.clearMenus),O.on(document,"keyup.bs.dropdown.data-api",st.clearMenus),O.on(document,jo,Vt,function(h){h.preventDefault(),st.getOrCreateInstance(this).toggle()}),C(st);const Vo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Qo=".sticky-top",Er="padding-right",$o="margin-right";class Ii{constructor(){this._element=document.body}getWidth(){const o=document.documentElement.clientWidth;return Math.abs(window.innerWidth-o)}hide(){const o=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Er,l=>l+o),this._setElementAttributes(Vo,Er,l=>l+o),this._setElementAttributes(Qo,$o,l=>l-o)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Er),this._resetElementAttributes(Vo,Er),this._resetElementAttributes(Qo,$o)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(o,l,p){const y=this.getWidth();this._applyManipulationCallback(o,w=>{if(w!==this._element&&window.innerWidth>w.clientWidth+y)return;this._saveInitialAttribute(w,l);const P=window.getComputedStyle(w).getPropertyValue(l);w.style.setProperty(l,`${p(Number.parseFloat(P))}px`)})}_saveInitialAttribute(o,l){const p=o.style.getPropertyValue(l);p&&je.setDataAttribute(o,l,p)}_resetElementAttributes(o,l){this._applyManipulationCallback(o,p=>{const y=je.getDataAttribute(p,l);y!==null?(je.removeDataAttribute(p,l),p.style.setProperty(l,y)):p.style.removeProperty(l)})}_applyManipulationCallback(o,l){if(c(o))l(o);else for(const p of ee.find(o,this._element))l(p)}}const Uo="show",zo="mousedown.bs.backdrop",pu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},vu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Wo extends mt{constructor(o){super(),this._config=this._getConfig(o),this._isAppended=!1,this._element=null}static get Default(){return pu}static get DefaultType(){return vu}static get NAME(){return"backdrop"}show(o){if(!this._config.isVisible)return void x(o);this._append();const l=this._getElement();this._config.isAnimated&&g(l),l.classList.add(Uo),this._emulateAnimation(()=>{x(o)})}hide(o){this._config.isVisible?(this._getElement().classList.remove(Uo),this._emulateAnimation(()=>{this.dispose(),x(o)})):x(o)}dispose(){this._isAppended&&(O.off(this._element,zo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const o=document.createElement("div");o.className=this._config.className,this._config.isAnimated&&o.classList.add("fade"),this._element=o}return this._element}_configAfterMerge(o){return o.rootElement=u(o.rootElement),o}_append(){if(this._isAppended)return;const o=this._getElement();this._config.rootElement.append(o),O.on(o,zo,()=>{x(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(o){T(o,this._getElement(),this._config.isAnimated)}}const Ho=".bs.focustrap",Ko="backward",mu={autofocus:!0,trapElement:null},gu={autofocus:"boolean",trapElement:"element"};class Go extends mt{constructor(o){super(),this._config=this._getConfig(o),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return mu}static get DefaultType(){return gu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,Ho),O.on(document,"focusin.bs.focustrap",o=>this._handleFocusin(o)),O.on(document,"keydown.tab.bs.focustrap",o=>this._handleKeydown(o)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,Ho))}_handleFocusin(o){const{trapElement:l}=this._config;if(o.target===document||o.target===l||l.contains(o.target))return;const p=ee.focusableChildren(l);p.length===0?l.focus():this._lastTabNavDirection===Ko?p[p.length-1].focus():p[0].focus()}_handleKeydown(o){o.key==="Tab"&&(this._lastTabNavDirection=o.shiftKey?Ko:"forward")}}const Yo="hidden.bs.modal",Jo="show.bs.modal",Xo="modal-open",Zo="show",Ci="modal-static",yu={backdrop:!0,focus:!0,keyboard:!0},bu={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Qt extends Ke{constructor(o,l){super(o,l),this._dialog=ee.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ii,this._addEventListeners()}static get Default(){return yu}static get DefaultType(){return bu}static get NAME(){return"modal"}toggle(o){return this._isShown?this.hide():this.show(o)}show(o){this._isShown||this._isTransitioning||O.trigger(this._element,Jo,{relatedTarget:o}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Xo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(o)))}hide(){this._isShown&&!this._isTransitioning&&(O.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Zo),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const o of[window,this._dialog])O.off(o,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Wo({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Go({trapElement:this._element})}_showElement(o){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=ee.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),g(this._element),this._element.classList.add(Zo),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,"shown.bs.modal",{relatedTarget:o})},this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,"keydown.dismiss.bs.modal",o=>{if(o.key==="Escape")return this._config.keyboard?(o.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),O.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,"mousedown.dismiss.bs.modal",o=>{O.one(this._element,"click.dismiss.bs.modal",l=>{this._element===o.target&&this._element===l.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Xo),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,Yo)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(O.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const o=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(Ci)||(o||(this._element.style.overflowY="hidden"),this._element.classList.add(Ci),this._queueCallback(()=>{this._element.classList.remove(Ci),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const o=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),p=l>0;if(p&&!o){const y=k()?"paddingLeft":"paddingRight";this._element.style[y]=`${l}px`}if(!p&&o){const y=k()?"paddingRight":"paddingLeft";this._element.style[y]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(o,l){return this.each(function(){const p=Qt.getOrCreateInstance(this,o);if(typeof o=="string"){if(p[o]===void 0)throw new TypeError(`No method named "${o}"`);p[o](l)}})}}O.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(h){const o=s(this);["A","AREA"].includes(this.tagName)&&h.preventDefault(),O.one(o,Jo,p=>{p.defaultPrevented||O.one(o,Yo,()=>{f(this)&&this.focus()})});const l=ee.findOne(".modal.show");l&&Qt.getInstance(l).hide(),Qt.getOrCreateInstance(o).toggle(this)}),Ft(Qt),C(Qt);const ea="show",ta="showing",na="hiding",ra=".offcanvas.show",ia="hidePrevented.bs.offcanvas",sa="hidden.bs.offcanvas",_u={backdrop:!0,keyboard:!0,scroll:!1},wu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class yt extends Ke{constructor(o,l){super(o,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return _u}static get DefaultType(){return wu}static get NAME(){return"offcanvas"}toggle(o){return this._isShown?this.hide():this.show(o)}show(o){this._isShown||O.trigger(this._element,"show.bs.offcanvas",{relatedTarget:o}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ii().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ta),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(ea),this._element.classList.remove(ta),O.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:o})},this._element,!0))}hide(){this._isShown&&(O.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(na),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(ea,na),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ii().reset(),O.trigger(this._element,sa)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const o=Boolean(this._config.backdrop);return new Wo({className:"offcanvas-backdrop",isVisible:o,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:o?()=>{this._config.backdrop!=="static"?this.hide():O.trigger(this._element,ia)}:null})}_initializeFocusTrap(){return new Go({trapElement:this._element})}_addEventListeners(){O.on(this._element,"keydown.dismiss.bs.offcanvas",o=>{o.key==="Escape"&&(this._config.keyboard?this.hide():O.trigger(this._element,ia))})}static jQueryInterface(o){return this.each(function(){const l=yt.getOrCreateInstance(this,o);if(typeof o=="string"){if(l[o]===void 0||o.startsWith("_")||o==="constructor")throw new TypeError(`No method named "${o}"`);l[o](this)}})}}O.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(h){const o=s(this);if(["A","AREA"].includes(this.tagName)&&h.preventDefault(),d(this))return;O.one(o,sa,()=>{f(this)&&this.focus()});const l=ee.findOne(ra);l&&l!==o&&yt.getInstance(l).hide(),yt.getOrCreateInstance(o).toggle(this)}),O.on(window,"load.bs.offcanvas.data-api",()=>{for(const h of ee.find(ra))yt.getOrCreateInstance(h).show()}),O.on(window,"resize.bs.offcanvas",()=>{for(const h of ee.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(h).position!=="fixed"&&yt.getOrCreateInstance(h).hide()}),Ft(yt),C(yt);const Eu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Tu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,xu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,ku=(h,o)=>{const l=h.nodeName.toLowerCase();return o.includes(l)?!Eu.has(l)||Boolean(Tu.test(h.nodeValue)||xu.test(h.nodeValue)):o.filter(p=>p instanceof RegExp).some(p=>p.test(l))},oa={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Pu={allowList:oa,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ou={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Su={entry:"(string|element|function|null)",selector:"(string|element)"};class Iu extends mt{constructor(o){super(),this._config=this._getConfig(o)}static get Default(){return Pu}static get DefaultType(){return Ou}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(o=>this._resolvePossibleFunction(o)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(o){return this._checkContent(o),this._config.content={...this._config.content,...o},this}toHtml(){const o=document.createElement("div");o.innerHTML=this._maybeSanitize(this._config.template);for(const[y,w]of Object.entries(this._config.content))this._setContent(o,w,y);const l=o.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&l.classList.add(...p.split(" ")),l}_typeCheckConfig(o){super._typeCheckConfig(o),this._checkContent(o.content)}_checkContent(o){for(const[l,p]of Object.entries(o))super._typeCheckConfig({selector:l,entry:p},Su)}_setContent(o,l,p){const y=ee.findOne(p,o);y&&((l=this._resolvePossibleFunction(l))?c(l)?this._putElementInTemplate(u(l),y):this._config.html?y.innerHTML=this._maybeSanitize(l):y.textContent=l:y.remove())}_maybeSanitize(o){return this._config.sanitize?function(l,p,y){if(!l.length)return l;if(y&&typeof y=="function")return y(l);const w=new window.DOMParser().parseFromString(l,"text/html"),P=[].concat(...w.body.querySelectorAll("*"));for(const D of P){const N=D.nodeName.toLowerCase();if(!Object.keys(p).includes(N)){D.remove();continue}const q=[].concat(...D.attributes),V=[].concat(p["*"]||[],p[N]||[]);for(const F of q)ku(F,V)||D.removeAttribute(F.nodeName)}return w.body.innerHTML}(o,this._config.allowList,this._config.sanitizeFn):o}_resolvePossibleFunction(o){return typeof o=="function"?o(this):o}_putElementInTemplate(o,l){if(this._config.html)return l.innerHTML="",void l.append(o);l.textContent=o.textContent}}const Cu=new Set(["sanitize","allowList","sanitizeFn"]),Ai="fade",Tr="show",aa=".modal",ca="hide.bs.modal",xr="hover",la="focus",Au={AUTO:"auto",TOP:"top",RIGHT:k()?"left":"right",BOTTOM:"bottom",LEFT:k()?"right":"left"},Du={allowList:oa,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Nu={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class $t extends Ke{constructor(o,l){if(Mo===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(o,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Du}static get DefaultType(){return Nu}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(aa),ca,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const o=O.trigger(this._element,this.constructor.eventName("show")),l=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(o.defaultPrevented||!l)return;this._disposePopper();const p=this._getTipElement();this._element.setAttribute("aria-describedby",p.getAttribute("id"));const{container:y}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(y.append(p),O.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(p),p.classList.add(Tr),"ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))O.on(w,"mouseover",v);this._queueCallback(()=>{O.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!O.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Tr),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))O.off(o,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(o){const l=this._getTemplateFactory(o).toHtml();if(!l)return null;l.classList.remove(Ai,Tr),l.classList.add(`bs-${this.constructor.NAME}-auto`);const p=(y=>{do y+=Math.floor(1e6*Math.random());while(document.getElementById(y));return y})(this.constructor.NAME).toString();return l.setAttribute("id",p),this._isAnimated()&&l.classList.add(Ai),l}setContent(o){this._newContent=o,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(o){return this._templateFactory?this._templateFactory.changeContent(o):this._templateFactory=new Iu({...this._config,content:o,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(o){return this.constructor.getOrCreateInstance(o.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ai)}_isShown(){return this.tip&&this.tip.classList.contains(Tr)}_createPopper(o){const l=typeof this._config.placement=="function"?this._config.placement.call(this,o,this._element):this._config.placement,p=Au[l.toUpperCase()];return Si(this._element,o,this._getPopperConfig(p))}_getOffset(){const{offset:o}=this._config;return typeof o=="string"?o.split(",").map(l=>Number.parseInt(l,10)):typeof o=="function"?l=>o(l,this._element):o}_resolvePossibleFunction(o){return typeof o=="function"?o.call(this._element):o}_getPopperConfig(o){const l={placement:o,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...l,...typeof this._config.popperConfig=="function"?this._config.popperConfig(l):this._config.popperConfig}}_setListeners(){const o=this._config.trigger.split(" ");for(const l of o)if(l==="click")O.on(this._element,this.constructor.eventName("click"),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if(l!=="manual"){const p=l===xr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),y=l===xr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");O.on(this._element,p,this._config.selector,w=>{const P=this._initializeOnDelegatedTarget(w);P._activeTrigger[w.type==="focusin"?la:xr]=!0,P._enter()}),O.on(this._element,y,this._config.selector,w=>{const P=this._initializeOnDelegatedTarget(w);P._activeTrigger[w.type==="focusout"?la:xr]=P._element.contains(w.relatedTarget),P._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(aa),ca,this._hideModalHandler)}_fixTitle(){const o=this._element.getAttribute("title");o&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",o),this._element.setAttribute("data-bs-original-title",o),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(o,l){clearTimeout(this._timeout),this._timeout=setTimeout(o,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(o){const l=je.getDataAttributes(this._element);for(const p of Object.keys(l))Cu.has(p)&&delete l[p];return o={...l,...typeof o=="object"&&o?o:{}},o=this._mergeConfigObj(o),o=this._configAfterMerge(o),this._typeCheckConfig(o),o}_configAfterMerge(o){return o.container=o.container===!1?document.body:u(o.container),typeof o.delay=="number"&&(o.delay={show:o.delay,hide:o.delay}),typeof o.title=="number"&&(o.title=o.title.toString()),typeof o.content=="number"&&(o.content=o.content.toString()),o}_getDelegateConfig(){const o={};for(const l in this._config)this.constructor.Default[l]!==this._config[l]&&(o[l]=this._config[l]);return o.selector=!1,o.trigger="manual",o}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(o){return this.each(function(){const l=$t.getOrCreateInstance(this,o);if(typeof o=="string"){if(l[o]===void 0)throw new TypeError(`No method named "${o}"`);l[o]()}})}}C($t);const Lu={...$t.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ru={...$t.DefaultType,content:"(null|string|element|function)"};class kr extends $t{static get Default(){return Lu}static get DefaultType(){return Ru}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(o){return this.each(function(){const l=kr.getOrCreateInstance(this,o);if(typeof o=="string"){if(l[o]===void 0)throw new TypeError(`No method named "${o}"`);l[o]()}})}}C(kr);const ua="click.bs.scrollspy",Vn="active",fa="[href]",Mu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Fu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Qn extends Ke{constructor(o,l){super(o,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Mu}static get DefaultType(){return Fu}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const o of this._observableSections.values())this._observer.observe(o)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(o){return o.target=u(o.target)||document.body,o.rootMargin=o.offset?`${o.offset}px 0px -30%`:o.rootMargin,typeof o.threshold=="string"&&(o.threshold=o.threshold.split(",").map(l=>Number.parseFloat(l))),o}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,ua),O.on(this._config.target,ua,fa,o=>{const l=this._observableSections.get(o.target.hash);if(l){o.preventDefault();const p=this._rootElement||window,y=l.offsetTop-this._element.offsetTop;if(p.scrollTo)return void p.scrollTo({top:y,behavior:"smooth"});p.scrollTop=y}}))}_getNewObserver(){const o={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),o)}_observerCallback(o){const l=P=>this._targetLinks.get(`#${P.target.id}`),p=P=>{this._previousScrollData.visibleEntryTop=P.target.offsetTop,this._process(l(P))},y=(this._rootElement||document.documentElement).scrollTop,w=y>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=y;for(const P of o){if(!P.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(P));continue}const D=P.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(w&&D){if(p(P),!y)return}else w||D||p(P)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const o=ee.find(fa,this._config.target);for(const l of o){if(!l.hash||d(l))continue;const p=ee.findOne(l.hash,this._element);f(p)&&(this._targetLinks.set(l.hash,l),this._observableSections.set(l.hash,p))}}_process(o){this._activeTarget!==o&&(this._clearActiveClass(this._config.target),this._activeTarget=o,o.classList.add(Vn),this._activateParents(o),O.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:o}))}_activateParents(o){if(o.classList.contains("dropdown-item"))ee.findOne(".dropdown-toggle",o.closest(".dropdown")).classList.add(Vn);else for(const l of ee.parents(o,".nav, .list-group"))for(const p of ee.prev(l,".nav-link, .nav-item > .nav-link, .list-group-item"))p.classList.add(Vn)}_clearActiveClass(o){o.classList.remove(Vn);const l=ee.find("[href].active",o);for(const p of l)p.classList.remove(Vn)}static jQueryInterface(o){return this.each(function(){const l=Qn.getOrCreateInstance(this,o);if(typeof o=="string"){if(l[o]===void 0||o.startsWith("_")||o==="constructor")throw new TypeError(`No method named "${o}"`);l[o]()}})}}O.on(window,"load.bs.scrollspy.data-api",()=>{for(const h of ee.find('[data-bs-spy="scroll"]'))Qn.getOrCreateInstance(h)}),C(Qn);const Bu="ArrowLeft",ha="ArrowRight",ju="ArrowUp",da="ArrowDown",Pr="active",pa="fade",Di="show",va='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ni=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${va}`;class Ut extends Ke{constructor(o){super(o),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,"keydown.bs.tab",l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const o=this._element;if(this._elemIsActive(o))return;const l=this._getActiveElem(),p=l?O.trigger(l,"hide.bs.tab",{relatedTarget:o}):null;O.trigger(o,"show.bs.tab",{relatedTarget:l}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(l,o),this._activate(o,l))}_activate(o,l){o&&(o.classList.add(Pr),this._activate(s(o)),this._queueCallback(()=>{o.getAttribute("role")==="tab"?(o.removeAttribute("tabindex"),o.setAttribute("aria-selected",!0),this._toggleDropDown(o,!0),O.trigger(o,"shown.bs.tab",{relatedTarget:l})):o.classList.add(Di)},o,o.classList.contains(pa)))}_deactivate(o,l){o&&(o.classList.remove(Pr),o.blur(),this._deactivate(s(o)),this._queueCallback(()=>{o.getAttribute("role")==="tab"?(o.setAttribute("aria-selected",!1),o.setAttribute("tabindex","-1"),this._toggleDropDown(o,!1),O.trigger(o,"hidden.bs.tab",{relatedTarget:l})):o.classList.remove(Di)},o,o.classList.contains(pa)))}_keydown(o){if(![Bu,ha,ju,da].includes(o.key))return;o.stopPropagation(),o.preventDefault();const l=[ha,da].includes(o.key),p=A(this._getChildren().filter(y=>!d(y)),o.target,l,!0);p&&(p.focus({preventScroll:!0}),Ut.getOrCreateInstance(p).show())}_getChildren(){return ee.find(Ni,this._parent)}_getActiveElem(){return this._getChildren().find(o=>this._elemIsActive(o))||null}_setInitialAttributes(o,l){this._setAttributeIfNotExists(o,"role","tablist");for(const p of l)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(o){o=this._getInnerElement(o);const l=this._elemIsActive(o),p=this._getOuterElement(o);o.setAttribute("aria-selected",l),p!==o&&this._setAttributeIfNotExists(p,"role","presentation"),l||o.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(o,"role","tab"),this._setInitialAttributesOnTargetPanel(o)}_setInitialAttributesOnTargetPanel(o){const l=s(o);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),o.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`#${o.id}`))}_toggleDropDown(o,l){const p=this._getOuterElement(o);if(!p.classList.contains("dropdown"))return;const y=(w,P)=>{const D=ee.findOne(w,p);D&&D.classList.toggle(P,l)};y(".dropdown-toggle",Pr),y(".dropdown-menu",Di),p.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(o,l,p){o.hasAttribute(l)||o.setAttribute(l,p)}_elemIsActive(o){return o.classList.contains(Pr)}_getInnerElement(o){return o.matches(Ni)?o:ee.findOne(Ni,o)}_getOuterElement(o){return o.closest(".nav-item, .list-group-item")||o}static jQueryInterface(o){return this.each(function(){const l=Ut.getOrCreateInstance(this);if(typeof o=="string"){if(l[o]===void 0||o.startsWith("_")||o==="constructor")throw new TypeError(`No method named "${o}"`);l[o]()}})}}O.on(document,"click.bs.tab",va,function(h){["A","AREA"].includes(this.tagName)&&h.preventDefault(),d(this)||Ut.getOrCreateInstance(this).show()}),O.on(window,"load.bs.tab",()=>{for(const h of ee.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Ut.getOrCreateInstance(h)}),C(Ut);const ma="hide",Or="show",Sr="showing",qu={animation:"boolean",autohide:"boolean",delay:"number"},Vu={animation:!0,autohide:!0,delay:5e3};class $n extends Ke{constructor(o,l){super(o,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Vu}static get DefaultType(){return qu}static get NAME(){return"toast"}show(){O.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ma),g(this._element),this._element.classList.add(Or,Sr),this._queueCallback(()=>{this._element.classList.remove(Sr),O.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(O.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Sr),this._queueCallback(()=>{this._element.classList.add(ma),this._element.classList.remove(Sr,Or),O.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Or),super.dispose()}isShown(){return this._element.classList.contains(Or)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(o,l){switch(o.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const p=o.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,"mouseover.bs.toast",o=>this._onInteraction(o,!0)),O.on(this._element,"mouseout.bs.toast",o=>this._onInteraction(o,!1)),O.on(this._element,"focusin.bs.toast",o=>this._onInteraction(o,!0)),O.on(this._element,"focusout.bs.toast",o=>this._onInteraction(o,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(o){return this.each(function(){const l=$n.getOrCreateInstance(this,o);if(typeof o=="string"){if(l[o]===void 0)throw new TypeError(`No method named "${o}"`);l[o](this)}})}}return Ft($n),C($n),{Alert:Ln,Button:Rn,Carousel:nn,Collapse:rn,Dropdown:st,Modal:Qt,Offcanvas:yt,Popover:kr,ScrollSpy:Qn,Tab:Ut,Toast:$n,Tooltip:$t}})})(yf);const pn="b",vn="k",Fi="n",Na="p",mn="q";class L{x;y;constructor(e,t){this.x=e,this.y=t}}class S{start;end;boardStartIndex;boardEndIndex;constructor(e,t,r,i){if(r&&(this.start=r),i&&(this.end=i),r&&i){this.boardStartIndex=this.convertToBoardIndex(r),this.boardEndIndex=this.convertToBoardIndex(i);return}e&&t?(this.boardStartIndex=e.x+e.y*8,this.boardEndIndex=t.x+t.y*8,this.start=this.convertToBoardPosition(this.boardStartIndex),this.end=this.convertToBoardPosition(this.boardEndIndex)):(this.start="a8",this.end="a8",this.boardStartIndex=0,this.boardEndIndex=0)}toString(){return this.start+"-"+this.end}convertToBoardIndex(e){if(e.length!=2)throw new Error("Invalid position");let t=e[0],r=e[1],i=t.charCodeAt(0)-97,s=8-parseInt(r);return i+s*8}convertToBoardPosition(e){if(e<0||e>63)throw new Error("Invalid index: "+e);let t=e%8,r=Math.floor(e/8),i=String.fromCharCode(t+97),s=8-r;return i+s}testConverToBoardIndex(){let e=[];e.push(this.convertToBoardIndex("a8")==0),e.push(this.convertToBoardIndex("b8")==1),e.push(this.convertToBoardIndex("c8")==2),e.push(this.convertToBoardIndex("d8")==3),e.push(this.convertToBoardIndex("e8")==4),e.push(this.convertToBoardIndex("f8")==5),e.push(this.convertToBoardIndex("g8")==6),e.push(this.convertToBoardIndex("h8")==7),e.push(this.convertToBoardIndex("a7")==8),e.push(this.convertToBoardIndex("b7")==9),e.push(this.convertToBoardIndex("c7")==10),e.push(this.convertToBoardIndex("d7")==11),e.push(this.convertToBoardIndex("e7")==12),e.push(this.convertToBoardIndex("f7")==13),e.push(this.convertToBoardIndex("g7")==14),e.push(this.convertToBoardIndex("h7")==15),e.push(this.convertToBoardIndex("a6")==16);for(let t=0;t<e.length;t++)if(!e[t])throw new Error("Convert to board Index failed failed")}runAllTests(){this.testConverToBoardIndex(),console.log("All tests ran for move class")}}class _n{position;pos;boardIndex;constructor(e,t){e?(this.position=e,this.boardIndex=this.convertToBoardIndex(e),this.pos=new L(this.convertToBoardIndex(e)%8,Math.floor(this.convertToBoardIndex(e)/8))):t?(this.boardIndex=t,this.position=this.convertToBoardPosition(t),this.pos=new L(t%8,Math.floor(t/8))):(this.position="a8",this.boardIndex=0,this.pos=new L(0,0))}moveTo(e){this.position=e,this.boardIndex=this.convertToBoardIndex(e),this.pos=new L(this.boardIndex%8,Math.floor(this.boardIndex/8))}getPosition(){return this.position}getIndex(){return this.boardIndex}convertToBoardIndex(e){if(e.length!=2)throw new Error("Invalid position");let t=e[0],r=e[1],i=t.charCodeAt(0)-97,s=8-parseInt(r);return i+s*8}testConvertToBoardIndex(){let e=[];e.push(this.convertToBoardIndex("a8")==0),e.push(this.convertToBoardIndex("b8")==1),e.push(this.convertToBoardIndex("c8")==2),e.push(this.convertToBoardIndex("d8")==3),e.push(this.convertToBoardIndex("e8")==4),e.push(this.convertToBoardIndex("f8")==5),e.push(this.convertToBoardIndex("g8")==6),e.push(this.convertToBoardIndex("h8")==7),e.push(this.convertToBoardIndex("a7")==8),e.push(this.convertToBoardIndex("b7")==9),e.push(this.convertToBoardIndex("c7")==10),e.push(this.convertToBoardIndex("d7")==11),e.push(this.convertToBoardIndex("e7")==12),e.push(this.convertToBoardIndex("f7")==13),e.push(this.convertToBoardIndex("g7")==14),e.push(this.convertToBoardIndex("h7")==15),e.push(this.convertToBoardIndex("a6")==16);for(let t=0;t<e.length;t++)if(!e[t])throw new Error("Convert to board Index failed failed")}convertToBoardPosition(e){let t=e%8,r=Math.floor(e/8),i=String.fromCharCode(t+97),s=8-r;return i+s}testConvertToPosition(){let e=[];e.push(this.convertToBoardPosition(0)=="a8"),e.push(this.convertToBoardPosition(0)=="a8"),e.push(this.convertToBoardPosition(0)=="a8"),e.push(this.convertToBoardPosition(1)=="b8"),e.push(this.convertToBoardPosition(2)=="c8"),e.push(this.convertToBoardPosition(3)=="d8"),e.push(this.convertToBoardPosition(4)=="e8"),e.push(this.convertToBoardPosition(5)=="f8"),e.push(this.convertToBoardPosition(6)=="g8"),e.push(this.convertToBoardPosition(7)=="h8"),e.push(this.convertToBoardPosition(8)=="a7"),e.push(this.convertToBoardPosition(9)=="b7"),e.push(this.convertToBoardPosition(10)=="c7"),e.push(this.convertToBoardPosition(11)=="d7"),e.push(this.convertToBoardPosition(12)=="e7"),e.push(this.convertToBoardPosition(13)=="f7"),e.push(this.convertToBoardPosition(14)=="g7"),e.push(this.convertToBoardPosition(15)=="h7"),e.push(this.convertToBoardPosition(16)=="a6");for(let t=0;t<e.length;t++)if(!e[t])throw new Error("Convert to position failed")}runAllTests(){this.testConvertToBoardIndex(),this.testConvertToPosition(),console.log("All tests ran for position class")}}class _e{position;color;type;constructor(e,t,r){this.position=new _n(e),this.color=t,this.type=r}move(e){this.position.moveTo(e)}getPosition(){return this.position.getPosition()}getIndex(){return this.position.getIndex()}getPos(){return this.position}convertToBoardIndex(e){if(e.length!=2)throw new Error("Invalid position");let t=e[0],r=e[1],i=t.charCodeAt(0)-97,s=8-parseInt(r);return i+s*8}testConverToBoardIndex(){let e=[];e.push(this.convertToBoardIndex("a8")==0),e.push(this.convertToBoardIndex("b8")==1),e.push(this.convertToBoardIndex("c8")==2),e.push(this.convertToBoardIndex("d8")==3),e.push(this.convertToBoardIndex("e8")==4),e.push(this.convertToBoardIndex("f8")==5),e.push(this.convertToBoardIndex("g8")==6),e.push(this.convertToBoardIndex("h8")==7),e.push(this.convertToBoardIndex("a7")==8),e.push(this.convertToBoardIndex("b7")==9),e.push(this.convertToBoardIndex("c7")==10),e.push(this.convertToBoardIndex("d7")==11),e.push(this.convertToBoardIndex("e7")==12),e.push(this.convertToBoardIndex("f7")==13),e.push(this.convertToBoardIndex("g7")==14),e.push(this.convertToBoardIndex("h7")==15),e.push(this.convertToBoardIndex("a6")==16);for(let t=0;t<e.length;t++)if(!e[t])throw new Error("Convert to board Index failed failed")}runAllTests(){this.testConverToBoardIndex(),console.log("All tests ran for piece class")}}class ae{Pieces;currentTurnColor="white";fen="";board=[];halfMoveClock=0;fullMoveNumber=1;castlingRights="KQkq";enPassantTargetSquare="-";legalMoves=[];inCheck=!1;checkMate=!1;capturedPieces=[];constructor(e,t){e||(e=["r","n","b","q","k","b","n","r","p","p","p","p","p","p","p","p"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","P","P","P","P","P","P","P","P","R","N","B","Q","K","B","N","R"]);const r=/^([rnbqkpRNBQKP1-8]+\/){7}([rnbqkpRNBQKP1-8]+)\s[bw]\s(-|K?Q?k?q?)\s(-|[a-h][36])\s(0|[1-9][0-9]*)\s([1-9][0-9]*)/;if(t!=null&&t.match(r)){let i=t.split(" ");e=this.fenToBoard(t),this.castlingRights=i[2],this.enPassantTargetSquare=i[3],i[1]==="w"?this.currentTurnColor="white":this.currentTurnColor="black",this.halfMoveClock=parseInt(i[4]),this.fullMoveNumber=parseInt(i[5])}else if(t!=null&&!t.match(r))throw new Error("Invalid fen: "+t);this.Pieces=[];for(let i=0;i<e.length;i++){let s=e[i];if(s!=" "){let a=s==s.toUpperCase()?"white":"black",c=s.toLowerCase(),u=this.convertToPosition(i);this.Pieces.push(new _e(u,a,c))}}this.board=e,t!=null?this.fen=t:this.fen=this.boardToFen()}convertToPosition(e){let t=String.fromCharCode(97+e%8),r=8-Math.floor(e/8);return t+r}displayBoard(){let e="";for(let t=0;t<8;t++){for(let r=0;r<8;r++)e+=this.Piece(new L(r,t))===" "?" - ":" "+this.Piece(new L(r,t)).type+" ";e!=null&&console.log(`${8-t}| `+e),e=""}console.log("    _  _  _  _  _  _  _  _"),console.log("    A  B  C  D  E  F  G  H")}fenToBoard(e){let t=[],s=e.split(" ")[0].split("/");for(let a=0;a<s.length;a++){let u=s[a].split("");for(let f=0;f<u.length;f++){let d=u[f];if(d.match(/[1-8]/))for(let m=0;m<parseInt(d);m++)t.push(" ");else t.push(d)}}return t.length===63&&t.push(" "),t}boardToFen(){let e="",t=0;for(let r=0;r<64;r++){let i=this.getPieceAtBoardIndex(r);i===""?(t++,(t===8||r%8===7)&&(e+=t,r!=63&&(e+="/"),t=0)):(t!==0&&(e+=t,t=0),e+=i.color==="white"?i.type.toUpperCase():i.type.toLowerCase(),i.getIndex()%8===7&&r!==63&&(e+="/",t=0))}return e+=" "+this.currentTurnColor[0]+" ",e+=this.castlingRights+" ",e+=this.enPassantTargetSquare+" ",e+=this.halfMoveClock+" ",e+=this.fullMoveNumber,e}getPieceAtBoardIndex(e){for(let t=0;t<this.Pieces.length;t++)if(this.Pieces[t].getIndex()===e)return this.Pieces[t];return""}movePiece(e,t){let r=new S(void 0,void 0,e,t);r.boardEndIndex;let i=this.getPieceIndex(e),s=this.Pieces[i];if(s?.type===void 0)throw this.displayBoard(),console.log(this.Pieces),console.log(this.fen),console.log(e),new Error("Invalid move");if(s.type!="p"?this.halfMoveClock++:this.halfMoveClock=0,this.enPassantTargetSquare!="-"&&s.type==="p"){let a=new _n(e),c=new _n(t);if(s.color==="white"&&a.pos.y===3&&c.position===t){let u=c.boardIndex+8,f=this.getPieceAtBoardIndex(u);this.board[u]=" ",this.Pieces.splice(this.Pieces.indexOf(f),1)}if(s.color==="black"&&a.pos.y===4&&c.position===t){let u=c.boardIndex-8,f=this.getPieceAtBoardIndex(u);this.board[u]=" ",this.Pieces.splice(this.Pieces.indexOf(f),1)}}if(s.type=="p"&&Math.abs(s.getIndex()-r.boardEndIndex)==16){let a="-";s.color==="white"?a=this.convertToPosition(r.boardEndIndex+8):a=this.convertToPosition(r.boardEndIndex-8),this.enPassantTargetSquare=a}else this.enPassantTargetSquare="-";if(s.type==="k"){this.castlingRights.length===2?this.castlingRights="-":s.color==="white"?this.castlingRights=this.castlingRights.replace("KQ",""):this.castlingRights=this.castlingRights.replace("kq","");let a=new _n(e),c=new _n(t);if(a.pos.x-c.pos.x===2){this.convertToPosition(a.boardIndex-4);let u=this.convertToPosition(a.boardIndex-1);this.getPieceAtBoardIndex(a.boardIndex-4).move(u)}if(a.pos.x-c.pos.x===-2){this.convertToPosition(a.boardIndex+3);let u=this.convertToPosition(a.boardIndex+1);this.getPieceAtBoardIndex(a.boardIndex+3).move(u)}}if(this.currentTurnColor==="black"&&this.fullMoveNumber++,s.type==="r"&&(s.color==="white"?s.getIndex()===0?this.castlingRights=this.castlingRights.replace("Q",""):s.getIndex()===7&&(this.castlingRights=this.castlingRights.replace("K","")):s.getIndex()===56?this.castlingRights=this.castlingRights.replace("q",""):s.getIndex()===63&&(this.castlingRights=this.castlingRights.replace("k",""))),this.getPieceIndex(t)!==-1){let a=this.getPieceIndex(t),c=this.Pieces[a];this.capturedPieces.push(c),this.Pieces.splice(a,1),this.halfMoveClock=0}s.move(t),this.currentTurnColor=this.currentTurnColor==="white"?"black":"white",this.fen=this.boardToFen(),this.board=this.fenToBoard(this.fen),this.inCheck=this.isInCheck(this)}getPieceIndex(e){let t=-1;for(let r=0;r<this.Pieces.length;r++)if(this.Pieces[r].getPosition()==e){t=r;break}return t}getPieceAtPosition(e){let t="";for(let r=0;r<this.Pieces.length;r++){let i=this.Pieces[r];if(i.getPosition()==e)return i}return t}testConvertToPosition(){let e=[];e.push(this.convertToPosition(0)=="a8"),e.push(this.convertToPosition(1)=="b8"),e.push(this.convertToPosition(2)=="c8"),e.push(this.convertToPosition(3)=="d8"),e.push(this.convertToPosition(4)=="e8"),e.push(this.convertToPosition(5)=="f8"),e.push(this.convertToPosition(6)=="g8"),e.push(this.convertToPosition(7)=="h8"),e.push(this.convertToPosition(8)=="a7"),e.push(this.convertToPosition(9)=="b7"),e.push(this.convertToPosition(10)=="c7"),e.push(this.convertToPosition(11)=="d7"),e.push(this.convertToPosition(12)=="e7"),e.push(this.convertToPosition(13)=="f7"),e.push(this.convertToPosition(14)=="g7"),e.push(this.convertToPosition(15)=="h7"),e.push(this.convertToPosition(16)=="a6");for(let t=0;t<e.length;t++)if(!e[t])throw new Error("Convert to position failed")}testFenToBoard(){let e=[];e.push(this.fenToBoard("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1")),e.push(this.fenToBoard("rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1"));for(let r=0;r<e.length;r++)if(!e[r])throw new Error("Fen to board failed");t(e[0],["r","n","b","q","k","b","n","r","p","p","p","p","p","p","p","p"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","P","P","P","P","P","P","P","P","R","N","B","Q","K","B","N","R"]),t(e[1],["r","n","b","q","k","b","n","r","p","p","p","p","p","p","p","p"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","P"," "," "," "," "," "," "," "," "," "," "," ","P","P","P","P"," ","P","P","P","R","N","B","Q","K","B","N","R"]);function t(r,i){if(r===i)return!0;if(r==null||i==null)throw console.log(r,i),new Error("Fen to board failed");if(r.length!==i.length)throw console.log(r,i),new Error("Fen to board failed");for(var s=0;s<r.length;++s)if(r[s]!==i[s])throw console.log(r,i),new Error("Fen to board failed");return!0}}testBoardToFen(){let e=[],t=new ae;e.push(t.boardToFen()=="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),t.movePiece("e2","e4"),e.push(t.boardToFen()=="rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1");for(let r=0;r<e.length;r++)if(!e[r])throw new Error("Board to fen failed, test "+(r+1)+" failed"+t.boardToFen())}testConstructors(){let e=new ae,t=[];t.push(e.Pieces[0]?.getPosition()=="a8"),t.push(e.Pieces[0].color=="black"),t.push(e.Pieces[0].type=="r"),t.push(e.Pieces[1]?.getPosition()=="b8"),t.push(e.Pieces[1].color=="black"),t.push(e.Pieces[1].type=="n"),t.push(e.Pieces[2]?.getPosition()=="c8"),t.push(e.Pieces[2].color=="black"),t.push(e.Pieces[2].type=="b"),t.push(e.Pieces[3]?.getPosition()=="d8");for(let s=0;s<t.length;s++)if(!t[s])throw new Error("Board constructor 1 failed "+s);let r=new ae([],"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1");t=[],t.push(r.Pieces[0]?.getPosition()=="a8"),t.push(r.Pieces[0].color=="black"),t.push(r.Pieces[0].type=="r"),t.push(r.Pieces[1]?.getPosition()=="b8"),t.push(r.Pieces[1].color=="black"),t.push(r.Pieces[1].type=="n"),t.push(r.Pieces[2]?.getPosition()=="c8"),t.push(r.Pieces[2].color=="black"),t.push(r.Pieces[2].type=="b"),t.push(r.Pieces[3]?.getPosition()=="d8");for(let s=0;s<t.length;s++)if(!t[s])throw new Error("Board constructor 2 failed"+s);let i=new ae([],"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1");t=[],t.push(i.Pieces[0]?.getPosition()=="a8"),t.push(i.Pieces[0].color=="black"),t.push(i.Pieces[0].type=="r"),t.push(i.currentTurnColor=="black");for(let s=0;s<t.length;s++)if(!t[s])throw new Error("Board constructor 3 failed"+s)}findPseudoLegalMoves(e){let t=[];for(let r=0;r<e.Pieces.length;r++){let i=e.Pieces[r];if(e.currentTurnColor===i.color)switch(i.type){case"p":t.push(...this.findPawnMoves(i,e));break;case"r":t.push(...this.findRookMoves(i,e));break;case"n":t.push(...this.findKnightMoves(i,e));break;case"b":t.push(...this.findBishopMoves(i,e));break;case"q":t.push(...this.findQueenMoves(i,e));break;case"k":t.push(...this.findKingMoves(i,e));break}}return t}testFindPseudoLegalMoves(){let e=new ae,t=this.findPseudoLegalMoves(e),r=[];r.push(t.length==20);for(let i=0;i<r.length;i++)if(!r[i])throw new Error("Find legal moves failed, test "+(i+1)+" failed");e=new ae([],"rnbqkbnr/1ppp1ppp/8/p3pP2/4P3/8/PPPP2PP/RNBQKBNR w KQkq e6 0 4"),t=this.findPseudoLegalMoves(e),r=[],r.push(t.length==30);for(let i=0;i<r.length;i++)if(!r[i])throw new Error("Find legal moves failed, test "+(i+1)+" failed")}findLegalMoves(e){let t=e.findPseudoLegalMoves(e),r=[];for(let i=0;i<t.length;i++){let s=new ae([],e.boardToFen());s.movePiece(t[i].start,t[i].end),s.currentTurnColor=s.currentTurnColor==="white"?"black":"white",this.isInCheck(s)||r.push(t[i])}return r}testFindLegalMoves(){let e=new ae,t=this.findLegalMoves(e),r=[];r.push(t.length==20),e=new ae([],"rnb1k1nr/pppp1ppp/8/2b1p3/P3q3/8/1PPP1PPP/RNBQKB1R w KQkq - 0 6"),t=this.findLegalMoves(e),r.push(t.length==2),e=new ae([],"rnbqkbnr/1ppp1ppp/8/p3Q3/4P3/8/PPPP1PPP/RNB1KBNR b KQkq - 0 3"),t=this.findLegalMoves(e),r.push(t.length==3),e=new ae([],"rnbqkbnr/p1p1pppp/1p6/3pP3/8/8/PPPP1PPP/RNBQKBNR w KQkq d6 0 3"),t=this.findLegalMoves(e),r.push(t.length==31);for(let i=0;i<r.length;i++)if(!r[i])throw new Error("Find legal moves failed, test "+(i+1)+" failed")}isInCheck(e){let t=new ae([],e.boardToFen()),r=!0;for(let a=0;a<t.board.length;a++)t.board[a]!="-"&&(r=!1);r&&(console.log("empty board"),console.log(e.boardToFen())),t.currentTurnColor=t.currentTurnColor=="white"?"black":"white";let i=e.findPseudoLegalMoves(t),s;for(let a=0;a<e.Pieces.length;a++)e.Pieces[a].type=="k"&&e.Pieces[a].color==e.currentTurnColor&&(s=e.Pieces[a].getIndex());i.length==0&&(console.log("main board"),e.displayBoard(),console.log(e.fen),console.log("thingy"),t.displayBoard(),console.log(t.fen));for(let a=0;a<i.length;a++)if(i[a].boardEndIndex==s)return!0;return!1}testIsInCheck(){let e=new ae,t=[];t.push(!this.isInCheck(e));for(let r=0;r<t.length;r++)if(!t[r])throw new Error("Is in check failed, test "+(r+1)+" failed")}Piece(e){let t=e.x+e.y*8;for(let r=0;r<this.Pieces.length;r++)if(this.Pieces[r].getIndex()==t)return this.Pieces[r];return" "}addPiece(e){this.Pieces.push(e),this.board[e.getIndex()]!=null&&this.board[e.getIndex()]!=" "&&console.log("ERROR: PIECE ALREADY EXISTS AT THIS LOCATION",e),this.board[e.getIndex()]=e.type}findPawnMoves(e,t){let r=[],i=e.getIndex(),s=new L(i%8,Math.floor(i/8)),a=e.color;if(a!=this.currentTurnColor)return r;if(a=="white"){let c=new L(s.x,s.y-1);t.Piece(c)==" "&&r.push(new S(s,c));let u=new L(s.x,s.y-2);t.Piece(u)==" "&&t.Piece(c)==" "&&s.y==6&&r.push(new S(s,u));let f=new L(s.x-1,s.y-1);t.Piece(f)!=" "&&t.Piece(f)?.color=="black"&&r.push(new S(s,f));let d=new L(s.x+1,s.y-1);if(t.Piece(d)!=" "&&t.Piece(d)?.color=="black"&&r.push(new S(s,d)),t.enPassantTargetSquare!="-"&&i<=31&&i>=24){let m=new L(t.enPassantTargetSquare.charCodeAt(0)-97,8-parseInt(t.enPassantTargetSquare[1]));ts(m,d)===!0&&r.push(new S(s,d)),ts(m,f)===!0&&r.push(new S(s,f))}}else{let c=new L(s.x,s.y+1);t.Piece(c)==" "&&r.push(new S(s,c));let u=new L(s.x,s.y+2);t.Piece(u)==" "&&t.Piece(c)==" "&&s.y==1&&r.push(new S(s,u));let f=new L(s.x-1,s.y+1);t.Piece(f)!=" "&&t.Piece(f)?.color=="white"&&r.push(new S(s,f));let d=new L(s.x+1,s.y+1);if(t.Piece(d)!=" "&&t.Piece(d)?.color=="white"&&r.push(new S(s,d)),t.enPassantTargetSquare!="-"&&i<=15&&i>=8){let m=new L(t.enPassantTargetSquare.charCodeAt(0)-97,8-parseInt(t.enPassantTargetSquare[1]));d==m&&r.push(new S(s,d)),f==m&&r.push(new S(s,f))}}return r}testFindPawnMoves(){let e=new ae,t=this.findPawnMoves(e.Piece(new L(0,6)),e),r=[];r.push(t.length==2),r.push(t[0].toString()=="a2-a3"),r.push(t[1].toString()=="a2-a4");for(let s=0;s<r.length;s++)if(r[s]==!1){console.log("testFindPawnMoves failed");return}r=[],t=this.findPawnMoves(e.Pieces[16],e),r.push(t.length==2),r.push(t[0].toString()=="a2-a3"),r.push(t[1].toString()=="a2-a4");for(let s=0;s<r.length;s++)if(r[s]==!1){console.log("testFindPawnMoves failed");return}e=new ae([]);let i=new _e("a5","black",Na);e.addPiece(i),i=new _e("a4","white",Na),e.addPiece(i),t=this.findPawnMoves(i,e),r=[],r.push(t.length==0);for(let s=0;s<r.length;s++)if(r[s]==!1){console.error("testFindPawnMoves failed");return}}findRookMoves(e,t){let r=[],i=e.getIndex(),s=new L(i%8,Math.floor(i/8)),a=e.color;if(a!=t.currentTurnColor)return r;if(a==="white"){for(let c=s.y-1;c>=0;c--){let u=new L(s.x,c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="black"){r.push(new S(s,u));break}else break}for(let c=s.y+1;c<=7;c++){let u=new L(s.x,c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="black"){r.push(new S(s,u));break}else break}for(let c=s.x-1;c>=0;c--){let u=new L(c,s.y);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="black"){r.push(new S(s,u));break}else break}for(let c=s.x+1;c<=7;c++){let u=new L(c,s.y);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="black"){r.push(new S(s,u));break}else break}}else{for(let c=s.y-1;c>=0;c--){let u=new L(s.x,c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="white"){r.push(new S(s,u));break}else break}for(let c=s.y+1;c<=7;c++){let u=new L(s.x,c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="white"){r.push(new S(s,u));break}else break}for(let c=s.x-1;c>=0;c--){let u=new L(c,s.y);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="white"){r.push(new S(s,u));break}else break}for(let c=s.x+1;c<=7;c++){let u=new L(c,s.y);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="white"){r.push(new S(s,u));break}else break}}return r}testFindRookMoves(){let e=new ae([],"rnbqkbnr/1ppppppp/8/p7/P7/8/1PPPPPPP/RNBQKBNR w KQkq a6 0 2"),t=e.findRookMoves(e.Piece(new L(0,7)),e),r=[];r.push(t.length===2);for(let i=0;i<r.length;i++)if(r[i]==!1){console.log("testFindRookMoves failed");return}}findKnightMoves(e,t){let r=[],i=e.getIndex(),s=new L(i%8,Math.floor(i/8)),a=e.color;if(a!=t.currentTurnColor)return r;if(a==="white"){if(s.x-2>=0&&s.y-1>=0){let c=new L(s.x-2,s.y-1);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="black"&&r.push(new S(s,c))}if(s.x+2<=7&&s.y-1>=0){let c=new L(s.x+2,s.y-1);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="black"&&r.push(new S(s,c))}if(s.x-2>=0&&s.y+1<=7){let c=new L(s.x-2,s.y+1);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="black"&&r.push(new S(s,c))}if(s.x+2<=7&&s.y+1<=7){let c=new L(s.x+2,s.y+1);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="black"&&r.push(new S(s,c))}if(s.x-1>=0&&s.y-2>=0){let c=new L(s.x-1,s.y-2);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="black"&&r.push(new S(s,c))}if(s.x-1>=0&&s.y+2<=7){let c=new L(s.x-1,s.y+2);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="black"&&r.push(new S(s,c))}if(s.x+1<=7&&s.y-2>=0){let c=new L(s.x+1,s.y-2);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="black"&&r.push(new S(s,c))}if(s.x+1<=7&&s.y+2<=7){let c=new L(s.x+1,s.y+2);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="black"&&r.push(new S(s,c))}}else{if(s.x-2>=0&&s.y-1>=0){let c=new L(s.x-2,s.y-1);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="white"&&r.push(new S(s,c))}if(s.x+2<=7&&s.y-1>=0){let c=new L(s.x+2,s.y-1);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="white"&&r.push(new S(s,c))}if(s.x-2>=0&&s.y+1<=7){let c=new L(s.x-2,s.y+1);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="white"&&r.push(new S(s,c))}if(s.x+2<=7&&s.y+1<=7){let c=new L(s.x+2,s.y+1);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="white"&&r.push(new S(s,c))}if(s.x-1>=0&&s.y-2>=0){let c=new L(s.x-1,s.y-2);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="white"&&r.push(new S(s,c))}if(s.x-1>=0&&s.y+2<=7){let c=new L(s.x-1,s.y+2);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="white"&&r.push(new S(s,c))}if(s.x+1<=7&&s.y-2>=0){let c=new L(s.x+1,s.y-2);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="white"&&r.push(new S(s,c))}if(s.x+1<=7&&s.y+2<=7){let c=new L(s.x+1,s.y+2);t.Piece(c)===" "?r.push(new S(s,c)):t.Piece(c)?.color==="white"&&r.push(new S(s,c))}}return r}testFindKnightMoves(){let e=new ae([]),t=[];e.currentTurnColor="white";let r=new _e("c3","white",Fi);e.addPiece(r);let i=e.findKnightMoves(r,e);t.push(i.length===8),e=new ae([]),r=new _e("c3","black",Fi),e.addPiece(r),e.currentTurnColor="black",i=e.findKnightMoves(r,e),t.push(i.length===8),e=new ae([]),r=new _e("a1","white",Fi),e.addPiece(r),i=e.findKnightMoves(r,e),t.push(i.length===2);for(let s=0;s<t.length;s++)if(!t[s]){console.log("testFindKnightMoves failed at test "+s);return}}findBishopMoves(e,t){let r=[],i=e.getIndex(),s=new L(i%8,Math.floor(i/8)),a=e.color;if(a!=t.currentTurnColor)return r;if(a==="white"){for(let c=1;c<=7&&!(s.x-c<0||s.y-c<0);c++){let u=new L(s.x-c,s.y-c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="black"){r.push(new S(s,u));break}else break}for(let c=1;c<=7&&!(s.x+c>7||s.y-c<0);c++){let u=new L(s.x+c,s.y-c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="black"){r.push(new S(s,u));break}else break}for(let c=1;c<=7&&!(s.x-c<0||s.y+c>7);c++){let u=new L(s.x-c,s.y+c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="black"){r.push(new S(s,u));break}else break}for(let c=1;c<=7&&!(s.x+c>7||s.y+c>7);c++){let u=new L(s.x+c,s.y+c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="black"){r.push(new S(s,u));break}else break}}else{for(let c=1;c<=7&&!(s.x-c<0||s.y+c>7);c++){let u=new L(s.x-c,s.y+c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="white"){r.push(new S(s,u));break}else break}for(let c=1;c<=7&&!(s.x+c>7||s.y+c>7);c++){let u=new L(s.x+c,s.y+c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="white"){r.push(new S(s,u));break}else break}for(let c=1;c<=7&&!(s.x-c<0||s.y-c<0);c++){let u=new L(s.x-c,s.y-c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="white"){r.push(new S(s,u));break}else break}for(let c=1;c<=7&&!(s.x+c>7||s.y-c<0);c++){let u=new L(s.x+c,s.y-c);if(t.Piece(u)===" ")r.push(new S(s,u));else if(t.Piece(u)?.color==="white"){r.push(new S(s,u));break}else break}}return r}testFindBishopMoves(){let e=new ae([]),t=new _e("a2","white",pn);e.addPiece(t);let r=e.findBishopMoves(t,e);if(r.length!==7){console.log("testFindBishopMoves failed 0");return}if(e=new ae([]),t=new _e("a2","black",pn),e.addPiece(t),e.currentTurnColor="black",r=e.findBishopMoves(t,e),r.length!==7){console.log("testFindBishopMoves failed 1");return}if(e=new ae([]),t=new _e("a2","white",pn),e.addPiece(t),e.currentTurnColor="black",t=new _e("b3","black",pn),e.addPiece(t),r=e.findBishopMoves(t,e),r.length!==9){console.log("testFindBishopMoves failed 2");return}if(e=new ae([]),t=new _e("a2","black",pn),e.addPiece(t),t=new _e("b3","white",pn),e.addPiece(t),r=e.findBishopMoves(t,e),r.length!==9){console.log("testFindBishopMoves failed 3");return}}findQueenMoves(e,t){let r=this.findRookMoves(e,t);return r.push(...this.findBishopMoves(e,t)),r}testFindQueenMoves(){let e=new ae([]),t=new _e("a2","white",mn);e.addPiece(t);let r=e.findQueenMoves(t,e);if(r.length!==21){console.log(r),console.error("testFindQueenMoves failed 0");return}if(e=new ae([]),t=new _e("a2","black",mn),e.addPiece(t),e.currentTurnColor="black",r=e.findQueenMoves(t,e),r.length!==21){e.displayBoard(),console.log(r),console.error("testFindQueenMoves failed 1");return}if(e=new ae([]),t=new _e("a2","white",mn),e.addPiece(t),e.currentTurnColor="black",t=new _e("b3","black",mn),e.addPiece(t),r=e.findQueenMoves(t,e),r.length!==23){console.error("testFindQueenMoves failed 2");return}if(e=new ae([]),t=new _e("a2","black",mn),e.addPiece(t),t=new _e("b3","white",mn),e.addPiece(t),r=e.findQueenMoves(t,e),r.length!==23){console.error("testFindQueenMoves failed 3");return}}findKingMoves(e,t){let r=[],i=e.getPos().pos,s=new L(i.x,i.y+1);return e.color==="black"?(t.Piece(s)===" "&&i.y+1<=7?r.push(new S(i,s)):t.Piece(s)?.color==="white"&&r.push(new S(i,s)),s=new L(i.x,i.y-1),t.Piece(s)===" "&&i.y-1>=0?r.push(new S(i,s)):t.Piece(s)?.color==="white"&&r.push(new S(i,s)),s=new L(i.x+1,i.y),t.Piece(s)===" "&&i.x+1<=7?r.push(new S(i,s)):t.Piece(s)?.color==="white"&&r.push(new S(i,s)),s=new L(i.x-1,i.y),t.Piece(s)===" "&&i.x-1>=0?r.push(new S(i,s)):t.Piece(s)?.color==="white"&&r.push(new S(i,s)),s=new L(i.x+1,i.y+1),t.Piece(s)===" "&&i.x+1<=7&&i.y+1<=7?r.push(new S(i,s)):t.Piece(s)?.color==="white"&&r.push(new S(i,s)),s=new L(i.x-1,i.y+1),t.Piece(s)===" "&&i.x-1>=0&&i.y+1<=7?r.push(new S(i,s)):t.Piece(s)?.color==="white"&&r.push(new S(i,s)),s=new L(i.x+1,i.y-1),t.Piece(s)===" "&&i.x+1<=7&&i.y-1>=0?r.push(new S(i,s)):t.Piece(s)?.color==="white"&&r.push(new S(i,s)),s=new L(i.x-1,i.y-1),t.Piece(s)===" "&&i.x-1>=0&&i.y-1>=0?r.push(new S(i,s)):t.Piece(s)?.color==="white"&&r.push(new S(i,s)),s=new L(i.x+2,i.y),t.Piece(s)===" "&&i.x+2===6&&i.y===0&&this.inCheck===!1&&t.Piece(new L(i.x+1,i.y))===" "&&t.castlingRights.includes("k")&&r.push(new S(i,s)),s=new L(i.x-2,i.y),t.Piece(s)===" "&&i.x-2===2&&i.y===0&&this.inCheck===!1&&t.Piece(new L(i.x-1,i.y))===" "&&t.Piece(s)===" "&&t.castlingRights.includes("q")&&r.push(new S(i,s))):(s=new L(i.x,i.y+1),t.Piece(s)===" "&&i.y+1<=7?r.push(new S(i,s)):t.Piece(s)?.color==="black"&&r.push(new S(i,s)),s=new L(i.x,i.y-1),t.Piece(s)===" "&&i.y-1>=0?r.push(new S(i,s)):t.Piece(s)?.color==="black"&&r.push(new S(i,s)),s=new L(i.x+1,i.y),t.Piece(s)===" "&&i.x+1<=7?r.push(new S(i,s)):t.Piece(s)?.color==="black"&&r.push(new S(i,s)),s=new L(i.x-1,i.y),t.Piece(s)===" "&&i.x-1>=0?r.push(new S(i,s)):t.Piece(s)?.color==="black"&&r.push(new S(i,s)),s=new L(i.x+1,i.y+1),t.Piece(s)===" "&&i.x+1<=7&&i.y+1<=7?r.push(new S(i,s)):t.Piece(s)?.color==="black"&&r.push(new S(i,s)),s=new L(i.x-1,i.y+1),t.Piece(s)===" "&&i.x-1>=0&&i.y+1<=7?r.push(new S(i,s)):t.Piece(s)?.color==="black"&&r.push(new S(i,s)),s=new L(i.x+1,i.y-1),t.Piece(s)===" "&&i.x+1<=7&&i.y-1>=0?r.push(new S(i,s)):t.Piece(s)?.color==="black"&&r.push(new S(i,s)),s=new L(i.x-1,i.y-1),t.Piece(s)===" "&&i.x-1>=0&&i.y-1>=0?r.push(new S(i,s)):t.Piece(s)?.color==="black"&&r.push(new S(i,s)),s=new L(i.x+2,i.y),t.Piece(s)===" "&&i.x+2===6&&i.y===7&&this.inCheck===!1&&t.Piece(new L(i.x+1,i.y))===" "&&t.castlingRights.includes("K")&&r.push(new S(i,s)),s=new L(i.x-2,i.y),t.Piece(s)===" "&&i.x-2===2&&i.y===7&&this.inCheck===!1&&t.Piece(new L(i.x-1,i.y))===" "&&t.Piece(s)===" "&&t.castlingRights.includes("Q")&&r.push(new S(i,s))),r}testFindKingMoves(){let e=new ae([]),t=new _e("a2","white",vn);e.addPiece(t);let r=e.findKingMoves(t,e);if(r.length!==5){console.error("testFindKingMoves failed 0",r);return}if(e=new ae([]),t=new _e("a2","black",vn),e.addPiece(t),e.currentTurnColor="black",r=e.findKingMoves(t,e),r.length!==5){console.error("testFindKingMoves failed 1");return}if(e=new ae([]),t=new _e("a2","white",vn),e.addPiece(t),e.currentTurnColor="black",t=new _e("b3","black",vn),e.addPiece(t),r=e.findKingMoves(t,e),r.length!==8){console.error("testFindKingMoves failed 2");return}if(e=new ae([]),t=new _e("a2","black",vn),e.addPiece(t),t=new _e("b3","white",vn),e.addPiece(t),r=e.findKingMoves(t,e),r.length!==8){console.error("testFindKingMoves failed 3");return}}runAllTests(){this.testConvertToPosition(),this.testConstructors(),this.testBoardToFen(),this.testFenToBoard(),this.testFindPawnMoves(),this.testFindRookMoves(),this.testFindKnightMoves(),this.testFindBishopMoves(),this.testFindQueenMoves(),this.testFindKingMoves(),this.testFindPseudoLegalMoves(),this.testIsInCheck(),this.testFindLegalMoves(),console.log("All tests ran for board class")}}class $c{runAllTests(){new S(void 0,void 0,"a2","a4").runAllTests(),new _n("a2").runAllTests(),new _e("a2","white","pawn").runAllTests(),new ae().runAllTests(),console.log("All tests ran for chessClasses.ts")}}function ts(n,e){return n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(n).length===Object.keys(e).length&&Object.keys(n).reduce(function(t,r){return t&&ts(n[r],e[r])},!0):n===e}const Uc=nf();function bf(n){Ee(0),Ee("Home");const[e,t]=Ee({x:0,y:0}),[r,i]=Ee({x:0,y:0}),[s,a]=Ee([]),[c,u]=Ee(!1),[f,d]=Ee(null),[m,v]=Ee(null),[g,b]=Ee({x:0,y:0}),[_,k]=Ee(null),[C,x]=Ee(null),T=[],A=[];xn(()=>{document.addEventListener("pointermove",Y=>{t({x:Y.clientX,y:Y.clientY}),c()&&f()&&(f().ref.style.transform=`translate(${e().x-r().x+g().x}px, ${e().y-r().y+g().y}px)`,f().ref.style.zIndex=100,f().rectangle=f().ref.getBoundingClientRect(),_()?.length>0&&x(Tt(_())))}),document.addEventListener("pointerup",()=>{f()!=null&&(f().dragEnd(C()),A.forEach(Y=>{Y()}),f()?.ref&&(f().ref.style.transform=`translate(${0}px, ${0}px)`,f().ref.style.zIndex=0),u(!1),v(f()),d(null))})});const j=(Y,B)=>{B!==void 0&&B.dragStart.push(Y)},U=Y=>{T.push(Y)},M=Y=>{A.push(Y)},z=(Y,B)=>{B!==void 0&&(B.dragEnd=Y)},W=(Y,B)=>{B!==void 0&&(B.hoverOver=Y)},H=(Y,B)=>{B!==void 0&&(B.hoverOut=Y)},Z=Y=>{let B={id:Y,startingPosition:{x:0,y:0},dragStart:[],dragEnd:()=>{},ref:null,rectangle:null,data:{}};return xn(()=>{B.ref.addEventListener("pointerdown",Oe=>{for(let O=0;O<B.dragStart.length;O++)B.dragStart[O](B);for(let O=0;O<T.length;O++)T[O](B);b(ce(Oe.target.getAttribute("style"))),i({x:Oe.clientX,y:Oe.clientY}),u(!0),d(B),B.rectangle=B.ref.getBoundingClientRect()})}),B},ie=Y=>{let B={id:Y,startingPosition:{x:0,y:0},hoverOver:()=>{},hoverOut:()=>{},ref:null,rectangle:null,hovering:!1,occupied:!1,droppable:!0};return a([...s(),B]),xn(()=>{B.rectangle=B.ref.getBoundingClientRect(),B.ref.children.length>0&&(B.occupied=!0),document.addEventListener("pointermove",()=>{if(f()==null||f().rectangle==null)return;let Oe=f().ref.getBoundingClientRect(),O=B.ref.getBoundingClientRect();if(Oe.top>O.bottom||Oe.right<O.left||Oe.bottom<O.top||Oe.left>O.right){if(He(B),!B.hovering)return;B.hovering=!1,B.hoverOut(f())}else{if(B.ref===C()?.ref){if(B.hovering)return;B.hovering=!0,B.hoverOver(f())}else B.hovering=!1,B.hoverOut(f());Ce(B)}}),document.addEventListener("pointerup",()=>{!B.hovering||(B.hovering=!1,B.hoverOut(m()),m()!=null&&B.droppable!==!1&&(B.ref.children.length>0&&B.ref.children[0].remove(),B.ref.appendChild(m().ref)))})}),s()[s().length-1]};function ce(Y){if(Y===null)return{x:0,y:0};let B=Y.split("translate(")[0],Oe;return B&&(Oe=Y.split("translate(")[1].split(")")[0].split("px, ")),{x:parseInt(Oe[0]),y:parseInt(Oe[1])}}function Ce(Y){_()==null&&k([Y]),!_().includes(Y)&&(_()?.includes(Y)||k([..._(),Y]))}function He(Y){_()!=null&&(!_()?.includes(Y)||_().includes(Y)&&k(_()?.filter(B=>B!==Y)))}function Tt(Y){if(Y==null)return;let B=f().ref.getBoundingClientRect();return Y.sort((O,xt)=>{let le=O.ref.getBoundingClientRect(),Ge=xt.ref.getBoundingClientRect(),Be,it,je,mt,Ke,Ft;return B.x>le.x?Be=le.right-B.x:Be=B.right-le.x,B.bottom>le.bottom?it=le.bottom-B.top:it=B.bottom-le.top,Ke=Be*it,B.x>Ge.x?je=Ge.right-B.x:je=B.right-Ge.x,B.bottom>Ge.bottom?mt=Ge.bottom-B.top:mt=B.bottom-Ge.top,Ft=je*mt,Ft-Ke})[0]}return Re(Uc.Provider,{value:{onDragEnd:z,onDragStart:j,createDraggable:Z,onHoverOver:W,createDroppable:ie,onHoverOut:H,onGlobalDragStart:U,onGlobalDragEnd:M},get children(){return n.children}})}const La=()=>rf(Uc),_f=Et("<div></div>"),wf=Et('<section><div class=""> </div></section>');function Ef({pieceClassName:n,className:e,id:t,board:r,draggableId:i,updateBoard:s,eatenPieces:a,setDisplayInlay:c,setDisplayInlayX:u,inlaySelection:f,displayInlay:d,style:m,color:v}){xn(()=>{window.movePiece=function(x,T){r.movePiece(x,T),s()}});const[g,b]=Ee([]),_=({id:x,className:T,draggable:A,draggableClass:j})=>{const{onHoverOver:U,createDroppable:M,onHoverOut:z,onGlobalDragStart:W,onGlobalDragEnd:H}=La(),Z=M(x);return U(ie=>{Z.ref.classList.add("hovered")},Z),z(ie=>{Z.ref.classList.remove("hovered")},Z),W(ie=>{if(!d())if(ie.data.legalPieceMoves.includes(Z.id))if(Z.ref.children.length===0){Z.droppable=!0;let ce=document.createElement("section");ce.classList.add("circle"),Z.ref.appendChild(ce)}else Z.ref.children.length===1&&(Z.droppable=!0,Z.ref.children[0].children[0].classList.add("circle"));else Z.droppable=!1}),H(ie=>{let ce=Z.ref.querySelectorAll("section.circle");for(let He=0;He<ce.length;He++)ce[He].remove();let Ce=Z.ref.querySelectorAll("div.circle");for(let He=0;He<Ce.length;He++)Ce[He].classList.remove("circle")}),A.getAttribute("class").length===0&&(A=void 0),(()=>{const ie=_f.cloneNode(!0),ce=Z.ref;return typeof ce=="function"?Aa(ce,ie):Z.ref=ie,kn(ie,"id",x),Zi(ie,T),Wt(ie,Re(Jn,{when:A!=null,children:A})),At(Ce=>Qc(ie,m,Ce)),ie})()},k=({className:x,id:T})=>{const{onDragStart:A,onDragEnd:j,createDraggable:U}=La(),M=U(T);let z,W;return A(()=>{if(d())return;z=M.ref.parentElement.id;let H=r.findLegalMoves(r),Z=[];for(let ie=0;ie<H.length;ie++)H[ie].start==z&&Z.push(H[ie].end);M.data.legalPieceMoves=Z},M),j(async H=>{if(d()||H===null)return;H.occupied=!1;let Z=H.ref.children[0];if(await C(1),!!H.ref.children[0]&&H.ref.children[0].id===M.id){if(W=M.ref.parentElement.id,W===z)return;r.board,r.movePiece(z,W),b([...g(),{start:z,end:W}]),Z.classList.contains("piece")&&(a.push(Z),console.log(a)),r.board,console.log(r.inCheck);let ie=r.getPieceAtPosition(W);ie.type==="p"&&ie.color===v&&(W[1]==="8"||W[1]==="1")&&(c(!0),u(ie.position.pos.x)),s(),r.displayBoard()}},M),(()=>{const H=wf.cloneNode(!0),Z=M.ref;return typeof Z=="function"?Aa(Z,H):M.ref=H,Zi(H,x),kn(H,"id",T),H})()},C=x=>new Promise(T=>setTimeout(T,x));return Re(_,{className:e,get draggable(){return Re(k,{className:`${n!=" "?n+" piece":""}`,id:i})},id:t})}let Tf=new $c;Tf.runAllTests();let qe=new ae;qe.displayBoard();Zr(["click"]);const xf=Et('<div><div class="chessInlaySquare" id="queenSelection"><section class="piece q"></section></div><div class="chessInlaySquare" id="knightSelection"><section class="piece n"></section></div><div class="chessInlaySquare" id="rookSelection"><section class="piece r"></section></div><div class="chessInlaySquare" id="bishopSelection"><section class="piece b"></section></div></div>'),kf=Et('<div class="chessBoard"></div>');let Pf=new $c;Pf.runAllTests();qe.displayBoard();let Of=Sf();function Sf(){let n=[];for(let e=0;e<8;e++)for(let t=0;t<8;t++)n.push(`${String.fromCharCode(97+t)}${8-e}`);return n}function If(n){let e=[];for(let t=n.length-1;t>=0;t--)e.push(n[t]);return e}function Cf({}){let n=[];const[e,t]=Ee(!1),[r,i]=Ee(0),[s,a]=Ee("");function c(){let f=document.querySelectorAll(".chessSquare"),d=[];f=If(f);for(let g=0;g<f.length;g++)f[g].children[0]!=null?d.push(f[g].children[0].classList[0]):d.push(" ");let m,v;for(let g=0;g<64;g++)d[g]!=qe.board[g]&&(d[g]==" "&&qe.board[g]!=" "?(v=f[g],m!=null&&(f[g].appendChild(m),m=void 0)):d[g]!=" "&&qe.board[g]==" "&&(m=f[g].children[0],v!=null&&(v.appendChild(m),m=void 0,v=void 0)));m?.parentElement?.removeChild(m)}function u(f){a(f),t(!1);let d=qe.getPieceAtBoardIndex(63-(7-r())),m=d.type;console.log(d),d.type=f,qe.board[63-(7-r())]=f,qe.displayBoard(),console.log(d);let v=document.getElementById(d.position.position).children[0];console.log("previous type:"+m),v.classList.remove(m),v.classList.add(f),c()}return(()=>{const f=kf.cloneNode(!0);return Wt(f,Re(bf,{get children(){return[Re(Jn,{get when(){return e()},get children(){const d=xf.cloneNode(!0),m=d.firstChild,v=m.nextSibling,g=v.nextSibling,b=g.nextSibling;return m.$$click=()=>u("q"),v.$$click=()=>u("n"),g.$$click=()=>u("r"),b.$$click=()=>u("b"),At(()=>Zi(d,`chessInlay ml-[${7-r()}]`)),d}}),Re(Vc,{get each(){return qe.board},children:(d,m)=>Re(Ef,{get style(){return _t(()=>m()==0)()?"border-top-left-radius: 40%;":_t(()=>m()==7)()?"border-top-right-radius: 40%;":_t(()=>m()==56)()?"border-bottom-left-radius: 40%;":m()==63?"border-bottom-right-radius: 40%;":"border-radius: 0%;"},get pieceClassName(){return qe.board[qe.board.length-1-m()]},get className(){return`chessSquare ${(qe.board.length-1-m())%16<8?(qe.board.length-1-m())%2==0?"lighterBackground":"":(qe.board.length-1-m())%2==0?"":"lighterBackground"}`},get id(){return Of[qe.board.length-1-m()]},board:qe,updateBoard:c,get draggableId(){return Af()},eatenPieces:n,setDisplayInlay:t,setDisplayInlayX:i,inlaySelection:s,displayInlay:e,color:"black"})})]}})),f})()}function Af(){return Math.random().toString(36).substr(2,9)}Zr(["click"]);const Df=Et(`<div class="glassOverlay"><label for="username">Choose your username</label><div class="userNameInput"><input type="username" placeholder="username" id="userNameInput"></div><button class="submitUsernameButton">LET'S GO<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 arrow"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"></path></svg></button></div>`),Nf=({oldUserName:n,oldUserId:e,setSessionStorageUser:t,addUserToGraphql:r,updateLastSeen:i,setOldUserName:s,setOldUserId:a})=>{const[c,u]=Ee(""),[f,d]=Ee(""),m=()=>{let v=Lf(),g=c();if(g==""){alert("Please enter a username");return}if(g==n()){console.log("userid: ",f()),console.log("username: ",g);let _=f(),k=g;console.log("kept from local storage"),sessionStorage.setItem("gabrielmalek/chess.data",JSON.stringify({userId:_,userName:k})),t(!0),i(),setInterval(i,6e3),console.log("made it here"),r();return}console.log("userid: ",f()),console.log("username: ",g),a(v),s(g),sessionStorage.setItem("gabrielmalek/chess.data",JSON.stringify({userId:v,userName:g})),localStorage.setItem("gabrielmalek/chess.data",JSON.stringify({userId:v,userName:g}));let b=document.getElementById("userNameInput");b.value="",u(""),t(!0),i(),setInterval(i,6e3),r()};return xn(()=>{if(document.addEventListener("keyup",function(v){v.key==="Enter"&&m()}),console.log("username: "+c()),console.log("oldUserName "+n()),console.log("oldUserId "+e()),n()!=""){u(n()),d(e());let v=document.getElementById("userNameInput");v.value=c()}}),(()=>{const v=Df.cloneNode(!0),g=v.firstChild,b=g.nextSibling,_=b.firstChild,k=b.nextSibling;return _.$$keyup=C=>u(C.target?.value),k.$$click=()=>m(),v})()};function Lf(){let n="";for(let e=0;e<20;e++)n+=Math.floor(Math.random()*10);return n}Zr(["keyup","click"]);const Rf=Et('<div class="catLogo"></div>');function Mf({catLink:n}){return(()=>{const e=Rf.cloneNode(!0);return At(t=>Qc(e,`background-image: url(${n})`,t)),e})()}const Ff=Et('<div class="glassOverlay"><ul class="list"></ul></div>'),Bf=Et('<div class="modal fade " id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"><div class="modal-dialog absolute top-[39vh] left-1/ "><div class="modal-content w-[50px] "><div class="modal-header"><h1 class="modal-title fs-5" id="exampleModalLabel">Play Chess with </h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body">Play online with this player right now!</div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button><button type="button" class="btn btn-primary">Play Chess</button></div></div></div></div>'),jf=Et('<li class="listItem"><div class="text"></div><button>\u{1F82E}</button></li>');function qf({users:n,userId:e,playChess:t}){const[r,i]=Ee(null);function s(a){console.log("selected user: ",a),i(a),document.getElementById("exampleModal")?.style.setProperty("display","flex")}return[(()=>{const a=Ff.cloneNode(!0),c=a.firstChild;return Wt(c,Re(Vc,{get each(){return n()},children:u=>(()=>{const f=jf.cloneNode(!0),d=f.firstChild,m=d.nextSibling;return vf(f,"click",u.id==e()?()=>console.log("clicked main user -- do nothing"):()=>s(u),!0),Wt(d,()=>u.username),Wt(f,Re(Mf,{get catLink(){return u.cat_url}}),m),m.$$click=()=>console.log(n()),At(v=>{const g=`${u.id==e()?"mainUser":""}`,b=`${u.id==e()?"":"modal"}`,_=`${u.id==e()?"":"#exampleModal"}`;return g!==v._v$&&kn(f,"id",v._v$=g),b!==v._v$2&&kn(f,"data-bs-toggle",v._v$2=b),_!==v._v$3&&kn(f,"data-bs-target",v._v$3=_),v},{_v$:void 0,_v$2:void 0,_v$3:void 0}),f})()})),a})(),(()=>{const a=Bf.cloneNode(!0),c=a.firstChild,u=c.firstChild,f=u.firstChild,d=f.firstChild;d.firstChild;const m=f.nextSibling,v=m.nextSibling,g=v.firstChild,b=g.nextSibling;return Wt(d,(()=>{const _=_t(()=>r()!=null);return()=>_()?`${r()?.username}`:""})(),null),b.$$click=()=>t(r()),a})()]}Zr(["click"]);var ns=function(n,e){return ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},ns(n,e)};function ct(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ns(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var E=function(){return E=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},E.apply(this,arguments)};function In(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function St(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function c(d){try{f(r.next(d))}catch(m){a(m)}}function u(d){try{f(r.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(c,u)}f((r=r.apply(n,e||[])).next())})}function It(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){t.label=f[1];break}if(f[0]===6&&t.label<s[1]){t.label=s[1],s=f;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(f);break}s[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(d){f=[6,d],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Kt(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var Bi="Invariant Violation",Ra=Object.setPrototypeOf,Vf=Ra===void 0?function(n,e){return n.__proto__=e,n}:Ra,fe=function(n){ct(e,n);function e(t){t===void 0&&(t=Bi);var r=n.call(this,typeof t=="number"?Bi+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return r.framesToPop=1,r.name=Bi,Vf(r,e.prototype),r}return e}(Error);function R(n,e){if(!n)throw new fe(e)}var zc=["debug","log","warn","error","silent"],Qf=zc.indexOf("log");function Dr(n){return function(){if(zc.indexOf(n)>=Qf){var e=console[n]||console.log;return e.apply(console,arguments)}}}(function(n){n.debug=Dr("debug"),n.log=Dr("log"),n.warn=Dr("warn"),n.error=Dr("error")})(R||(R={}));function rt(n){try{return n()}catch{}}const Ma=rt(function(){return globalThis})||rt(function(){return window})||rt(function(){return self})||rt(function(){return global})||rt(function(){return rt.constructor("return this")()});var Fa="__",Ba=[Fa,Fa].join("DEV");function $f(){try{return Boolean(__DEV__)}catch{return Object.defineProperty(Ma,Ba,{value:rt(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),Ma[Ba]}}const ji=$f();function Ct(n){try{return n()}catch{}}var rs=Ct(function(){return globalThis})||Ct(function(){return window})||Ct(function(){return self})||Ct(function(){return global})||Ct(function(){return Ct.constructor("return this")()}),is=!1;function Uf(){rs&&!Ct(function(){return"production"})&&!Ct(function(){return process})&&(Object.defineProperty(rs,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),is=!0)}Uf();function ja(){is&&(delete rs.process,is=!1)}function Mr(n,e){if(!Boolean(n))throw new Error(e)}function zf(n){return typeof n=="object"&&n!==null}function Wf(n,e){if(!Boolean(n))throw new Error(e??"Unexpected invariant triggered.")}const Hf=/\r\n|[\n\r]/g;function ss(n,e){let t=0,r=1;for(const i of n.body.matchAll(Hf)){if(typeof i.index=="number"||Wf(!1),i.index>=e)break;t=i.index+i[0].length,r+=1}return{line:r,column:e+1-t}}function Kf(n){return Wc(n.source,ss(n.source,n.start))}function Wc(n,e){const t=n.locationOffset.column-1,r="".padStart(t)+n.body,i=e.line-1,s=n.locationOffset.line-1,a=e.line+s,c=e.line===1?t:0,u=e.column+c,f=`${n.name}:${a}:${u}
`,d=r.split(/\r\n|[\n\r]/g),m=d[i];if(m.length>120){const v=Math.floor(u/80),g=u%80,b=[];for(let _=0;_<m.length;_+=80)b.push(m.slice(_,_+80));return f+qa([[`${a} |`,b[0]],...b.slice(1,v+1).map(_=>["|",_]),["|","^".padStart(g)],["|",b[v+1]]])}return f+qa([[`${a-1} |`,d[i-1]],[`${a} |`,m],["|","^".padStart(u)],[`${a+1} |`,d[i+1]]])}function qa(n){const e=n.filter(([r,i])=>i!==void 0),t=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(t)+(i?" "+i:"")).join(`
`)}function Gf(n){const e=n[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:n[1],positions:n[2],path:n[3],originalError:n[4],extensions:n[5]}:e}class Ns extends Error{constructor(e,...t){var r,i,s;const{nodes:a,source:c,positions:u,path:f,originalError:d,extensions:m}=Gf(t);super(e),this.name="GraphQLError",this.path=f??void 0,this.originalError=d??void 0,this.nodes=Va(Array.isArray(a)?a:a?[a]:void 0);const v=Va((r=this.nodes)===null||r===void 0?void 0:r.map(b=>b.loc).filter(b=>b!=null));this.source=c??(v==null||(i=v[0])===null||i===void 0?void 0:i.source),this.positions=u??v?.map(b=>b.start),this.locations=u&&c?u.map(b=>ss(c,b)):v?.map(b=>ss(b.source,b.start));const g=zf(d?.extensions)?d?.extensions:void 0;this.extensions=(s=m??g)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),d!=null&&d.stack?Object.defineProperty(this,"stack",{value:d.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Ns):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+=`

`+Kf(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+=`

`+Wc(this.source,t);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Va(n){return n===void 0||n.length===0?void 0:n}function Ne(n,e,t){return new Ns(`Syntax Error: ${t}`,{source:n,positions:[e]})}class Yf{constructor(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Hc{constructor(e,t,r,i,s,a){this.kind=e,this.start=t,this.end=r,this.line=i,this.column=s,this.value=a,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Kc={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Jf=new Set(Object.keys(Kc));function Qa(n){const e=n?.kind;return typeof e=="string"&&Jf.has(e)}var wn;(function(n){n.QUERY="query",n.MUTATION="mutation",n.SUBSCRIPTION="subscription"})(wn||(wn={}));var os;(function(n){n.QUERY="QUERY",n.MUTATION="MUTATION",n.SUBSCRIPTION="SUBSCRIPTION",n.FIELD="FIELD",n.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",n.FRAGMENT_SPREAD="FRAGMENT_SPREAD",n.INLINE_FRAGMENT="INLINE_FRAGMENT",n.VARIABLE_DEFINITION="VARIABLE_DEFINITION",n.SCHEMA="SCHEMA",n.SCALAR="SCALAR",n.OBJECT="OBJECT",n.FIELD_DEFINITION="FIELD_DEFINITION",n.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",n.INTERFACE="INTERFACE",n.UNION="UNION",n.ENUM="ENUM",n.ENUM_VALUE="ENUM_VALUE",n.INPUT_OBJECT="INPUT_OBJECT",n.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(os||(os={}));var Q;(function(n){n.NAME="Name",n.DOCUMENT="Document",n.OPERATION_DEFINITION="OperationDefinition",n.VARIABLE_DEFINITION="VariableDefinition",n.SELECTION_SET="SelectionSet",n.FIELD="Field",n.ARGUMENT="Argument",n.FRAGMENT_SPREAD="FragmentSpread",n.INLINE_FRAGMENT="InlineFragment",n.FRAGMENT_DEFINITION="FragmentDefinition",n.VARIABLE="Variable",n.INT="IntValue",n.FLOAT="FloatValue",n.STRING="StringValue",n.BOOLEAN="BooleanValue",n.NULL="NullValue",n.ENUM="EnumValue",n.LIST="ListValue",n.OBJECT="ObjectValue",n.OBJECT_FIELD="ObjectField",n.DIRECTIVE="Directive",n.NAMED_TYPE="NamedType",n.LIST_TYPE="ListType",n.NON_NULL_TYPE="NonNullType",n.SCHEMA_DEFINITION="SchemaDefinition",n.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",n.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",n.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",n.FIELD_DEFINITION="FieldDefinition",n.INPUT_VALUE_DEFINITION="InputValueDefinition",n.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",n.UNION_TYPE_DEFINITION="UnionTypeDefinition",n.ENUM_TYPE_DEFINITION="EnumTypeDefinition",n.ENUM_VALUE_DEFINITION="EnumValueDefinition",n.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",n.DIRECTIVE_DEFINITION="DirectiveDefinition",n.SCHEMA_EXTENSION="SchemaExtension",n.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",n.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",n.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",n.UNION_TYPE_EXTENSION="UnionTypeExtension",n.ENUM_TYPE_EXTENSION="EnumTypeExtension",n.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Q||(Q={}));function as(n){return n===9||n===32}function tr(n){return n>=48&&n<=57}function Gc(n){return n>=97&&n<=122||n>=65&&n<=90}function Yc(n){return Gc(n)||n===95}function Xf(n){return Gc(n)||tr(n)||n===95}function Zf(n){var e;let t=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let a=0;a<n.length;++a){var s;const c=n[a],u=eh(c);u!==c.length&&(r=(s=r)!==null&&s!==void 0?s:a,i=a,a!==0&&u<t&&(t=u))}return n.map((a,c)=>c===0?a:a.slice(t)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function eh(n){let e=0;for(;e<n.length&&as(n.charCodeAt(e));)++e;return e}function th(n,e){const t=n.replace(/"""/g,'\\"""'),r=t.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(g=>g.length===0||as(g.charCodeAt(0))),a=t.endsWith('\\"""'),c=n.endsWith('"')&&!a,u=n.endsWith("\\"),f=c||u,d=!(e!=null&&e.minimize)&&(!i||n.length>70||f||s||a);let m="";const v=i&&as(n.charCodeAt(0));return(d&&!v||s)&&(m+=`
`),m+=t,(d||f)&&(m+=`
`),'"""'+m+'"""'}var I;(function(n){n.SOF="<SOF>",n.EOF="<EOF>",n.BANG="!",n.DOLLAR="$",n.AMP="&",n.PAREN_L="(",n.PAREN_R=")",n.SPREAD="...",n.COLON=":",n.EQUALS="=",n.AT="@",n.BRACKET_L="[",n.BRACKET_R="]",n.BRACE_L="{",n.PIPE="|",n.BRACE_R="}",n.NAME="Name",n.INT="Int",n.FLOAT="Float",n.STRING="String",n.BLOCK_STRING="BlockString",n.COMMENT="Comment"})(I||(I={}));class nh{constructor(e){const t=new Hc(I.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==I.EOF)do if(e.next)e=e.next;else{const t=ih(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===I.COMMENT);return e}}function rh(n){return n===I.BANG||n===I.DOLLAR||n===I.AMP||n===I.PAREN_L||n===I.PAREN_R||n===I.SPREAD||n===I.COLON||n===I.EQUALS||n===I.AT||n===I.BRACKET_L||n===I.BRACKET_R||n===I.BRACE_L||n===I.PIPE||n===I.BRACE_R}function Nn(n){return n>=0&&n<=55295||n>=57344&&n<=1114111}function ei(n,e){return Jc(n.charCodeAt(e))&&Xc(n.charCodeAt(e+1))}function Jc(n){return n>=55296&&n<=56319}function Xc(n){return n>=56320&&n<=57343}function Yt(n,e){const t=n.source.body.codePointAt(e);if(t===void 0)return I.EOF;if(t>=32&&t<=126){const r=String.fromCodePoint(t);return r==='"'?`'"'`:`"${r}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function Pe(n,e,t,r,i){const s=n.line,a=1+t-n.lineStart;return new Hc(e,t,r,s,a,i)}function ih(n,e){const t=n.source.body,r=t.length;let i=e;for(;i<r;){const s=t.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++n.line,n.lineStart=i;continue;case 13:t.charCodeAt(i+1)===10?i+=2:++i,++n.line,n.lineStart=i;continue;case 35:return sh(n,i);case 33:return Pe(n,I.BANG,i,i+1);case 36:return Pe(n,I.DOLLAR,i,i+1);case 38:return Pe(n,I.AMP,i,i+1);case 40:return Pe(n,I.PAREN_L,i,i+1);case 41:return Pe(n,I.PAREN_R,i,i+1);case 46:if(t.charCodeAt(i+1)===46&&t.charCodeAt(i+2)===46)return Pe(n,I.SPREAD,i,i+3);break;case 58:return Pe(n,I.COLON,i,i+1);case 61:return Pe(n,I.EQUALS,i,i+1);case 64:return Pe(n,I.AT,i,i+1);case 91:return Pe(n,I.BRACKET_L,i,i+1);case 93:return Pe(n,I.BRACKET_R,i,i+1);case 123:return Pe(n,I.BRACE_L,i,i+1);case 124:return Pe(n,I.PIPE,i,i+1);case 125:return Pe(n,I.BRACE_R,i,i+1);case 34:return t.charCodeAt(i+1)===34&&t.charCodeAt(i+2)===34?fh(n,i):ah(n,i)}if(tr(s)||s===45)return oh(n,i,s);if(Yc(s))return hh(n,i);throw Ne(n.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Nn(s)||ei(t,i)?`Unexpected character: ${Yt(n,i)}.`:`Invalid character: ${Yt(n,i)}.`)}return Pe(n,I.EOF,r,r)}function sh(n,e){const t=n.source.body,r=t.length;let i=e+1;for(;i<r;){const s=t.charCodeAt(i);if(s===10||s===13)break;if(Nn(s))++i;else if(ei(t,i))i+=2;else break}return Pe(n,I.COMMENT,e,i,t.slice(e+1,i))}function oh(n,e,t){const r=n.source.body;let i=e,s=t,a=!1;if(s===45&&(s=r.charCodeAt(++i)),s===48){if(s=r.charCodeAt(++i),tr(s))throw Ne(n.source,i,`Invalid number, unexpected digit after 0: ${Yt(n,i)}.`)}else i=qi(n,i,s),s=r.charCodeAt(i);if(s===46&&(a=!0,s=r.charCodeAt(++i),i=qi(n,i,s),s=r.charCodeAt(i)),(s===69||s===101)&&(a=!0,s=r.charCodeAt(++i),(s===43||s===45)&&(s=r.charCodeAt(++i)),i=qi(n,i,s),s=r.charCodeAt(i)),s===46||Yc(s))throw Ne(n.source,i,`Invalid number, expected digit but got: ${Yt(n,i)}.`);return Pe(n,a?I.FLOAT:I.INT,e,i,r.slice(e,i))}function qi(n,e,t){if(!tr(t))throw Ne(n.source,e,`Invalid number, expected digit but got: ${Yt(n,e)}.`);const r=n.source.body;let i=e+1;for(;tr(r.charCodeAt(i));)++i;return i}function ah(n,e){const t=n.source.body,r=t.length;let i=e+1,s=i,a="";for(;i<r;){const c=t.charCodeAt(i);if(c===34)return a+=t.slice(s,i),Pe(n,I.STRING,e,i+1,a);if(c===92){a+=t.slice(s,i);const u=t.charCodeAt(i+1)===117?t.charCodeAt(i+2)===123?ch(n,i):lh(n,i):uh(n,i);a+=u.value,i+=u.size,s=i;continue}if(c===10||c===13)break;if(Nn(c))++i;else if(ei(t,i))i+=2;else throw Ne(n.source,i,`Invalid character within String: ${Yt(n,i)}.`)}throw Ne(n.source,i,"Unterminated string.")}function ch(n,e){const t=n.source.body;let r=0,i=3;for(;i<12;){const s=t.charCodeAt(e+i++);if(s===125){if(i<5||!Nn(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Yn(s),r<0)break}throw Ne(n.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+i)}".`)}function lh(n,e){const t=n.source.body,r=$a(t,e+2);if(Nn(r))return{value:String.fromCodePoint(r),size:6};if(Jc(r)&&t.charCodeAt(e+6)===92&&t.charCodeAt(e+7)===117){const i=$a(t,e+8);if(Xc(i))return{value:String.fromCodePoint(r,i),size:12}}throw Ne(n.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+6)}".`)}function $a(n,e){return Yn(n.charCodeAt(e))<<12|Yn(n.charCodeAt(e+1))<<8|Yn(n.charCodeAt(e+2))<<4|Yn(n.charCodeAt(e+3))}function Yn(n){return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:-1}function uh(n,e){const t=n.source.body;switch(t.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Ne(n.source,e,`Invalid character escape sequence: "${t.slice(e,e+2)}".`)}function fh(n,e){const t=n.source.body,r=t.length;let i=n.lineStart,s=e+3,a=s,c="";const u=[];for(;s<r;){const f=t.charCodeAt(s);if(f===34&&t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34){c+=t.slice(a,s),u.push(c);const d=Pe(n,I.BLOCK_STRING,e,s+3,Zf(u).join(`
`));return n.line+=u.length-1,n.lineStart=i,d}if(f===92&&t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34&&t.charCodeAt(s+3)===34){c+=t.slice(a,s),a=s+1,s+=4;continue}if(f===10||f===13){c+=t.slice(a,s),u.push(c),f===13&&t.charCodeAt(s+1)===10?s+=2:++s,c="",a=s,i=s;continue}if(Nn(f))++s;else if(ei(t,s))s+=2;else throw Ne(n.source,s,`Invalid character within String: ${Yt(n,s)}.`)}throw Ne(n.source,s,"Unterminated string.")}function hh(n,e){const t=n.source.body,r=t.length;let i=e+1;for(;i<r;){const s=t.charCodeAt(i);if(Xf(s))++i;else break}return Pe(n,I.NAME,e,i,t.slice(e,i))}const dh=10,Zc=2;function el(n){return ti(n,[])}function ti(n,e){switch(typeof n){case"string":return JSON.stringify(n);case"function":return n.name?`[function ${n.name}]`:"[function]";case"object":return ph(n,e);default:return String(n)}}function ph(n,e){if(n===null)return"null";if(e.includes(n))return"[Circular]";const t=[...e,n];if(vh(n)){const r=n.toJSON();if(r!==n)return typeof r=="string"?r:ti(r,t)}else if(Array.isArray(n))return gh(n,t);return mh(n,t)}function vh(n){return typeof n.toJSON=="function"}function mh(n,e){const t=Object.entries(n);return t.length===0?"{}":e.length>Zc?"["+yh(n)+"]":"{ "+t.map(([i,s])=>i+": "+ti(s,e)).join(", ")+" }"}function gh(n,e){if(n.length===0)return"[]";if(e.length>Zc)return"[Array]";const t=Math.min(dh,n.length),r=n.length-t,i=[];for(let s=0;s<t;++s)i.push(ti(n[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function yh(n){const e=Object.prototype.toString.call(n).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof n.constructor=="function"){const t=n.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}const bh=function(e,t){return e instanceof t};class Ls{constructor(e,t="GraphQL request",r={line:1,column:1}){typeof e=="string"||Mr(!1,`Body must be a string. Received: ${el(e)}.`),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||Mr(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Mr(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function _h(n){return bh(n,Ls)}function wh(n,e){return new Eh(n,e).parseDocument()}class Eh{constructor(e,t={}){const r=_h(e)?e:new Ls(e);this._lexer=new nh(r),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(I.NAME);return this.node(e,{kind:Q.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:Q.DOCUMENT,definitions:this.many(I.SOF,this.parseDefinition,I.EOF)})}parseDefinition(){if(this.peek(I.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===I.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Ne(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(I.BRACE_L))return this.node(e,{kind:Q.OPERATION_DEFINITION,operation:wn.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let r;return this.peek(I.NAME)&&(r=this.parseName()),this.node(e,{kind:Q.OPERATION_DEFINITION,operation:t,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(I.NAME);switch(e.value){case"query":return wn.QUERY;case"mutation":return wn.MUTATION;case"subscription":return wn.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(I.PAREN_L,this.parseVariableDefinition,I.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Q.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(I.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(I.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(I.DOLLAR),this.node(e,{kind:Q.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Q.SELECTION_SET,selections:this.many(I.BRACE_L,this.parseSelection,I.BRACE_R)})}parseSelection(){return this.peek(I.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let r,i;return this.expectOptionalToken(I.COLON)?(r=t,i=this.parseName()):i=t,this.node(e,{kind:Q.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(I.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(I.PAREN_L,t,I.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,r=this.parseName();return this.expectToken(I.COLON),this.node(t,{kind:Q.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(I.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(I.NAME)?this.node(e,{kind:Q.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Q.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:Q.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:Q.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case I.BRACKET_L:return this.parseList(e);case I.BRACE_L:return this.parseObject(e);case I.INT:return this.advanceLexer(),this.node(t,{kind:Q.INT,value:t.value});case I.FLOAT:return this.advanceLexer(),this.node(t,{kind:Q.FLOAT,value:t.value});case I.STRING:case I.BLOCK_STRING:return this.parseStringLiteral();case I.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:Q.BOOLEAN,value:!0});case"false":return this.node(t,{kind:Q.BOOLEAN,value:!1});case"null":return this.node(t,{kind:Q.NULL});default:return this.node(t,{kind:Q.ENUM,value:t.value})}case I.DOLLAR:if(e)if(this.expectToken(I.DOLLAR),this._lexer.token.kind===I.NAME){const r=this._lexer.token.value;throw Ne(this._lexer.source,t.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:Q.STRING,value:e.value,block:e.kind===I.BLOCK_STRING})}parseList(e){const t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:Q.LIST,values:this.any(I.BRACKET_L,t,I.BRACKET_R)})}parseObject(e){const t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:Q.OBJECT,fields:this.any(I.BRACE_L,t,I.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,r=this.parseName();return this.expectToken(I.COLON),this.node(t,{kind:Q.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(I.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(I.AT),this.node(t,{kind:Q.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(I.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(I.BRACKET_R),t=this.node(e,{kind:Q.LIST_TYPE,type:r})}else t=this.parseNamedType();return this.expectOptionalToken(I.BANG)?this.node(e,{kind:Q.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:Q.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(I.STRING)||this.peek(I.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(I.BRACE_L,this.parseOperationTypeDefinition,I.BRACE_R);return this.node(e,{kind:Q.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(I.COLON);const r=this.parseNamedType();return this.node(e,{kind:Q.OPERATION_TYPE_DEFINITION,operation:t,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:Q.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(e,{kind:Q.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:i,directives:s,fields:a})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(I.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(I.BRACE_L,this.parseFieldDefinition,I.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(I.COLON);const s=this.parseTypeReference(),a=this.parseConstDirectives();return this.node(e,{kind:Q.FIELD_DEFINITION,description:t,name:r,arguments:i,type:s,directives:a})}parseArgumentDefs(){return this.optionalMany(I.PAREN_L,this.parseInputValueDef,I.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseName();this.expectToken(I.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(I.EQUALS)&&(s=this.parseConstValueLiteral());const a=this.parseConstDirectives();return this.node(e,{kind:Q.INPUT_VALUE_DEFINITION,description:t,name:r,type:i,defaultValue:s,directives:a})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(e,{kind:Q.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:i,directives:s,fields:a})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:Q.UNION_TYPE_DEFINITION,description:t,name:r,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(I.EQUALS)?this.delimitedMany(I.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:Q.ENUM_TYPE_DEFINITION,description:t,name:r,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(I.BRACE_L,this.parseEnumValueDefinition,I.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:Q.ENUM_VALUE_DEFINITION,description:t,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Ne(this._lexer.source,this._lexer.token.start,`${Nr(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:Q.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(I.BRACE_L,this.parseInputValueDef,I.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===I.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),r=this.optionalMany(I.BRACE_L,this.parseOperationTypeDefinition,I.BRACE_R);if(t.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:Q.SCHEMA_EXTENSION,directives:t,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:Q.SCALAR_TYPE_EXTENSION,name:t,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:Q.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:Q.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Q.UNION_TYPE_EXTENSION,name:t,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Q.ENUM_TYPE_EXTENSION,name:t,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Q.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(I.AT);const r=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const a=this.parseDirectiveLocations();return this.node(e,{kind:Q.DIRECTIVE_DEFINITION,description:t,name:r,arguments:i,repeatable:s,locations:a})}parseDirectiveLocations(){return this.delimitedMany(I.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(os,t.value))return t;throw this.unexpected(e)}node(e,t){return this._options.noLocation!==!0&&(t.loc=new Yf(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw Ne(this._lexer.source,t.start,`Expected ${tl(e)}, found ${Nr(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const t=this._lexer.token;if(t.kind===I.NAME&&t.value===e)this.advanceLexer();else throw Ne(this._lexer.source,t.start,`Expected "${e}", found ${Nr(t)}.`)}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===I.NAME&&t.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const t=e??this._lexer.token;return Ne(this._lexer.source,t.start,`Unexpected ${Nr(t)}.`)}any(e,t,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(t.call(this));return i}optionalMany(e,t,r){if(this.expectOptionalToken(e)){const i=[];do i.push(t.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,t,r){this.expectToken(e);const i=[];do i.push(t.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,t){this.expectOptionalToken(e);const r=[];do r.push(t.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(e!==void 0&&t.kind!==I.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw Ne(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function Nr(n){const e=n.value;return tl(n.kind)+(e!=null?` "${e}"`:"")}function tl(n){return rh(n)?`"${n}"`:n}function Th(n){return`"${n.replace(xh,kh)}"`}const xh=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function kh(n){return Ph[n.charCodeAt(0)]}const Ph=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Rs=Object.freeze({});function wt(n,e,t=Kc){const r=new Map;for(const C of Object.values(Q))r.set(C,Oh(e,C));let i,s=Array.isArray(n),a=[n],c=-1,u=[],f=n,d,m;const v=[],g=[];do{c++;const C=c===a.length,x=C&&u.length!==0;if(C){if(d=g.length===0?void 0:v[v.length-1],f=m,m=g.pop(),x)if(s){f=f.slice();let A=0;for(const[j,U]of u){const M=j-A;U===null?(f.splice(M,1),A++):f[M]=U}}else{f=Object.defineProperties({},Object.getOwnPropertyDescriptors(f));for(const[A,j]of u)f[A]=j}c=i.index,a=i.keys,u=i.edits,s=i.inArray,i=i.prev}else if(m){if(d=s?c:a[c],f=m[d],f==null)continue;v.push(d)}let T;if(!Array.isArray(f)){var b,_;Qa(f)||Mr(!1,`Invalid AST Node: ${el(f)}.`);const A=C?(b=r.get(f.kind))===null||b===void 0?void 0:b.leave:(_=r.get(f.kind))===null||_===void 0?void 0:_.enter;if(T=A?.call(e,f,d,m,v,g),T===Rs)break;if(T===!1){if(!C){v.pop();continue}}else if(T!==void 0&&(u.push([d,T]),!C))if(Qa(T))f=T;else{v.pop();continue}}if(T===void 0&&x&&u.push([d,f]),C)v.pop();else{var k;i={inArray:s,index:c,keys:a,edits:u,prev:i},s=Array.isArray(f),a=s?f:(k=t[f.kind])!==null&&k!==void 0?k:[],c=-1,u=[],m&&g.push(m),m=f}}while(i!==void 0);return u.length!==0?u[u.length-1][1]:n}function Oh(n,e){const t=n[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:n.enter,leave:n.leave}}function Sh(n){return wt(n,Ch)}const Ih=80,Ch={Name:{leave:n=>n.value},Variable:{leave:n=>"$"+n.name},Document:{leave:n=>$(n.definitions,`

`)},OperationDefinition:{leave(n){const e=se("(",$(n.variableDefinitions,", "),")"),t=$([n.operation,$([n.name,e]),$(n.directives," ")]," ");return(t==="query"?"":t+" ")+n.selectionSet}},VariableDefinition:{leave:({variable:n,type:e,defaultValue:t,directives:r})=>n+": "+e+se(" = ",t)+se(" ",$(r," "))},SelectionSet:{leave:({selections:n})=>at(n)},Field:{leave({alias:n,name:e,arguments:t,directives:r,selectionSet:i}){const s=se("",n,": ")+e;let a=s+se("(",$(t,", "),")");return a.length>Ih&&(a=s+se(`(
`,Fr($(t,`
`)),`
)`)),$([a,$(r," "),i]," ")}},Argument:{leave:({name:n,value:e})=>n+": "+e},FragmentSpread:{leave:({name:n,directives:e})=>"..."+n+se(" ",$(e," "))},InlineFragment:{leave:({typeCondition:n,directives:e,selectionSet:t})=>$(["...",se("on ",n),$(e," "),t]," ")},FragmentDefinition:{leave:({name:n,typeCondition:e,variableDefinitions:t,directives:r,selectionSet:i})=>`fragment ${n}${se("(",$(t,", "),")")} on ${e} ${se("",$(r," ")," ")}`+i},IntValue:{leave:({value:n})=>n},FloatValue:{leave:({value:n})=>n},StringValue:{leave:({value:n,block:e})=>e?th(n):Th(n)},BooleanValue:{leave:({value:n})=>n?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:n})=>n},ListValue:{leave:({values:n})=>"["+$(n,", ")+"]"},ObjectValue:{leave:({fields:n})=>"{"+$(n,", ")+"}"},ObjectField:{leave:({name:n,value:e})=>n+": "+e},Directive:{leave:({name:n,arguments:e})=>"@"+n+se("(",$(e,", "),")")},NamedType:{leave:({name:n})=>n},ListType:{leave:({type:n})=>"["+n+"]"},NonNullType:{leave:({type:n})=>n+"!"},SchemaDefinition:{leave:({description:n,directives:e,operationTypes:t})=>se("",n,`
`)+$(["schema",$(e," "),at(t)]," ")},OperationTypeDefinition:{leave:({operation:n,type:e})=>n+": "+e},ScalarTypeDefinition:{leave:({description:n,name:e,directives:t})=>se("",n,`
`)+$(["scalar",e,$(t," ")]," ")},ObjectTypeDefinition:{leave:({description:n,name:e,interfaces:t,directives:r,fields:i})=>se("",n,`
`)+$(["type",e,se("implements ",$(t," & ")),$(r," "),at(i)]," ")},FieldDefinition:{leave:({description:n,name:e,arguments:t,type:r,directives:i})=>se("",n,`
`)+e+(Ua(t)?se(`(
`,Fr($(t,`
`)),`
)`):se("(",$(t,", "),")"))+": "+r+se(" ",$(i," "))},InputValueDefinition:{leave:({description:n,name:e,type:t,defaultValue:r,directives:i})=>se("",n,`
`)+$([e+": "+t,se("= ",r),$(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:n,name:e,interfaces:t,directives:r,fields:i})=>se("",n,`
`)+$(["interface",e,se("implements ",$(t," & ")),$(r," "),at(i)]," ")},UnionTypeDefinition:{leave:({description:n,name:e,directives:t,types:r})=>se("",n,`
`)+$(["union",e,$(t," "),se("= ",$(r," | "))]," ")},EnumTypeDefinition:{leave:({description:n,name:e,directives:t,values:r})=>se("",n,`
`)+$(["enum",e,$(t," "),at(r)]," ")},EnumValueDefinition:{leave:({description:n,name:e,directives:t})=>se("",n,`
`)+$([e,$(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:n,name:e,directives:t,fields:r})=>se("",n,`
`)+$(["input",e,$(t," "),at(r)]," ")},DirectiveDefinition:{leave:({description:n,name:e,arguments:t,repeatable:r,locations:i})=>se("",n,`
`)+"directive @"+e+(Ua(t)?se(`(
`,Fr($(t,`
`)),`
)`):se("(",$(t,", "),")"))+(r?" repeatable":"")+" on "+$(i," | ")},SchemaExtension:{leave:({directives:n,operationTypes:e})=>$(["extend schema",$(n," "),at(e)]," ")},ScalarTypeExtension:{leave:({name:n,directives:e})=>$(["extend scalar",n,$(e," ")]," ")},ObjectTypeExtension:{leave:({name:n,interfaces:e,directives:t,fields:r})=>$(["extend type",n,se("implements ",$(e," & ")),$(t," "),at(r)]," ")},InterfaceTypeExtension:{leave:({name:n,interfaces:e,directives:t,fields:r})=>$(["extend interface",n,se("implements ",$(e," & ")),$(t," "),at(r)]," ")},UnionTypeExtension:{leave:({name:n,directives:e,types:t})=>$(["extend union",n,$(e," "),se("= ",$(t," | "))]," ")},EnumTypeExtension:{leave:({name:n,directives:e,values:t})=>$(["extend enum",n,$(e," "),at(t)]," ")},InputObjectTypeExtension:{leave:({name:n,directives:e,fields:t})=>$(["extend input",n,$(e," "),at(t)]," ")}};function $(n,e=""){var t;return(t=n?.filter(r=>r).join(e))!==null&&t!==void 0?t:""}function at(n){return se(`{
`,Fr($(n,`
`)),`
}`)}function se(n,e,t=""){return e!=null&&e!==""?n+e+t:""}function Fr(n){return se("  ",n.replace(/\n/g,`
  `))}function Ua(n){var e;return(e=n?.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}function za(n){return n.kind===Q.FIELD||n.kind===Q.FRAGMENT_SPREAD||n.kind===Q.INLINE_FRAGMENT}function Ah(){return ja()}function Dh(){__DEV__?R(typeof ji=="boolean",ji):R(typeof ji=="boolean",39)}Ah();Dh();function ni(n,e){var t=n.directives;return!t||!t.length?!0:Rh(t).every(function(r){var i=r.directive,s=r.ifArgument,a=!1;return s.value.kind==="Variable"?(a=e&&e[s.value.name.value],__DEV__?R(a!==void 0,"Invalid variable referenced in @".concat(i.name.value," directive.")):R(a!==void 0,40)):a=s.value.value,i.name.value==="skip"?!a:a})}function Ms(n,e,t){var r=new Set(n),i=r.size;return wt(e,{Directive:function(s){if(r.delete(s.name.value)&&(!t||!r.size))return Rs}}),t?!r.size:r.size<i}function Nh(n){return n&&Ms(["client","export"],n,!0)}function Lh(n){var e=n.name.value;return e==="skip"||e==="include"}function Rh(n){var e=[];return n&&n.length&&n.forEach(function(t){if(!!Lh(t)){var r=t.arguments,i=t.name.value;__DEV__?R(r&&r.length===1,"Incorrect number of arguments for the @".concat(i," directive.")):R(r&&r.length===1,41);var s=r[0];__DEV__?R(s.name&&s.name.value==="if","Invalid argument for the @".concat(i," directive.")):R(s.name&&s.name.value==="if",42);var a=s.value;__DEV__?R(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):R(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),43),e.push({directive:t,ifArgument:s})}}),e}function Mh(n,e){var t=e,r=[];n.definitions.forEach(function(s){if(s.kind==="OperationDefinition")throw __DEV__?new fe("Found a ".concat(s.operation," operation").concat(s.name?" named '".concat(s.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new fe(44);s.kind==="FragmentDefinition"&&r.push(s)}),typeof t>"u"&&(__DEV__?R(r.length===1,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):R(r.length===1,45),t=r[0].name.value);var i=E(E({},n),{definitions:Kt([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],n.definitions,!0)});return i}function Fs(n){n===void 0&&(n=[]);var e={};return n.forEach(function(t){e[t.name.value]=t}),e}function Bs(n,e){switch(n.kind){case"InlineFragment":return n;case"FragmentSpread":{var t=n.name.value;if(typeof e=="function")return e(t);var r=e&&e[t];return __DEV__?R(r,"No fragment named ".concat(t)):R(r,46),r||null}default:return null}}function Te(n){return n!==null&&typeof n=="object"}function Pn(n){return{__ref:String(n)}}function pe(n){return Boolean(n&&typeof n=="object"&&typeof n.__ref=="string")}function Fh(n){return Te(n)&&n.kind==="Document"&&Array.isArray(n.definitions)}function Bh(n){return n.kind==="StringValue"}function jh(n){return n.kind==="BooleanValue"}function qh(n){return n.kind==="IntValue"}function Vh(n){return n.kind==="FloatValue"}function Qh(n){return n.kind==="Variable"}function $h(n){return n.kind==="ObjectValue"}function Uh(n){return n.kind==="ListValue"}function zh(n){return n.kind==="EnumValue"}function Wh(n){return n.kind==="NullValue"}function Cn(n,e,t,r){if(qh(t)||Vh(t))n[e.value]=Number(t.value);else if(jh(t)||Bh(t))n[e.value]=t.value;else if($h(t)){var i={};t.fields.map(function(a){return Cn(i,a.name,a.value,r)}),n[e.value]=i}else if(Qh(t)){var s=(r||{})[t.name.value];n[e.value]=s}else if(Uh(t))n[e.value]=t.values.map(function(a){var c={};return Cn(c,e,a,r),c[e.value]});else if(zh(t))n[e.value]=t.value;else if(Wh(t))n[e.value]=null;else throw __DEV__?new fe('The inline argument "'.concat(e.value,'" of kind "').concat(t.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new fe(55)}function Hh(n,e){var t=null;n.directives&&(t={},n.directives.forEach(function(i){t[i.name.value]={},i.arguments&&i.arguments.forEach(function(s){var a=s.name,c=s.value;return Cn(t[i.name.value],a,c,e)})}));var r=null;return n.arguments&&n.arguments.length&&(r={},n.arguments.forEach(function(i){var s=i.name,a=i.value;return Cn(r,s,a,e)})),js(n.name.value,r,t)}var Kh=["connection","include","skip","client","rest","export"],js=Object.assign(function(n,e,t){if(e&&t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var r=t.connection.filter?t.connection.filter:[];r.sort();var i={};return r.forEach(function(c){i[c]=e[c]}),"".concat(t.connection.key,"(").concat(Un(i),")")}else return t.connection.key;var s=n;if(e){var a=Un(e);s+="(".concat(a,")")}return t&&Object.keys(t).forEach(function(c){Kh.indexOf(c)===-1&&(t[c]&&Object.keys(t[c]).length?s+="@".concat(c,"(").concat(Un(t[c]),")"):s+="@".concat(c))}),s},{setStringify:function(n){var e=Un;return Un=n,e}}),Un=function(e){return JSON.stringify(e,Gh)};function Gh(n,e){return Te(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(t,r){return t[r]=e[r],t},{})),e}function ri(n,e){if(n.arguments&&n.arguments.length){var t={};return n.arguments.forEach(function(r){var i=r.name,s=r.value;return Cn(t,i,s,e)}),t}return null}function Jt(n){return n.alias?n.alias.value:n.name.value}function cs(n,e,t){if(typeof n.__typename=="string")return n.__typename;for(var r=0,i=e.selections;r<i.length;r++){var s=i[r];if(Xt(s)){if(s.name.value==="__typename")return n[Jt(s)]}else{var a=cs(n,Bs(s,t).selectionSet,t);if(typeof a=="string")return a}}}function Xt(n){return n.kind==="Field"}function Yh(n){return n.kind==="InlineFragment"}function ii(n){__DEV__?R(n&&n.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):R(n&&n.kind==="Document",47);var e=n.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw __DEV__?new fe('Schema type definitions not allowed in queries. Found: "'.concat(t.kind,'"')):new fe(48);return t});return __DEV__?R(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):R(e.length<=1,49),n}function ar(n){return ii(n),n.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function ls(n){return n.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function qs(n){return n.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function nl(n){var e=ar(n);return __DEV__?R(e&&e.operation==="query","Must contain a query definition."):R(e&&e.operation==="query",50),e}function Jh(n){__DEV__?R(n.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):R(n.kind==="Document",51),__DEV__?R(n.definitions.length<=1,"Fragment must have exactly one definition."):R(n.definitions.length<=1,52);var e=n.definitions[0];return __DEV__?R(e.kind==="FragmentDefinition","Must be a fragment definition."):R(e.kind==="FragmentDefinition",53),e}function si(n){ii(n);for(var e,t=0,r=n.definitions;t<r.length;t++){var i=r[t];if(i.kind==="OperationDefinition"){var s=i.operation;if(s==="query"||s==="mutation"||s==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw __DEV__?new fe("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new fe(54)}function Vs(n){var e=Object.create(null),t=n&&n.variableDefinitions;return t&&t.length&&t.forEach(function(r){r.defaultValue&&Cn(e,r.variable.name,r.defaultValue)}),e}var xe=Array.isArray;function pt(n){return Array.isArray(n)&&n.length>0}var Wa={kind:Q.FIELD,name:{kind:Q.NAME,value:"__typename"}};function rl(n,e){return!n||n.selectionSet.selections.every(function(t){return t.kind===Q.FRAGMENT_SPREAD&&rl(e[t.name.value],e)})}function Xh(n){return rl(ar(n)||Jh(n),Fs(qs(n)))?null:n}function Zh(n){var e=new Set,t=[];return n.forEach(function(r){r.name?e.add(r.name):r.test&&t.push(r.test)}),function(r){return e.has(r.name.value)||t.some(function(i){return i(r)})}}function Ha(n){var e=new Map;return function(r){r===void 0&&(r=n);var i=e.get(r);return i||e.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function il(n,e){for(var t=Ha(""),r=Ha(""),i=function(x){for(var T=0,A=void 0;T<x.length&&(A=x[T]);++T)if(!xe(A)){if(A.kind===Q.OPERATION_DEFINITION)return t(A.name&&A.name.value);if(A.kind===Q.FRAGMENT_DEFINITION)return r(A.name.value)}return __DEV__&&R.error("Could not find operation or fragment"),null},s=0,a=e.definitions.length-1;a>=0;--a)e.definitions[a].kind===Q.OPERATION_DEFINITION&&++s;var c=Zh(n),u=n.some(function(x){return x.remove}),f=function(x){return u&&x&&x.some(c)},d=new Map,m=!1,v={enter:function(x){if(f(x.directives))return m=!0,null}},g=wt(e,{Field:v,InlineFragment:v,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(x,T,A,j,U){var M=i(U);M&&M.variables.add(x.name.value)}},FragmentSpread:{enter:function(x,T,A,j,U){if(f(x.directives))return m=!0,null;var M=i(U);M&&M.fragmentSpreads.add(x.name.value)}},FragmentDefinition:{enter:function(x,T,A,j){d.set(JSON.stringify(j),x)},leave:function(x,T,A,j){var U=d.get(JSON.stringify(j));if(x===U)return x;if(s>0&&x.selectionSet.selections.every(function(M){return M.kind===Q.FIELD&&M.name.value==="__typename"}))return r(x.name.value).removed=!0,m=!0,null}},Directive:{leave:function(x){if(c(x))return m=!0,null}}});if(!m)return e;var b=function(x){return x.transitiveVars||(x.transitiveVars=new Set(x.variables),x.removed||x.fragmentSpreads.forEach(function(T){b(r(T)).transitiveVars.forEach(function(A){x.transitiveVars.add(A)})})),x},_=new Set;g.definitions.forEach(function(x){x.kind===Q.OPERATION_DEFINITION?b(t(x.name&&x.name.value)).fragmentSpreads.forEach(function(T){_.add(T)}):x.kind===Q.FRAGMENT_DEFINITION&&s===0&&!r(x.name.value).removed&&_.add(x.name.value)}),_.forEach(function(x){b(r(x)).fragmentSpreads.forEach(function(T){_.add(T)})});var k=function(x){return!!(!_.has(x)||r(x).removed)},C={enter:function(x){if(k(x.name.value))return null}};return Xh(wt(g,{FragmentSpread:C,FragmentDefinition:C,OperationDefinition:{leave:function(x){if(x.variableDefinitions){var T=b(t(x.name&&x.name.value)).transitiveVars;if(T.size<x.variableDefinitions.length)return E(E({},x),{variableDefinitions:x.variableDefinitions.filter(function(A){return T.has(A.variable.name.value)})})}}}}))}var Qs=Object.assign(function(n){return wt(n,{SelectionSet:{enter:function(e,t,r){if(!(r&&r.kind===Q.OPERATION_DEFINITION)){var i=e.selections;if(!!i){var s=i.some(function(c){return Xt(c)&&(c.name.value==="__typename"||c.name.value.lastIndexOf("__",0)===0)});if(!s){var a=r;if(!(Xt(a)&&a.directives&&a.directives.some(function(c){return c.name.value==="export"})))return E(E({},e),{selections:Kt(Kt([],i,!0),[Wa],!1)})}}}}}})},{added:function(n){return n===Wa}}),ed={test:function(n){var e=n.name.value==="connection";return e&&(!n.arguments||!n.arguments.some(function(t){return t.name.value==="key"}))&&__DEV__&&R.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function td(n){return il([ed],ii(n))}function nd(n){var e=si(n),t=e.operation;if(t==="query")return n;var r=wt(n,{OperationDefinition:{enter:function(i){return E(E({},i),{operation:"query"})}}});return r}function rd(n){ii(n);var e=il([{test:function(t){return t.name.value==="client"},remove:!0}],n);return e}var id=Object.prototype.hasOwnProperty;function Ka(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return $s(n)}function $s(n){var e=n[0]||{},t=n.length;if(t>1)for(var r=new Dt,i=1;i<t;++i)e=r.merge(e,n[i]);return e}var sd=function(n,e,t){return this.merge(n[t],e[t])},Dt=function(){function n(e){e===void 0&&(e=sd),this.reconciler=e,this.isObject=Te,this.pastCopies=new Set}return n.prototype.merge=function(e,t){for(var r=this,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return Te(t)&&Te(e)?(Object.keys(t).forEach(function(a){if(id.call(e,a)){var c=e[a];if(t[a]!==c){var u=r.reconciler.apply(r,Kt([e,t,a],i,!1));u!==c&&(e=r.shallowCopyForMerge(e),e[a]=u)}}else e=r.shallowCopyForMerge(e),e[a]=t[a]}),e):t},n.prototype.shallowCopyForMerge=function(e){return Te(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=E({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},n}();function od(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=ad(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ad(n,e){if(!!n){if(typeof n=="string")return Ga(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ga(n,e)}}function Ga(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ya(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Us(n,e,t){return e&&Ya(n.prototype,e),t&&Ya(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var zs=function(){return typeof Symbol=="function"},Ws=function(n){return zs()&&Boolean(Symbol[n])},Hs=function(n){return Ws(n)?Symbol[n]:"@@"+n};zs()&&!Ws("observable")&&(Symbol.observable=Symbol("observable"));var cd=Hs("iterator"),us=Hs("observable"),sl=Hs("species");function Hr(n,e){var t=n[e];if(t!=null){if(typeof t!="function")throw new TypeError(t+" is not a function");return t}}function zn(n){var e=n.constructor;return e!==void 0&&(e=e[sl],e===null&&(e=void 0)),e!==void 0?e:we}function ld(n){return n instanceof we}function An(n){An.log?An.log(n):setTimeout(function(){throw n})}function Br(n){Promise.resolve().then(function(){try{n()}catch(e){An(e)}})}function ol(n){var e=n._cleanup;if(e!==void 0&&(n._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var t=Hr(e,"unsubscribe");t&&t.call(e)}}catch(r){An(r)}}function fs(n){n._observer=void 0,n._queue=void 0,n._state="closed"}function ud(n){var e=n._queue;if(!!e){n._queue=void 0,n._state="ready";for(var t=0;t<e.length&&(al(n,e[t].type,e[t].value),n._state!=="closed");++t);}}function al(n,e,t){n._state="running";var r=n._observer;try{var i=Hr(r,e);switch(e){case"next":i&&i.call(r,t);break;case"error":if(fs(n),i)i.call(r,t);else throw t;break;case"complete":fs(n),i&&i.call(r);break}}catch(s){An(s)}n._state==="closed"?ol(n):n._state==="running"&&(n._state="ready")}function Vi(n,e,t){if(n._state!=="closed"){if(n._state==="buffering"){n._queue.push({type:e,value:t});return}if(n._state!=="ready"){n._state="buffering",n._queue=[{type:e,value:t}],Br(function(){return ud(n)});return}al(n,e,t)}}var fd=function(){function n(t,r){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new hd(this);try{this._cleanup=r.call(void 0,i)}catch(s){i.error(s)}this._state==="initializing"&&(this._state="ready")}var e=n.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(fs(this),ol(this))},Us(n,[{key:"closed",get:function(){return this._state==="closed"}}]),n}(),hd=function(){function n(t){this._subscription=t}var e=n.prototype;return e.next=function(r){Vi(this._subscription,"next",r)},e.error=function(r){Vi(this._subscription,"error",r)},e.complete=function(){Vi(this._subscription,"complete")},Us(n,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),n}(),we=function(){function n(t){if(!(this instanceof n))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}var e=n.prototype;return e.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new fd(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(s,a){if(typeof r!="function"){a(new TypeError(r+" is not a function"));return}function c(){u.unsubscribe(),s()}var u=i.subscribe({next:function(f){try{r(f,c)}catch(d){a(d),u.unsubscribe()}},error:a,complete:s})})},e.map=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=zn(this);return new s(function(a){return i.subscribe({next:function(c){try{c=r(c)}catch(u){return a.error(u)}a.next(c)},error:function(c){a.error(c)},complete:function(){a.complete()}})})},e.filter=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=zn(this);return new s(function(a){return i.subscribe({next:function(c){try{if(!r(c))return}catch(u){return a.error(u)}a.next(c)},error:function(c){a.error(c)},complete:function(){a.complete()}})})},e.reduce=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=zn(this),a=arguments.length>1,c=!1,u=arguments[1],f=u;return new s(function(d){return i.subscribe({next:function(m){var v=!c;if(c=!0,!v||a)try{f=r(f,m)}catch(g){return d.error(g)}else f=m},error:function(m){d.error(m)},complete:function(){if(!c&&!a)return d.error(new TypeError("Cannot reduce an empty sequence"));d.next(f),d.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var c=zn(this);return new c(function(u){var f,d=0;function m(v){f=v.subscribe({next:function(g){u.next(g)},error:function(g){u.error(g)},complete:function(){d===s.length?(f=void 0,u.complete()):m(c.from(s[d++]))}})}return m(r),function(){f&&(f.unsubscribe(),f=void 0)}})},e.flatMap=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=zn(this);return new s(function(a){var c=[],u=i.subscribe({next:function(d){if(r)try{d=r(d)}catch(v){return a.error(v)}var m=s.from(d).subscribe({next:function(v){a.next(v)},error:function(v){a.error(v)},complete:function(){var v=c.indexOf(m);v>=0&&c.splice(v,1),f()}});c.push(m)},error:function(d){a.error(d)},complete:function(){f()}});function f(){u.closed&&c.length===0&&a.complete()}return function(){c.forEach(function(d){return d.unsubscribe()}),u.unsubscribe()}})},e[us]=function(){return this},n.from=function(r){var i=typeof this=="function"?this:n;if(r==null)throw new TypeError(r+" is not an object");var s=Hr(r,us);if(s){var a=s.call(r);if(Object(a)!==a)throw new TypeError(a+" is not an object");return ld(a)&&a.constructor===i?a:new i(function(c){return a.subscribe(c)})}if(Ws("iterator")&&(s=Hr(r,cd),s))return new i(function(c){Br(function(){if(!c.closed){for(var u=od(s.call(r)),f;!(f=u()).done;){var d=f.value;if(c.next(d),c.closed)return}c.complete()}})});if(Array.isArray(r))return new i(function(c){Br(function(){if(!c.closed){for(var u=0;u<r.length;++u)if(c.next(r[u]),c.closed)return;c.complete()}})});throw new TypeError(r+" is not observable")},n.of=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=typeof this=="function"?this:n;return new a(function(c){Br(function(){if(!c.closed){for(var u=0;u<i.length;++u)if(c.next(i[u]),c.closed)return;c.complete()}})})},Us(n,null,[{key:sl,get:function(){return this}}]),n}();zs()&&Object.defineProperty(we,Symbol("extensions"),{value:{symbol:us,hostReportError:An},configurable:!0});function dd(n){var e,t=n.Symbol;if(typeof t=="function")if(t.observable)e=t.observable;else{typeof t.for=="function"?e=t.for("https://github.com/benlesh/symbol-observable"):e=t("https://github.com/benlesh/symbol-observable");try{t.observable=e}catch{}}else e="@@observable";return e}var yn;typeof self<"u"?yn=self:typeof window<"u"?yn=window:typeof global<"u"?yn=global:typeof Cs<"u"?yn=Cs:yn=Function("return this")();dd(yn);var Ja=we.prototype,Xa="@@observable";Ja[Xa]||(Ja[Xa]=function(){return this});var pd=Object.prototype.toString;function cl(n){return hs(n)}function hs(n,e){switch(pd.call(n)){case"[object Array]":{if(e=e||new Map,e.has(n))return e.get(n);var t=n.slice(0);return e.set(n,t),t.forEach(function(i,s){t[s]=hs(i,e)}),t}case"[object Object]":{if(e=e||new Map,e.has(n))return e.get(n);var r=Object.create(Object.getPrototypeOf(n));return e.set(n,r),Object.keys(n).forEach(function(i){r[i]=hs(n[i],e)}),r}default:return n}}function vd(n){var e=new Set([n]);return e.forEach(function(t){Te(t)&&md(t)===t&&Object.getOwnPropertyNames(t).forEach(function(r){Te(t[r])&&e.add(t[r])})}),n}function md(n){if(__DEV__&&!Object.isFrozen(n))try{Object.freeze(n)}catch(e){if(e instanceof TypeError)return null;throw e}return n}function ds(n){return __DEV__&&vd(n),n}function Xn(n,e,t){var r=[];n.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](t)})}function Qi(n,e,t){return new we(function(r){var i=r.next,s=r.error,a=r.complete,c=0,u=!1,f={then:function(g){return new Promise(function(b){return b(g())})}};function d(g,b){return g?function(_){++c;var k=function(){return g(_)};f=f.then(k,k).then(function(C){--c,i&&i.call(r,C),u&&m.complete()},function(C){throw--c,C}).catch(function(C){s&&s.call(r,C)})}:function(_){return b&&b.call(r,_)}}var m={next:d(e,i),error:d(t,s),complete:function(){u=!0,c||a&&a.call(r)}},v=n.subscribe(m);return function(){return v.unsubscribe()}})}var Zt=typeof WeakMap=="function"&&rt(function(){return navigator.product})!=="ReactNative",gd=typeof WeakSet=="function",ll=typeof Symbol=="function"&&typeof Symbol.for=="function",oi=ll&&Symbol.asyncIterator;rt(function(){return window.document.createElement});rt(function(){return navigator.userAgent.indexOf("jsdom")>=0});function ul(n){function e(t){Object.defineProperty(n,t,{value:we})}return ll&&Symbol.species&&e(Symbol.species),e("@@species"),n}function Za(n){return n&&typeof n.then=="function"}var bn=function(n){ct(e,n);function e(t){var r=n.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,s){r.resolve=i,r.reject=s}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),Xn(r.observers,"next",i))},error:function(i){var s=r.sub;s!==null&&(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),Xn(r.observers,"error",i))},complete:function(){var i=r,s=i.sub,a=i.sources,c=a===void 0?[]:a;if(s!==null){var u=c.shift();u?Za(u)?u.then(function(f){return r.sub=f.subscribe(r.handlers)}):r.sub=u.subscribe(r.handlers):(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),Xn(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.complete()},r.promise.catch(function(i){}),typeof t=="function"&&(t=[new we(t)]),Za(t)?t.then(function(i){return r.start(i)},r.handlers.error):r.start(t),r}return e.prototype.start=function(t){this.sub===void 0&&(this.sources=Array.from(t),this.handlers.complete())},e.prototype.deliverLastMessage=function(t){if(this.latest){var r=this.latest[0],i=t[r];i&&i.call(t,this.latest[1]),this.sub===null&&r==="next"&&t.complete&&t.complete()}},e.prototype.addObserver=function(t){this.observers.has(t)||(this.deliverLastMessage(t),this.observers.add(t))},e.prototype.removeObserver=function(t){this.observers.delete(t)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(t,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(s){return s(t,r)}))},e.prototype.beforeNext=function(t){var r=!1;this.nextResultListeners.add(function(i,s){r||(r=!0,t(i,s))})},e}(we);ul(bn);function On(n){return"incremental"in n}function yd(n){return"hasNext"in n&&"data"in n}function bd(n){return On(n)||yd(n)}function _d(n){return Te(n)&&"payload"in n}function fl(n,e){var t=n,r=new Dt;return On(e)&&pt(e.incremental)&&e.incremental.forEach(function(i){for(var s=i.data,a=i.path,c=a.length-1;c>=0;--c){var u=a[c],f=!isNaN(+u),d=f?[]:{};d[u]=s,s=d}t=r.merge(t,s)}),t}function jr(n){var e=ps(n);return pt(e)}function ps(n){var e=pt(n.errors)?n.errors.slice(0):[];return On(n)&&pt(n.incremental)&&n.incremental.forEach(function(t){t.errors&&e.push.apply(e,t.errors)}),e}function ai(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Object.create(null);return n.forEach(function(r){!r||Object.keys(r).forEach(function(i){var s=r[i];s!==void 0&&(t[i]=s)})}),t}var ec=new Map;function vs(n){var e=ec.get(n)||1;return ec.set(n,e+1),"".concat(n,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function wd(n){var e=vs("stringifyForDisplay");return JSON.stringify(n,function(t,r){return r===void 0?e:r}).split(JSON.stringify(e)).join("<undefined>")}function $i(n,e){return ai(n,e,e.variables&&{variables:E(E({},n&&n.variables),e.variables)})}function tc(n){return new we(function(e){e.error(n)})}var ms=function(n,e,t){var r=new Error(t);throw r.name="ServerError",r.response=n,r.statusCode=n.status,r.result=e,r};function Ed(n){for(var e=["query","operationName","variables","extensions","context"],t=0,r=Object.keys(n);t<r.length;t++){var i=r[t];if(e.indexOf(i)<0)throw __DEV__?new fe("illegal argument: ".concat(i)):new fe(27)}return n}function Td(n,e){var t=E({},n),r=function(s){typeof s=="function"?t=E(E({},t),s(t)):t=E(E({},t),s)},i=function(){return E({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function xd(n){var e={variables:n.variables||{},extensions:n.extensions||{},operationName:n.operationName,query:n.query};return e.operationName||(e.operationName=typeof e.query!="string"?ls(e.query)||void 0:""),e}function nc(n,e){return e?e(n):we.of()}function Wn(n){return typeof n=="function"?new cr(n):n}function Lr(n){return n.request.length<=1}var kd=function(n){ct(e,n);function e(t,r){var i=n.call(this,t)||this;return i.link=r,i}return e}(Error),cr=function(){function n(e){e&&(this.request=e)}return n.empty=function(){return new n(function(){return we.of()})},n.from=function(e){return e.length===0?n.empty():e.map(Wn).reduce(function(t,r){return t.concat(r)})},n.split=function(e,t,r){var i=Wn(t),s=Wn(r||new n(nc));return Lr(i)&&Lr(s)?new n(function(a){return e(a)?i.request(a)||we.of():s.request(a)||we.of()}):new n(function(a,c){return e(a)?i.request(a,c)||we.of():s.request(a,c)||we.of()})},n.execute=function(e,t){return e.request(Td(t.context,xd(Ed(t))))||we.of()},n.concat=function(e,t){var r=Wn(e);if(Lr(r))return __DEV__&&R.warn(new kd("You are calling concat on a terminating link, which will have no effect",r)),r;var i=Wn(t);return Lr(i)?new n(function(s){return r.request(s,function(a){return i.request(a)||we.of()})||we.of()}):new n(function(s,a){return r.request(s,function(c){return i.request(c,a)||we.of()})||we.of()})},n.prototype.split=function(e,t,r){return this.concat(n.split(e,t,r||new n(nc)))},n.prototype.concat=function(e){return n.concat(this,e)},n.prototype.request=function(e,t){throw __DEV__?new fe("request is not implemented"):new fe(22)},n.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},n.prototype.setOnError=function(e){return this.onError=e,this},n}(),gs=cr.execute,Pd="3.7.12";function Od(n){return!!n.body}function Sd(n){return!!n.getReader}function Id(n){return!!(oi&&n[Symbol.asyncIterator])}function Cd(n){return!!n.stream}function Ad(n){return!!n.arrayBuffer}function Dd(n){return!!n.pipe}function Nd(n){var e,t=n[Symbol.asyncIterator]();return e={next:function(){return t.next()}},e[Symbol.asyncIterator]=function(){return this},e}function Ld(n){var e=null,t=null,r=!1,i=[],s=[];function a(m){if(!t){if(s.length){var v=s.shift();if(Array.isArray(v)&&v[0])return v[0]({value:m,done:!1})}i.push(m)}}function c(m){t=m;var v=s.slice();v.forEach(function(g){g[1](m)}),!e||e()}function u(){r=!0;var m=s.slice();m.forEach(function(v){v[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,n.removeListener("data",a),n.removeListener("error",c),n.removeListener("end",u),n.removeListener("finish",u),n.removeListener("close",u)},n.on("data",a),n.on("error",c),n.on("end",u),n.on("finish",u),n.on("close",u);function f(){return new Promise(function(m,v){if(t)return v(t);if(i.length)return m({value:i.shift(),done:!1});if(r)return m({value:void 0,done:!0});s.push([m,v])})}var d={next:function(){return f()}};return oi&&(d[Symbol.asyncIterator]=function(){return this}),d}function Rd(n){var e=!1,t={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,i){n.then(function(s){r({value:s,done:!1})}).catch(i)}))}};return oi&&(t[Symbol.asyncIterator]=function(){return this}),t}function rc(n){var e={next:function(){return n.read()}};return oi&&(e[Symbol.asyncIterator]=function(){return this}),e}function Md(n){var e=n;if(Od(n)&&(e=n.body),Id(e))return Nd(e);if(Sd(e))return rc(e.getReader());if(Cd(e))return rc(e.stream().getReader());if(Ad(e))return Rd(e.arrayBuffer());if(Dd(e))return Ld(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Ks=Symbol();function Fd(n){return n.extensions?Array.isArray(n.extensions[Ks]):!1}function Bd(n){return n.hasOwnProperty("graphQLErrors")}var jd=function(n){var e=Kt(Kt(Kt([],n.graphQLErrors,!0),n.clientErrors,!0),n.protocolErrors,!0);return n.networkError&&e.push(n.networkError),e.map(function(t){return Te(t)&&t.message||"Error message not found."}).join(`
`)},gn=function(n){ct(e,n);function e(t){var r=t.graphQLErrors,i=t.protocolErrors,s=t.clientErrors,a=t.networkError,c=t.errorMessage,u=t.extraInfo,f=n.call(this,c)||this;return f.name="ApolloError",f.graphQLErrors=r||[],f.protocolErrors=i||[],f.clientErrors=s||[],f.networkError=a||null,f.message=c||jd(f),f.extraInfo=u,f.__proto__=e.prototype,f}return e}(Error),ic=Object.prototype.hasOwnProperty;function qd(n,e){var t,r,i,s,a;return St(this,void 0,void 0,function(){var c,u,f,d,m,v,g,b,_,k,C,x,T,A,j,U,M,z,W,H,Z,ie;return It(this,function(ce){switch(ce.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");c=new TextDecoder("utf-8"),u=(t=n.headers)===null||t===void 0?void 0:t.get("content-type"),f="boundary=",d=u?.includes(f)?u?.substring(u?.indexOf(f)+f.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",m="--".concat(d),v="",g=Md(n),b=!0,ce.label=1;case 1:return b?[4,g.next()]:[3,3];case 2:for(_=ce.sent(),k=_.value,C=_.done,x=typeof k=="string"?k:c.decode(k),b=!C,v+=x,T=v.indexOf(m);T>-1;){if(A=void 0,Z=[v.slice(0,T),v.slice(T+m.length)],A=Z[0],v=Z[1],A.trim()){if(j=A.indexOf(`\r
\r
`),U=Vd(A.slice(0,j)),M=U["content-type"],M&&M.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");z=A.slice(j);try{W=hl(n,z.replace(`\r
`,"")),Object.keys(W).length>1||"data"in W||"incremental"in W||"errors"in W||"payload"in W?_d(W)?(H={},"payload"in W&&(H=E({},W.payload)),"errors"in W&&(H=E(E({},H),{extensions:E(E({},"extensions"in H?H.extensions:null),(ie={},ie[Ks]=W.errors,ie))})),(r=e.next)===null||r===void 0||r.call(e,H)):(i=e.next)===null||i===void 0||i.call(e,W):Object.keys(W).length===1&&"hasNext"in W&&!W.hasNext&&((s=e.complete)===null||s===void 0||s.call(e))}catch(Ce){Gs(Ce,e)}}T=v.indexOf(m)}return[3,1];case 3:return(a=e.complete)===null||a===void 0||a.call(e),[2]}})})}function Vd(n){var e={};return n.split(`
`).forEach(function(t){var r=t.indexOf(":");if(r>-1){var i=t.slice(0,r).trim().toLowerCase(),s=t.slice(r+1).trim();e[i]=s}}),e}function hl(n,e){if(n.status>=300){var t=function(){try{return JSON.parse(e)}catch{return e}};ms(n,t(),"Response not successful: Received status code ".concat(n.status))}try{return JSON.parse(e)}catch(i){var r=i;throw r.name="ServerParseError",r.response=n,r.statusCode=n.status,r.bodyText=e,r}}function Gs(n,e){var t,r;n.name!=="AbortError"&&(n.result&&n.result.errors&&n.result.data&&((t=e.next)===null||t===void 0||t.call(e,n.result)),(r=e.error)===null||r===void 0||r.call(e,n))}function Qd(n,e,t){$d(e)(n).then(function(r){var i,s;(i=t.next)===null||i===void 0||i.call(t,r),(s=t.complete)===null||s===void 0||s.call(t)}).catch(function(r){return Gs(r,t)})}function $d(n){return function(e){return e.text().then(function(t){return hl(e,t)}).then(function(t){return e.status>=300&&ms(e,t,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(t)&&!ic.call(t,"data")&&!ic.call(t,"errors")&&ms(e,t,"Server response was missing for query '".concat(Array.isArray(n)?n.map(function(r){return r.operationName}):n.operationName,"'.")),t})}}var ys=function(n,e){var t;try{t=JSON.stringify(n)}catch(i){var r=__DEV__?new fe("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new fe(24);throw r.parseError=i,r}return t},Ud={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},zd={accept:"*/*","content-type":"application/json"},Wd={method:"POST"},Hd={http:Ud,headers:zd,options:Wd},Kd=function(n,e){return e(n)};function Gd(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i={},s={};t.forEach(function(m){i=E(E(E({},i),m.options),{headers:E(E({},i.headers),m.headers)}),m.credentials&&(i.credentials=m.credentials),s=E(E({},s),m.http)}),i.headers&&(i.headers=Yd(i.headers,s.preserveHeaderCase));var a=n.operationName,c=n.extensions,u=n.variables,f=n.query,d={operationName:a,variables:u};return s.includeExtensions&&(d.extensions=c),s.includeQuery&&(d.query=e(f,Sh)),{options:i,body:d}}function Yd(n,e){if(!e){var t=Object.create(null);return Object.keys(Object(n)).forEach(function(s){t[s.toLowerCase()]=n[s]}),t}var r=Object.create(null);Object.keys(Object(n)).forEach(function(s){r[s.toLowerCase()]={originalName:s,value:n[s]}});var i=Object.create(null);return Object.keys(r).forEach(function(s){i[r[s].originalName]=r[s].value}),i}var Jd=function(n){if(!n&&typeof fetch>"u")throw __DEV__?new fe(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new fe(23)},Xd=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var n=new AbortController,e=n.signal;return{controller:n,signal:e}},Zd=function(n,e){var t=n.getContext(),r=t.uri;return r||(typeof e=="function"?e(n):e||"/graphql")};function ep(n,e){var t=[],r=function(m,v){t.push("".concat(m,"=").concat(encodeURIComponent(v)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=ys(e.variables,"Variables map")}catch(m){return{parseError:m}}r("variables",i)}if(e.extensions){var s=void 0;try{s=ys(e.extensions,"Extensions map")}catch(m){return{parseError:m}}r("extensions",s)}var a="",c=n,u=n.indexOf("#");u!==-1&&(a=n.substr(u),c=n.substr(0,u));var f=c.indexOf("?")===-1?"?":"&",d=c+f+t.join("&")+a;return{newURI:d}}var sc=rt(function(){return fetch}),tp=function(n){n===void 0&&(n={});var e=n.uri,t=e===void 0?"/graphql":e,r=n.fetch,i=n.print,s=i===void 0?Kd:i,a=n.includeExtensions,c=n.preserveHeaderCase,u=n.useGETForQueries,f=n.includeUnusedVariables,d=f===void 0?!1:f,m=In(n,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&Jd(r||sc);var v={http:{includeExtensions:a,preserveHeaderCase:c},options:m.fetchOptions,credentials:m.credentials,headers:m.headers};return new cr(function(g){var b=Zd(g,t),_=g.getContext(),k={};if(_.clientAwareness){var C=_.clientAwareness,x=C.name,T=C.version;x&&(k["apollographql-client-name"]=x),T&&(k["apollographql-client-version"]=T)}var A=E(E({},k),_.headers),j={http:_.http,options:_.fetchOptions,credentials:_.credentials,headers:A},U=Gd(g,s,Hd,v,j),M=U.options,z=U.body;if(z.variables&&!d){var W=new Set(Object.keys(z.variables));wt(g.query,{Variable:function(le,Ge,Be){Be&&Be.kind!=="VariableDefinition"&&W.delete(le.name.value)}}),W.size&&(z.variables=E({},z.variables),W.forEach(function(le){delete z.variables[le]}))}var H;if(!M.signal){var Z=Xd(),ie=Z.controller,ce=Z.signal;H=ie,H&&(M.signal=ce)}var Ce=function(le){return le.kind==="OperationDefinition"&&le.operation==="mutation"},He=function(le){return le.kind==="OperationDefinition"&&le.operation==="subscription"},Tt=He(si(g.query)),Y=Ms(["defer"],g.query);if(u&&!g.query.definitions.some(Ce)&&(M.method="GET"),Y||Tt){M.headers=M.headers||{};var B="multipart/mixed;";Tt&&Y&&__DEV__&&R.warn("Multipart-subscriptions do not support @defer"),Tt?B+="boundary=graphql;subscriptionSpec=1.0,application/json":Y&&(B+="deferSpec=20220824,application/json"),M.headers.accept=B}if(M.method==="GET"){var Oe=ep(b,z),O=Oe.newURI,xt=Oe.parseError;if(xt)return tc(xt);b=O}else try{M.body=ys(z,"Payload")}catch(le){return tc(le)}return new we(function(le){var Ge=r||rt(function(){return fetch})||sc;return Ge(b,M).then(function(Be){var it;g.setContext({response:Be});var je=(it=Be.headers)===null||it===void 0?void 0:it.get("content-type");return je!==null&&/^multipart\/mixed/i.test(je)?qd(Be,le):Qd(Be,g,le)}).catch(function(Be){return Gs(Be,le)}),function(){H&&H.abort()}})})},np=function(n){ct(e,n);function e(t){t===void 0&&(t={});var r=n.call(this,tp(t).request)||this;return r.options=t,r}return e}(cr),dl=Object.prototype,oc=dl.toString,rp=dl.hasOwnProperty,ac=Function.prototype.toString,bs=new Map;function Ie(n,e){try{return _s(n,e)}finally{bs.clear()}}function _s(n,e){if(n===e)return!0;var t=oc.call(n),r=oc.call(e);if(t!==r)return!1;switch(t){case"[object Array]":if(n.length!==e.length)return!1;case"[object Object]":{if(lc(n,e))return!0;var i=cc(n),s=cc(e),a=i.length;if(a!==s.length)return!1;for(var c=0;c<a;++c)if(!rp.call(e,i[c]))return!1;for(var c=0;c<a;++c){var u=i[c];if(!_s(n[u],e[u]))return!1}return!0}case"[object Error]":return n.name===e.name&&n.message===e.message;case"[object Number]":if(n!==n)return e!==e;case"[object Boolean]":case"[object Date]":return+n==+e;case"[object RegExp]":case"[object String]":return n=="".concat(e);case"[object Map]":case"[object Set]":{if(n.size!==e.size)return!1;if(lc(n,e))return!0;for(var f=n.entries(),d=t==="[object Map]";;){var m=f.next();if(m.done)break;var v=m.value,g=v[0],b=v[1];if(!e.has(g)||d&&!_s(b,e.get(g)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":n=new Uint8Array(n),e=new Uint8Array(e);case"[object DataView]":{var _=n.byteLength;if(_===e.byteLength)for(;_--&&n[_]===e[_];);return _===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var k=ac.call(n);return k!==ac.call(e)?!1:!op(k,sp)}}return!1}function cc(n){return Object.keys(n).filter(ip,n)}function ip(n){return this[n]!==void 0}var sp="{ [native code] }";function op(n,e){var t=n.length-e.length;return t>=0&&n.indexOf(e,t)===t}function lc(n,e){var t=bs.get(n);if(t){if(t.has(e))return!0}else bs.set(n,t=new Set);return t.add(e),!1}var ap=function(){return Object.create(null)},pl=Array.prototype,cp=pl.forEach,lp=pl.slice,lr=function(){function n(e,t){e===void 0&&(e=!0),t===void 0&&(t=ap),this.weakness=e,this.makeData=t}return n.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},n.prototype.lookupArray=function(e){var t=this;return cp.call(e,function(r){return t=t.getChildTrie(r)}),t.data||(t.data=this.makeData(lp.call(e)))},n.prototype.getChildTrie=function(e){var t=this.weakness&&up(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=t.get(e);return r||t.set(e,r=new n(this.weakness,this.makeData)),r},n}();function up(n){switch(typeof n){case"object":if(n===null)break;case"function":return!0}return!1}var Fe=null,uc={},fp=1,hp=function(){return function(){function n(){this.id=["slot",fp++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return n.prototype.hasValue=function(){for(var e=Fe;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===uc)break;return e!==Fe&&(Fe.slots[this.id]=t),!0}return Fe&&(Fe.slots[this.id]=uc),!1},n.prototype.getValue=function(){if(this.hasValue())return Fe.slots[this.id]},n.prototype.withValue=function(e,t,r,i){var s,a=(s={__proto__:null},s[this.id]=e,s),c=Fe;Fe={parent:c,slots:a};try{return t.apply(i,r)}finally{Fe=c}},n.bind=function(e){var t=Fe;return function(){var r=Fe;try{return Fe=t,e.apply(this,arguments)}finally{Fe=r}}},n.noContext=function(e,t,r){if(Fe){var i=Fe;try{return Fe=null,e.apply(r,t)}finally{Fe=i}}else return e.apply(r,t)},n}()};function fc(n){try{return n()}catch{}}var Ui="@wry/context:Slot",dp=fc(function(){return globalThis})||fc(function(){return global})||Object.create(null),hc=dp,ci=hc[Ui]||Array[Ui]||function(n){try{Object.defineProperty(hc,Ui,{value:n,enumerable:!1,writable:!1,configurable:!0})}finally{return n}}(hp());ci.bind;ci.noContext;function pp(){}var vp=function(){function n(e,t){e===void 0&&(e=1/0),t===void 0&&(t=pp),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return n.prototype.has=function(e){return this.map.has(e)},n.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},n.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var r=t.older,i=t.newer;i&&(i.older=r),r&&(r.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t},n.prototype.set=function(e,t){var r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},n.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},n.prototype.delete=function(e){var t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1},n}(),li=new ci,zi,mp=Object.prototype.hasOwnProperty,Ys=(zi=Array.from,zi===void 0?function(n){var e=[];return n.forEach(function(t){return e.push(t)}),e}:zi);function Kr(n){var e=n.unsubscribe;typeof e=="function"&&(n.unsubscribe=void 0,e())}var nr=[],gp=100;function Dn(n,e){if(!n)throw new Error(e||"assertion failure")}function yp(n,e){var t=n.length;return t>0&&t===e.length&&n[t-1]===e[t-1]}function vl(n){switch(n.length){case 0:throw new Error("unknown value");case 1:return n[0];case 2:throw n[1]}}function bp(n){return n.slice(0)}var _p=function(){function n(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++n.count}return n.prototype.peek=function(){if(this.value.length===1&&!Nt(this))return dc(this),this.value[0]},n.prototype.recompute=function(e){return Dn(!this.recomputing,"already recomputing"),dc(this),Nt(this)?wp(this,e):vl(this.value)},n.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ml(this),Kr(this))},n.prototype.dispose=function(){var e=this;this.setDirty(),wl(this),Js(this,function(t,r){t.setDirty(),El(t,e)})},n.prototype.forget=function(){this.dispose()},n.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=nr.pop()||new Set),this.deps.add(e)},n.prototype.forgetDeps=function(){var e=this;this.deps&&(Ys(this.deps).forEach(function(t){return t.delete(e)}),this.deps.clear(),nr.push(this.deps),this.deps=null)},n.count=0,n}();function dc(n){var e=li.getValue();if(e)return n.parents.add(e),e.childValues.has(n)||e.childValues.set(n,[]),Nt(n)?yl(e,n):bl(e,n),e}function wp(n,e){return wl(n),li.withValue(n,Ep,[n,e]),xp(n,e)&&Tp(n),vl(n.value)}function Ep(n,e){n.recomputing=!0,n.value.length=0;try{n.value[0]=n.fn.apply(null,e)}catch(t){n.value[1]=t}n.recomputing=!1}function Nt(n){return n.dirty||!!(n.dirtyChildren&&n.dirtyChildren.size)}function Tp(n){n.dirty=!1,!Nt(n)&&gl(n)}function ml(n){Js(n,yl)}function gl(n){Js(n,bl)}function Js(n,e){var t=n.parents.size;if(t)for(var r=Ys(n.parents),i=0;i<t;++i)e(r[i],n)}function yl(n,e){Dn(n.childValues.has(e)),Dn(Nt(e));var t=!Nt(n);if(!n.dirtyChildren)n.dirtyChildren=nr.pop()||new Set;else if(n.dirtyChildren.has(e))return;n.dirtyChildren.add(e),t&&ml(n)}function bl(n,e){Dn(n.childValues.has(e)),Dn(!Nt(e));var t=n.childValues.get(e);t.length===0?n.childValues.set(e,bp(e.value)):yp(t,e.value)||n.setDirty(),_l(n,e),!Nt(n)&&gl(n)}function _l(n,e){var t=n.dirtyChildren;t&&(t.delete(e),t.size===0&&(nr.length<gp&&nr.push(t),n.dirtyChildren=null))}function wl(n){n.childValues.size>0&&n.childValues.forEach(function(e,t){El(n,t)}),n.forgetDeps(),Dn(n.dirtyChildren===null)}function El(n,e){e.parents.delete(n),n.childValues.delete(e),_l(n,e)}function xp(n,e){if(typeof n.subscribe=="function")try{Kr(n),n.unsubscribe=n.subscribe.apply(null,e)}catch{return n.setDirty(),!1}return!0}var kp={setDirty:!0,dispose:!0,forget:!0};function Tl(n){var e=new Map,t=n&&n.subscribe;function r(i){var s=li.getValue();if(s){var a=e.get(i);a||e.set(i,a=new Set),s.dependOn(a),typeof t=="function"&&(Kr(a),a.unsubscribe=t(i))}}return r.dirty=function(s,a){var c=e.get(s);if(c){var u=a&&mp.call(kp,a)?a:"setDirty";Ys(c).forEach(function(f){return f[u]()}),e.delete(s),Kr(c)}},r}function xl(){var n=new lr(typeof WeakMap=="function");return function(){return n.lookupArray(arguments)}}xl();var Wi=new Set;function Gr(n,e){e===void 0&&(e=Object.create(null));var t=new vp(e.max||Math.pow(2,16),function(f){return f.dispose()}),r=e.keyArgs,i=e.makeCacheKey||xl(),s=function(){var f=i.apply(null,r?r.apply(null,arguments):arguments);if(f===void 0)return n.apply(null,arguments);var d=t.get(f);d||(t.set(f,d=new _p(n)),d.subscribe=e.subscribe,d.forget=function(){return t.delete(f)});var m=d.recompute(Array.prototype.slice.call(arguments));return t.set(f,d),Wi.add(t),li.hasValue()||(Wi.forEach(function(v){return v.clean()}),Wi.clear()),m};Object.defineProperty(s,"size",{get:function(){return t.map.size},configurable:!1,enumerable:!1});function a(f){var d=t.get(f);d&&d.setDirty()}s.dirtyKey=a,s.dirty=function(){a(i.apply(null,arguments))};function c(f){var d=t.get(f);if(d)return d.peek()}s.peekKey=c,s.peek=function(){return c(i.apply(null,arguments))};function u(f){return t.delete(f)}return s.forgetKey=u,s.forget=function(){return u(i.apply(null,arguments))},s.makeCacheKey=i,s.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(s)}var Pp=function(){function n(){this.getFragmentDoc=Gr(Mh)}return n.prototype.batch=function(e){var t=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(t)},r),i},n.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},n.prototype.transformDocument=function(e){return e},n.prototype.transformForLink=function(e){return e},n.prototype.identify=function(e){},n.prototype.gc=function(){return[]},n.prototype.modify=function(e){return!1},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!!e.optimistic),this.read(E(E({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!!e.optimistic),this.read(E(E({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},n.prototype.writeQuery=function(e){var t=e.id,r=e.data,i=In(e,["id","data"]);return this.write(Object.assign(i,{dataId:t||"ROOT_QUERY",result:r}))},n.prototype.writeFragment=function(e){var t=e.id,r=e.data,i=e.fragment,s=e.fragmentName,a=In(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(a,{query:this.getFragmentDoc(i,s),dataId:t,result:r}))},n.prototype.updateQuery=function(e,t){return this.batch({update:function(r){var i=r.readQuery(e),s=t(i);return s==null?i:(r.writeQuery(E(E({},e),{data:s})),s)}})},n.prototype.updateFragment=function(e,t){return this.batch({update:function(r){var i=r.readFragment(e),s=t(i);return s==null?i:(r.writeFragment(E(E({},e),{data:s})),s)}})},n}(),kl=function(n){ct(e,n);function e(t,r,i,s){var a,c=n.call(this,t)||this;if(c.message=t,c.path=r,c.query=i,c.variables=s,Array.isArray(c.path)){c.missing=c.message;for(var u=c.path.length-1;u>=0;--u)c.missing=(a={},a[c.path[u]]=c.missing,a)}else c.missing=c.path;return c.__proto__=e.prototype,c}return e}(Error),De=Object.prototype.hasOwnProperty;function Hn(n){return n==null}function Pl(n,e){var t=n.__typename,r=n.id,i=n._id;if(typeof t=="string"&&(e&&(e.keyObject=Hn(r)?Hn(i)?void 0:{_id:i}:{id:r}),Hn(r)&&!Hn(i)&&(r=i),!Hn(r)))return"".concat(t,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var Ol={dataIdFromObject:Pl,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Op(n){return ai(Ol,n)}function Sl(n){var e=n.canonizeResults;return e===void 0?Ol.canonizeResults:e}function Sp(n,e){return pe(e)?n.get(e.__ref,"__typename"):e&&e.__typename}var Il=/^[_a-z][_0-9a-z]*/i;function Lt(n){var e=n.match(Il);return e?e[0]:n}function ws(n,e,t){return Te(e)?xe(e)?e.every(function(r){return ws(n,r,t)}):n.selections.every(function(r){if(Xt(r)&&ni(r,t)){var i=Jt(r);return De.call(e,i)&&(!r.selectionSet||ws(r.selectionSet,e[i],t))}return!0}):!1}function En(n){return Te(n)&&!pe(n)&&!xe(n)}function Ip(){return new Dt}function Cl(n,e){var t=Fs(qs(n));return{fragmentMap:t,lookupFragment:function(r){var i=t[r];return!i&&e&&(i=e.lookup(r)),i||null}}}var qr=Object.create(null),Hi=function(){return qr},pc=Object.create(null),rr=function(){function n(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,s){return ds(pe(i)?r.get(i.__ref,s):i&&i[s])},this.canRead=function(i){return pe(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,s){if(typeof i=="string")return Pn(i);if(pe(i))return i;var a=r.policies.identify(i)[0];if(a){var c=Pn(a);return s&&r.merge(a,i),c}}}return n.prototype.toObject=function(){return E({},this.data)},n.prototype.has=function(e){return this.lookup(e,!0)!==void 0},n.prototype.get=function(e,t){if(this.group.depend(e,t),De.call(this.data,e)){var r=this.data[e];if(r&&De.call(r,t))return r[t]}if(t==="__typename"&&De.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof Ot)return this.parent.get(e,t)},n.prototype.lookup=function(e,t){if(t&&this.group.depend(e,"__exists"),De.call(this.data,e))return this.data[e];if(this instanceof Ot)return this.parent.lookup(e,t);if(this.policies.rootTypenamesById[e])return Object.create(null)},n.prototype.merge=function(e,t){var r=this,i;pe(e)&&(e=e.__ref),pe(t)&&(t=t.__ref);var s=typeof e=="string"?this.lookup(i=e):e,a=typeof t=="string"?this.lookup(i=t):t;if(!!a){__DEV__?R(typeof i=="string","store.merge expects a string ID"):R(typeof i=="string",1);var c=new Dt(Ap).merge(s,a);if(this.data[i]=c,c!==s&&(delete this.refs[i],this.group.caching)){var u=Object.create(null);s||(u.__exists=1),Object.keys(a).forEach(function(f){if(!s||s[f]!==c[f]){u[f]=1;var d=Lt(f);d!==f&&!r.policies.hasKeyArgs(c.__typename,d)&&(u[d]=1),c[f]===void 0&&!(r instanceof Ot)&&delete c[f]}}),u.__typename&&!(s&&s.__typename)&&this.policies.rootTypenamesById[i]===c.__typename&&delete u.__typename,Object.keys(u).forEach(function(f){return r.group.dirty(i,f)})}}},n.prototype.modify=function(e,t){var r=this,i=this.lookup(e);if(i){var s=Object.create(null),a=!1,c=!0,u={DELETE:qr,INVALIDATE:pc,isReference:pe,toReference:this.toReference,canRead:this.canRead,readField:function(f,d){return r.policies.readField(typeof f=="string"?{fieldName:f,from:d||Pn(e)}:f,{store:r})}};if(Object.keys(i).forEach(function(f){var d=Lt(f),m=i[f];if(m!==void 0){var v=typeof t=="function"?t:t[f]||t[d];if(v){var g=v===Hi?qr:v(ds(m),E(E({},u),{fieldName:d,storeFieldName:f,storage:r.getStorage(e,f)}));g===pc?r.group.dirty(e,f):(g===qr&&(g=void 0),g!==m&&(s[f]=g,a=!0,m=g))}m!==void 0&&(c=!1)}}),a)return this.merge(e,s),c&&(this instanceof Ot?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},n.prototype.delete=function(e,t,r){var i,s=this.lookup(e);if(s){var a=this.getFieldValue(s,"__typename"),c=t&&r?this.policies.getStoreFieldName({typename:a,fieldName:t,args:r}):t;return this.modify(e,c?(i={},i[c]=Hi,i):Hi)}return!1},n.prototype.evict=function(e,t){var r=!1;return e.id&&(De.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof Ot&&this!==t&&(r=this.parent.evict(e,t)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},n.prototype.clear=function(){this.replace(null)},n.prototype.extract=function(){var e=this,t=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){De.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(t.__META={extraRootIds:r.sort()}),t},n.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach(function(s){e&&De.call(e,s)||t.delete(s)}),e){var r=e.__META,i=In(e,["__META"]);Object.keys(i).forEach(function(s){t.merge(s,i[s])}),r&&r.extraRootIds.forEach(this.retain,this)}},n.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},n.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},n.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Ot?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},n.prototype.gc=function(){var e=this,t=this.getRootIdSet(),r=this.toObject();t.forEach(function(a){De.call(r,a)&&(Object.keys(e.findChildRefIds(a)).forEach(t.add,t),delete r[a])});var i=Object.keys(r);if(i.length){for(var s=this;s instanceof Ot;)s=s.parent;i.forEach(function(a){return s.delete(a)})}return i},n.prototype.findChildRefIds=function(e){if(!De.call(this.refs,e)){var t=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return t;var i=new Set([r]);i.forEach(function(s){pe(s)&&(t[s.__ref]=!0),Te(s)&&Object.keys(s).forEach(function(a){var c=s[a];Te(c)&&i.add(c)})})}return this.refs[e]},n.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},n}(),Al=function(){function n(e,t){t===void 0&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return n.prototype.resetCaching=function(){this.d=this.caching?Tl():null,this.keyMaker=new lr(Zt)},n.prototype.depend=function(e,t){if(this.d){this.d(Ki(e,t));var r=Lt(t);r!==t&&this.d(Ki(e,r)),this.parent&&this.parent.depend(e,t)}},n.prototype.dirty=function(e,t){this.d&&this.d.dirty(Ki(e,t),t==="__exists"?"forget":"setDirty")},n}();function Ki(n,e){return e+"#"+n}function vc(n,e){Zn(n)&&n.group.depend(e,"__exists")}(function(n){var e=function(t){ct(r,t);function r(i){var s=i.policies,a=i.resultCaching,c=a===void 0?!0:a,u=i.seed,f=t.call(this,s,new Al(c))||this;return f.stump=new Cp(f),f.storageTrie=new lr(Zt),u&&f.replace(u),f}return r.prototype.addLayer=function(i,s){return this.stump.addLayer(i,s)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(n);n.Root=e})(rr||(rr={}));var Ot=function(n){ct(e,n);function e(t,r,i,s){var a=n.call(this,r.policies,s)||this;return a.id=t,a.parent=r,a.replay=i,a.group=s,i(a),a}return e.prototype.addLayer=function(t,r){return new e(t,this,r,this.group)},e.prototype.removeLayer=function(t){var r=this,i=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(s){var a=r.data[s],c=i.lookup(s);c?a?a!==c&&Object.keys(a).forEach(function(u){Ie(a[u],c[u])||r.group.dirty(s,u)}):(r.group.dirty(s,"__exists"),Object.keys(c).forEach(function(u){r.group.dirty(s,u)})):r.delete(s)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return E(E({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(t){var r=this.parent.findChildRefIds(t);return De.call(this.data,t)?E(E({},r),n.prototype.findChildRefIds.call(this,t)):r},e.prototype.getStorage=function(){for(var t=this.parent;t.parent;)t=t.parent;return t.getStorage.apply(t,arguments)},e}(rr),Cp=function(n){ct(e,n);function e(t){return n.call(this,"EntityStore.Stump",t,function(){},new Al(t.group.caching,t.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(Ot);function Ap(n,e,t){var r=n[t],i=e[t];return Ie(r,i)?r:i}function Zn(n){return!!(n instanceof rr&&n.group.caching)}function Dp(n){return Te(n)?xe(n)?n.slice(0):E({__proto__:Object.getPrototypeOf(n)},n):n}var Es=function(){function n(){this.known=new(gd?WeakSet:Set),this.pool=new lr(Zt),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return n.prototype.isKnown=function(e){return Te(e)&&this.known.has(e)},n.prototype.pass=function(e){if(Te(e)){var t=Dp(e);return this.passes.set(t,e),t}return e},n.prototype.admit=function(e){var t=this;if(Te(e)){var r=this.passes.get(e);if(r)return r;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var s=e.map(this.admit,this),a=this.pool.lookupArray(s);return a.array||(this.known.add(a.array=s),__DEV__&&Object.freeze(s)),a.array}case null:case Object.prototype:{if(this.known.has(e))return e;var c=Object.getPrototypeOf(e),u=[c],f=this.sortedKeys(e);u.push(f.json);var d=u.length;f.sorted.forEach(function(g){u.push(t.admit(e[g]))});var a=this.pool.lookupArray(u);if(!a.object){var m=a.object=Object.create(c);this.known.add(m),f.sorted.forEach(function(g,b){m[g]=u[d+b]}),__DEV__&&Object.freeze(m)}return a.object}}}return e},n.prototype.sortedKeys=function(e){var t=Object.keys(e),r=this.pool.lookupArray(t);if(!r.keys){t.sort();var i=JSON.stringify(t);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:t,json:i})}return r.keys},n}(),Gt=Object.assign(function(n){if(Te(n)){Ts===void 0&&mc();var e=Ts.admit(n),t=xs.get(e);return t===void 0&&xs.set(e,t=JSON.stringify(e)),t}return JSON.stringify(n)},{reset:mc}),Ts,xs;function mc(){Ts=new Es,xs=new(Zt?WeakMap:Map)}function gc(n){return[n.selectionSet,n.objectOrReference,n.context,n.context.canonizeResults]}var Np=function(){function n(e){var t=this;this.knownResults=new(Zt?WeakMap:Map),this.config=ai(e,{addTypename:e.addTypename!==!1,canonizeResults:Sl(e)}),this.canon=e.canon||new Es,this.executeSelectionSet=Gr(function(r){var i,s=r.context.canonizeResults,a=gc(r);a[3]=!s;var c=(i=t.executeSelectionSet).peek.apply(i,a);return c?s?E(E({},c),{result:t.canon.admit(c.result)}):c:(vc(r.context.store,r.enclosingRef.__ref),t.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize,keyArgs:gc,makeCacheKey:function(r,i,s,a){if(Zn(s.store))return s.store.makeCacheKey(r,pe(i)?i.__ref:i,s.varString,a)}}),this.executeSubSelectedArray=Gr(function(r){return vc(r.context.store,r.enclosingRef.__ref),t.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(r){var i=r.field,s=r.array,a=r.context;if(Zn(a.store))return a.store.makeCacheKey(i,s,a.varString)}})}return n.prototype.resetCanon=function(){this.canon=new Es},n.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,i=e.rootId,s=i===void 0?"ROOT_QUERY":i,a=e.variables,c=e.returnPartialData,u=c===void 0?!0:c,f=e.canonizeResults,d=f===void 0?this.config.canonizeResults:f,m=this.config.cache.policies;a=E(E({},Vs(nl(r))),a);var v=Pn(s),g=this.executeSelectionSet({selectionSet:si(r).selectionSet,objectOrReference:v,enclosingRef:v,context:E({store:t,query:r,policies:m,variables:a,varString:Gt(a),canonizeResults:d},Cl(r,this.config.fragments))}),b;if(g.missing&&(b=[new kl(Lp(g.missing),g.missing,r,a)],!u))throw b[0];return{result:g.result,complete:!b,missing:b}},n.prototype.isFresh=function(e,t,r,i){if(Zn(i.store)&&this.knownResults.get(e)===r){var s=this.executeSelectionSet.peek(r,t,i,this.canon.isKnown(e));if(s&&e===s.result)return!0}return!1},n.prototype.execSelectionSetImpl=function(e){var t=this,r=e.selectionSet,i=e.objectOrReference,s=e.enclosingRef,a=e.context;if(pe(i)&&!a.policies.rootTypenamesById[i.__ref]&&!a.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var c=a.variables,u=a.policies,f=a.store,d=f.getFieldValue(i,"__typename"),m=[],v,g=new Dt;this.config.addTypename&&typeof d=="string"&&!u.rootIdsByTypename[d]&&m.push({__typename:d});function b(T,A){var j;return T.missing&&(v=g.merge(v,(j={},j[A]=T.missing,j))),T.result}var _=new Set(r.selections);_.forEach(function(T){var A,j;if(!!ni(T,c))if(Xt(T)){var U=u.readField({fieldName:T.name.value,field:T,variables:a.variables,from:i},a),M=Jt(T);U===void 0?Qs.added(T)||(v=g.merge(v,(A={},A[M]="Can't find field '".concat(T.name.value,"' on ").concat(pe(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),A))):xe(U)?U=b(t.executeSubSelectedArray({field:T,array:U,enclosingRef:s,context:a}),M):T.selectionSet?U!=null&&(U=b(t.executeSelectionSet({selectionSet:T.selectionSet,objectOrReference:U,enclosingRef:pe(U)?U:s,context:a}),M)):a.canonizeResults&&(U=t.canon.pass(U)),U!==void 0&&m.push((j={},j[M]=U,j))}else{var z=Bs(T,a.lookupFragment);if(!z&&T.kind===Q.FRAGMENT_SPREAD)throw __DEV__?new fe("No fragment named ".concat(T.name.value)):new fe(5);z&&u.fragmentMatches(z,d)&&z.selectionSet.selections.forEach(_.add,_)}});var k=$s(m),C={result:k,missing:v},x=a.canonizeResults?this.canon.admit(C):ds(C);return x.result&&this.knownResults.set(x.result,r),x},n.prototype.execSubSelectedArrayImpl=function(e){var t=this,r=e.field,i=e.array,s=e.enclosingRef,a=e.context,c,u=new Dt;function f(d,m){var v;return d.missing&&(c=u.merge(c,(v={},v[m]=d.missing,v))),d.result}return r.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map(function(d,m){return d===null?null:xe(d)?f(t.executeSubSelectedArray({field:r,array:d,enclosingRef:s,context:a}),m):r.selectionSet?f(t.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:d,enclosingRef:pe(d)?d:s,context:a}),m):(__DEV__&&Rp(a.store,r,d),d)}),{result:a.canonizeResults?this.canon.admit(i):i,missing:c}},n}();function Lp(n){try{JSON.stringify(n,function(e,t){if(typeof t=="string")throw t;return t})}catch(e){return e}}function Rp(n,e,t){if(!e.selectionSet){var r=new Set([t]);r.forEach(function(i){Te(i)&&(__DEV__?R(!pe(i),"Missing selection set for object of type ".concat(Sp(n,i)," returned for query field ").concat(e.name.value)):R(!pe(i),6),Object.values(i).forEach(r.add,r))})}}var Xs=new ci,yc=new WeakMap;function er(n){var e=yc.get(n);return e||yc.set(n,e={vars:new Set,dep:Tl()}),e}function bc(n){er(n).vars.forEach(function(e){return e.forgetCache(n)})}function Mp(n){er(n).vars.forEach(function(e){return e.attachCache(n)})}function Fp(n){var e=new Set,t=new Set,r=function(s){if(arguments.length>0){if(n!==s){n=s,e.forEach(function(u){er(u).dep.dirty(r),Bp(u)});var a=Array.from(t);t.clear(),a.forEach(function(u){return u(n)})}}else{var c=Xs.getValue();c&&(i(c),er(c).dep(r))}return n};r.onNextChange=function(s){return t.add(s),function(){t.delete(s)}};var i=r.attachCache=function(s){return e.add(s),er(s).vars.add(r),r};return r.forgetCache=function(s){return e.delete(s)},r}function Bp(n){n.broadcastWatches&&n.broadcastWatches()}var _c=Object.create(null);function Zs(n){var e=JSON.stringify(n);return _c[e]||(_c[e]=Object.create(null))}function wc(n){var e=Zs(n);return e.keyFieldsFn||(e.keyFieldsFn=function(t,r){var i=function(a,c){return r.readField(c,a)},s=r.keyObject=eo(n,function(a){var c=Sn(r.storeObject,a,i);return c===void 0&&t!==r.storeObject&&De.call(t,a[0])&&(c=Sn(t,a,Nl)),__DEV__?R(c!==void 0,"Missing field '".concat(a.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):R(c!==void 0,2),c});return"".concat(r.typename,":").concat(JSON.stringify(s))})}function Ec(n){var e=Zs(n);return e.keyArgsFn||(e.keyArgsFn=function(t,r){var i=r.field,s=r.variables,a=r.fieldName,c=eo(n,function(f){var d=f[0],m=d.charAt(0);if(m==="@"){if(i&&pt(i.directives)){var v=d.slice(1),g=i.directives.find(function(C){return C.name.value===v}),b=g&&ri(g,s);return b&&Sn(b,f.slice(1))}return}if(m==="$"){var _=d.slice(1);if(s&&De.call(s,_)){var k=f.slice(0);return k[0]=_,Sn(s,k)}return}if(t)return Sn(t,f)}),u=JSON.stringify(c);return(t||u!=="{}")&&(a+=":"+u),a})}function eo(n,e){var t=new Dt;return Dl(n).reduce(function(r,i){var s,a=e(i);if(a!==void 0){for(var c=i.length-1;c>=0;--c)a=(s={},s[i[c]]=a,s);r=t.merge(r,a)}return r},Object.create(null))}function Dl(n){var e=Zs(n);if(!e.paths){var t=e.paths=[],r=[];n.forEach(function(i,s){xe(i)?(Dl(i).forEach(function(a){return t.push(r.concat(a))}),r.length=0):(r.push(i),xe(n[s+1])||(t.push(r.slice(0)),r.length=0))})}return e.paths}function Nl(n,e){return n[e]}function Sn(n,e,t){return t=t||Nl,Ll(e.reduce(function r(i,s){return xe(i)?i.map(function(a){return r(a,s)}):i&&t(i,s)},n))}function Ll(n){return Te(n)?xe(n)?n.map(Ll):eo(Object.keys(n).sort(),function(e){return Sn(n,e)}):n}js.setStringify(Gt);function ks(n){return n.args!==void 0?n.args:n.field?ri(n.field,n.variables):null}var jp=function(){},Tc=function(n,e){return e.fieldName},xc=function(n,e,t){var r=t.mergeObjects;return r(n,e)},kc=function(n,e){return e},qp=function(){function n(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=E({dataIdFromObject:Pl},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return n.prototype.identify=function(e,t){var r,i=this,s=t&&(t.typename||((r=t.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(s===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var a=t&&t.storeObject||e,c=E(E({},t),{typename:s,storeObject:a,readField:t&&t.readField||function(){var v=to(arguments,a);return i.readField(v,{store:i.cache.data,variables:v.variables})}}),u,f=s&&this.getTypePolicy(s),d=f&&f.keyFn||this.config.dataIdFromObject;d;){var m=d(e,c);if(xe(m))d=wc(m);else{u=m;break}}return u=u?String(u):void 0,c.keyObject?[u,c.keyObject]:[u]},n.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach(function(r){var i=e[r],s=i.queryType,a=i.mutationType,c=i.subscriptionType,u=In(i,["queryType","mutationType","subscriptionType"]);s&&t.setRootTypename("Query",r),a&&t.setRootTypename("Mutation",r),c&&t.setRootTypename("Subscription",r),De.call(t.toBeAdded,r)?t.toBeAdded[r].push(u):t.toBeAdded[r]=[u]})},n.prototype.updateTypePolicy=function(e,t){var r=this,i=this.getTypePolicy(e),s=t.keyFields,a=t.fields;function c(u,f){u.merge=typeof f=="function"?f:f===!0?xc:f===!1?kc:u.merge}c(i,t.merge),i.keyFn=s===!1?jp:xe(s)?wc(s):typeof s=="function"?s:i.keyFn,a&&Object.keys(a).forEach(function(u){var f=r.getFieldPolicy(e,u,!0),d=a[u];if(typeof d=="function")f.read=d;else{var m=d.keyArgs,v=d.read,g=d.merge;f.keyFn=m===!1?Tc:xe(m)?Ec(m):typeof m=="function"?m:f.keyFn,typeof v=="function"&&(f.read=v),c(f,g)}f.read&&f.merge&&(f.keyFn=f.keyFn||Tc)})},n.prototype.setRootTypename=function(e,t){t===void 0&&(t=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];t!==i&&(__DEV__?R(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):R(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)},n.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){t.getSupertypeSet(r,!0),e[r].forEach(function(i){t.getSupertypeSet(i,!0).add(r);var s=i.match(Il);(!s||s[0]!==i)&&t.fuzzySubtypes.set(i,new RegExp(i))})})},n.prototype.getTypePolicy=function(e){var t=this;if(!De.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(a){var c=t.getTypePolicy(a),u=c.fields,f=In(c,["fields"]);Object.assign(r,f),Object.assign(r.fields,u)})}var s=this.toBeAdded[e];return s&&s.length&&s.splice(0).forEach(function(a){t.updateTypePolicy(e,a)}),this.typePolicies[e]},n.prototype.getFieldPolicy=function(e,t,r){if(e){var i=this.getTypePolicy(e).fields;return i[t]||r&&(i[t]=Object.create(null))}},n.prototype.getSupertypeSet=function(e,t){var r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r},n.prototype.fragmentMatches=function(e,t,r,i){var s=this;if(!e.typeCondition)return!0;if(!t)return!1;var a=e.typeCondition.name.value;if(t===a)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(a))for(var c=this.getSupertypeSet(t,!0),u=[c],f=function(b){var _=s.getSupertypeSet(b,!1);_&&_.size&&u.indexOf(_)<0&&u.push(_)},d=!!(r&&this.fuzzySubtypes.size),m=!1,v=0;v<u.length;++v){var g=u[v];if(g.has(a))return c.has(a)||(m&&__DEV__&&R.warn("Inferring subtype ".concat(t," of supertype ").concat(a)),c.add(a)),!0;g.forEach(f),d&&v===u.length-1&&ws(e.selectionSet,r,i)&&(d=!1,m=!0,this.fuzzySubtypes.forEach(function(b,_){var k=t.match(b);k&&k[0]===t&&f(_)}))}return!1},n.prototype.hasKeyArgs=function(e,t){var r=this.getFieldPolicy(e,t,!1);return!!(r&&r.keyFn)},n.prototype.getStoreFieldName=function(e){var t=e.typename,r=e.fieldName,i=this.getFieldPolicy(t,r,!1),s,a=i&&i.keyFn;if(a&&t)for(var c={typename:t,fieldName:r,field:e.field||null,variables:e.variables},u=ks(e);a;){var f=a(u,c);if(xe(f))a=Ec(f);else{s=f||r;break}}return s===void 0&&(s=e.field?Hh(e.field,e.variables):js(r,ks(e))),s===!1?r:r===Lt(s)?s:r+":"+s},n.prototype.readField=function(e,t){var r=e.from;if(!!r){var i=e.field||e.fieldName;if(!!i){if(e.typename===void 0){var s=t.store.getFieldValue(r,"__typename");s&&(e.typename=s)}var a=this.getStoreFieldName(e),c=Lt(a),u=t.store.getFieldValue(r,a),f=this.getFieldPolicy(e.typename,c,!1),d=f&&f.read;if(d){var m=Pc(this,r,e,t,t.store.getStorage(pe(r)?r.__ref:r,a));return Xs.withValue(this.cache,d,[u,m])}return u}}},n.prototype.getReadFunction=function(e,t){var r=this.getFieldPolicy(e,t,!1);return r&&r.read},n.prototype.getMergeFunction=function(e,t,r){var i=this.getFieldPolicy(e,t,!1),s=i&&i.merge;return!s&&r&&(i=this.getTypePolicy(r),s=i&&i.merge),s},n.prototype.runMergeFunction=function(e,t,r,i,s){var a=r.field,c=r.typename,u=r.merge;return u===xc?Rl(i.store)(e,t):u===kc?t:(i.overwrite&&(e=void 0),u(e,t,Pc(this,void 0,{typename:c,fieldName:a.name.value,field:a,variables:i.variables},i,s||Object.create(null))))},n}();function Pc(n,e,t,r,i){var s=n.getStoreFieldName(t),a=Lt(s),c=t.variables||r.variables,u=r.store,f=u.toReference,d=u.canRead;return{args:ks(t),field:t.field||null,fieldName:a,storeFieldName:s,variables:c,isReference:pe,toReference:f,storage:i,cache:n.cache,canRead:d,readField:function(){return n.readField(to(arguments,e,c),r)},mergeObjects:Rl(r.store)}}function to(n,e,t){var r=n[0],i=n[1],s=n.length,a;return typeof r=="string"?a={fieldName:r,from:s>1?i:e}:(a=E({},r),De.call(a,"from")||(a.from=e)),__DEV__&&a.from===void 0&&__DEV__&&R.warn("Undefined 'from' passed to readField with arguments ".concat(wd(Array.from(n)))),a.variables===void 0&&(a.variables=t),a}function Rl(n){return function(t,r){if(xe(t)||xe(r))throw __DEV__?new fe("Cannot automatically merge arrays"):new fe(4);if(Te(t)&&Te(r)){var i=n.getFieldValue(t,"__typename"),s=n.getFieldValue(r,"__typename"),a=i&&s&&i!==s;if(a)return r;if(pe(t)&&En(r))return n.merge(t.__ref,r),t;if(En(t)&&pe(r))return n.merge(t,r.__ref),r;if(En(t)&&En(r))return E(E({},t),r)}return r}}function Gi(n,e,t){var r="".concat(e).concat(t),i=n.flavors.get(r);return i||n.flavors.set(r,i=n.clientOnly===e&&n.deferred===t?n:E(E({},n),{clientOnly:e,deferred:t})),i}var Vp=function(){function n(e,t,r){this.cache=e,this.reader=t,this.fragments=r}return n.prototype.writeToStore=function(e,t){var r=this,i=t.query,s=t.result,a=t.dataId,c=t.variables,u=t.overwrite,f=ar(i),d=Ip();c=E(E({},Vs(f)),c);var m=E(E({store:e,written:Object.create(null),merge:function(g,b){return d.merge(g,b)},variables:c,varString:Gt(c)},Cl(i,this.fragments)),{overwrite:!!u,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),v=this.processSelectionSet({result:s||Object.create(null),dataId:a,selectionSet:f.selectionSet,mergeTree:{map:new Map},context:m});if(!pe(v))throw __DEV__?new fe("Could not identify object ".concat(JSON.stringify(s))):new fe(7);return m.incomingById.forEach(function(g,b){var _=g.storeObject,k=g.mergeTree,C=g.fieldNodeSet,x=Pn(b);if(k&&k.map.size){var T=r.applyMerges(k,x,_,m);if(pe(T))return;_=T}if(__DEV__&&!m.overwrite){var A=Object.create(null);C.forEach(function(M){M.selectionSet&&(A[M.name.value]=!0)});var j=function(M){return A[Lt(M)]===!0},U=function(M){var z=k&&k.map.get(M);return Boolean(z&&z.info&&z.info.merge)};Object.keys(_).forEach(function(M){j(M)&&!U(M)&&Qp(x,_,M,m.store)})}e.merge(b,_)}),e.retain(v.__ref),v},n.prototype.processSelectionSet=function(e){var t=this,r=e.dataId,i=e.result,s=e.selectionSet,a=e.context,c=e.mergeTree,u=this.cache.policies,f=Object.create(null),d=r&&u.rootTypenamesById[r]||cs(i,s,a.fragmentMap)||r&&a.store.get(r,"__typename");typeof d=="string"&&(f.__typename=d);var m=function(){var T=to(arguments,f,a.variables);if(pe(T.from)){var A=a.incomingById.get(T.from.__ref);if(A){var j=u.readField(E(E({},T),{from:A.storeObject}),a);if(j!==void 0)return j}}return u.readField(T,a)},v=new Set;this.flattenFields(s,i,a,d).forEach(function(T,A){var j,U=Jt(A),M=i[U];if(v.add(A),M!==void 0){var z=u.getStoreFieldName({typename:d,fieldName:A.name.value,field:A,variables:T.variables}),W=Oc(c,z),H=t.processFieldValue(M,A,A.selectionSet?Gi(T,!1,!1):T,W),Z=void 0;A.selectionSet&&(pe(H)||En(H))&&(Z=m("__typename",H));var ie=u.getMergeFunction(d,A.name.value,Z);ie?W.info={field:A,typename:d,merge:ie}:Sc(c,z),f=T.merge(f,(j={},j[z]=H,j))}else __DEV__&&!T.clientOnly&&!T.deferred&&!Qs.added(A)&&!u.getReadFunction(d,A.name.value)&&__DEV__&&R.error("Missing field '".concat(Jt(A),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var g=u.identify(i,{typename:d,selectionSet:s,fragmentMap:a.fragmentMap,storeObject:f,readField:m}),b=g[0],_=g[1];r=r||b,_&&(f=a.merge(f,_))}catch(T){if(!r)throw T}if(typeof r=="string"){var k=Pn(r),C=a.written[r]||(a.written[r]=[]);if(C.indexOf(s)>=0||(C.push(s),this.reader&&this.reader.isFresh(i,k,s,a)))return k;var x=a.incomingById.get(r);return x?(x.storeObject=a.merge(x.storeObject,f),x.mergeTree=Ps(x.mergeTree,c),v.forEach(function(T){return x.fieldNodeSet.add(T)})):a.incomingById.set(r,{storeObject:f,mergeTree:Yr(c)?void 0:c,fieldNodeSet:v}),k}return f},n.prototype.processFieldValue=function(e,t,r,i){var s=this;return!t.selectionSet||e===null?__DEV__?cl(e):e:xe(e)?e.map(function(a,c){var u=s.processFieldValue(a,t,r,Oc(i,c));return Sc(i,c),u}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:i})},n.prototype.flattenFields=function(e,t,r,i){i===void 0&&(i=cs(t,e,r.fragmentMap));var s=new Map,a=this.cache.policies,c=new lr(!1);return function u(f,d){var m=c.lookup(f,d.clientOnly,d.deferred);m.visited||(m.visited=!0,f.selections.forEach(function(v){if(!!ni(v,r.variables)){var g=d.clientOnly,b=d.deferred;if(!(g&&b)&&pt(v.directives)&&v.directives.forEach(function(C){var x=C.name.value;if(x==="client"&&(g=!0),x==="defer"){var T=ri(C,r.variables);(!T||T.if!==!1)&&(b=!0)}}),Xt(v)){var _=s.get(v);_&&(g=g&&_.clientOnly,b=b&&_.deferred),s.set(v,Gi(r,g,b))}else{var k=Bs(v,r.lookupFragment);if(!k&&v.kind===Q.FRAGMENT_SPREAD)throw __DEV__?new fe("No fragment named ".concat(v.name.value)):new fe(8);k&&a.fragmentMatches(k,i,t,r.variables)&&u(k.selectionSet,Gi(r,g,b))}}}))}(e,r),s},n.prototype.applyMerges=function(e,t,r,i,s){var a,c=this;if(e.map.size&&!pe(r)){var u=!xe(r)&&(pe(t)||En(t))?t:void 0,f=r;u&&!s&&(s=[pe(u)?u.__ref:u]);var d,m=function(v,g){return xe(v)?typeof g=="number"?v[g]:void 0:i.store.getFieldValue(v,String(g))};e.map.forEach(function(v,g){var b=m(u,g),_=m(f,g);if(_!==void 0){s&&s.push(g);var k=c.applyMerges(v,b,_,i,s);k!==_&&(d=d||new Map,d.set(g,k)),s&&R(s.pop()===g)}}),d&&(r=xe(f)?f.slice(0):E({},f),d.forEach(function(v,g){r[g]=v}))}return e.info?this.cache.policies.runMergeFunction(t,r,e.info,i,s&&(a=i.store).getStorage.apply(a,s)):r},n}(),Ml=[];function Oc(n,e){var t=n.map;return t.has(e)||t.set(e,Ml.pop()||{map:new Map}),t.get(e)}function Ps(n,e){if(n===e||!e||Yr(e))return n;if(!n||Yr(n))return e;var t=n.info&&e.info?E(E({},n.info),e.info):n.info||e.info,r=n.map.size&&e.map.size,i=r?new Map:n.map.size?n.map:e.map,s={info:t,map:i};if(r){var a=new Set(e.map.keys());n.map.forEach(function(c,u){s.map.set(u,Ps(c,e.map.get(u))),a.delete(u)}),a.forEach(function(c){s.map.set(c,Ps(e.map.get(c),n.map.get(c)))})}return s}function Yr(n){return!n||!(n.info||n.map.size)}function Sc(n,e){var t=n.map,r=t.get(e);r&&Yr(r)&&(Ml.push(r),t.delete(e))}var Ic=new Set;function Qp(n,e,t,r){var i=function(m){var v=r.getFieldValue(m,t);return typeof v=="object"&&v},s=i(n);if(!!s){var a=i(e);if(!!a&&!pe(s)&&!Ie(s,a)&&!Object.keys(s).every(function(m){return r.getFieldValue(a,m)!==void 0})){var c=r.getFieldValue(n,"__typename")||r.getFieldValue(e,"__typename"),u=Lt(t),f="".concat(c,".").concat(u);if(!Ic.has(f)){Ic.add(f);var d=[];!xe(s)&&!xe(a)&&[s,a].forEach(function(m){var v=r.getFieldValue(m,"__typename");typeof v=="string"&&!d.includes(v)&&d.push(v)}),__DEV__&&R.warn("Cache data may be lost when replacing the ".concat(u," field of a ").concat(c,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(d.length?"either ensure all objects of type "+d.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(f,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(s).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(a).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var $p=function(n){ct(e,n);function e(t){t===void 0&&(t={});var r=n.call(this)||this;return r.watches=new Set,r.typenameDocumentCache=new Map,r.makeVar=Fp,r.txCount=0,r.config=Op(t),r.addTypename=!!r.config.addTypename,r.policies=new qp({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var t=this.data=new rr.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()},e.prototype.resetResultCache=function(t){var r=this,i=this.storeReader,s=this.config.fragments;this.storeWriter=new Vp(this,this.storeReader=new Np({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Sl(this.config),canon:t?void 0:i&&i.canon,fragments:s}),s),this.maybeBroadcastWatch=Gr(function(a,c){return r.broadcastWatch(a,c)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(a){var c=a.optimistic?r.optimisticData:r.data;if(Zn(c)){var u=a.optimistic,f=a.id,d=a.variables;return c.makeCacheKey(a.query,a.callback,Gt({optimistic:u,id:f,variables:d}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(a){return a.resetCaching()})},e.prototype.restore=function(t){return this.init(),t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).extract()},e.prototype.read=function(t){var r=t.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(E(E({},t),{store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(s){if(s instanceof kl)return null;throw s}},e.prototype.write=function(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(t){if(De.call(t,"id")&&!t.id)return!1;var r=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(t.id||"ROOT_QUERY",t.fields)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(t){return this.storeReader.diffQueryAgainstStore(E(E({},t),{store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(t){var r=this;return this.watches.size||Mp(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),function(){r.watches.delete(t)&&!r.watches.size&&bc(r),r.maybeBroadcastWatch.forget(t)}},e.prototype.gc=function(t){Gt.reset();var r=this.optimisticData.gc();return t&&!this.txCount&&(t.resetResultCache?this.resetResultCache(t.resetResultIdentities):t.resetResultIdentities&&this.storeReader.resetCanon()),r},e.prototype.retain=function(t,r){return(r?this.optimisticData:this.data).retain(t)},e.prototype.release=function(t,r){return(r?this.optimisticData:this.data).release(t)},e.prototype.identify=function(t){if(pe(t))return t.__ref;try{return this.policies.identify(t)[0]}catch(r){__DEV__&&R.warn(r)}},e.prototype.evict=function(t){if(!t.id){if(De.call(t,"id"))return!1;t=E(E({},t),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(t){var r=this;return this.init(),Gt.reset(),t&&t.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),bc(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){var r=this.optimisticData.removeLayer(t);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(t){var r=this,i=t.update,s=t.optimistic,a=s===void 0?!0:s,c=t.removeOptimistic,u=t.onWatchUpdated,f,d=function(v){var g=r,b=g.data,_=g.optimisticData;++r.txCount,v&&(r.data=r.optimisticData=v);try{return f=i(r)}finally{--r.txCount,r.data=b,r.optimisticData=_}},m=new Set;return u&&!this.txCount&&this.broadcastWatches(E(E({},t),{onWatchUpdated:function(v){return m.add(v),!1}})),typeof a=="string"?this.optimisticData=this.optimisticData.addLayer(a,d):a===!1?d(this.data):d(),typeof c=="string"&&(this.optimisticData=this.optimisticData.removeLayer(c)),u&&m.size?(this.broadcastWatches(E(E({},t),{onWatchUpdated:function(v,g){var b=u.call(this,v,g);return b!==!1&&m.delete(v),b}})),m.size&&m.forEach(function(v){return r.maybeBroadcastWatch.dirty(v)})):this.broadcastWatches(t),f},e.prototype.performTransaction=function(t,r){return this.batch({update:t,optimistic:r||r!==null})},e.prototype.transformDocument=function(t){if(this.addTypename){var r=this.typenameDocumentCache.get(t);return r||(r=Qs(t),this.typenameDocumentCache.set(t,r),this.typenameDocumentCache.set(r,r)),r}return t},e.prototype.transformForLink=function(t){var r=this.config.fragments;return r?r.transform(t):t},e.prototype.broadcastWatches=function(t){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,t)})},e.prototype.broadcastWatch=function(t,r){var i=t.lastDiff,s=this.diff(t);r&&(t.optimistic&&typeof r.optimistic=="string"&&(s.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,t,s,i)===!1)||(!i||!Ie(i.result,s.result))&&t.callback(t.lastDiff=s,i)},e}(Pp),ge;(function(n){n[n.loading=1]="loading",n[n.setVariables=2]="setVariables",n[n.fetchMore=3]="fetchMore",n[n.refetch=4]="refetch",n[n.poll=6]="poll",n[n.ready=7]="ready",n[n.error=8]="error"})(ge||(ge={}));function ir(n){return n?n<7:!1}var Up=Object.assign,zp=Object.hasOwnProperty,Os=function(n){ct(e,n);function e(t){var r=t.queryManager,i=t.queryInfo,s=t.options,a=n.call(this,function(k){try{var C=k._subscription._observer;C&&!C.error&&(C.error=Wp)}catch{}var x=!a.observers.size;a.observers.add(k);var T=a.last;return T&&T.error?k.error&&k.error(T.error):T&&T.result&&k.next&&k.next(T.result),x&&a.reobserve().catch(function(){}),function(){a.observers.delete(k)&&!a.observers.size&&a.tearDownQuery()}})||this;a.observers=new Set,a.subscriptions=new Set,a.queryInfo=i,a.queryManager=r,a.isTornDown=!1;var c=r.defaultOptions.watchQuery,u=c===void 0?{}:c,f=u.fetchPolicy,d=f===void 0?"cache-first":f,m=s.fetchPolicy,v=m===void 0?d:m,g=s.initialFetchPolicy,b=g===void 0?v==="standby"?d:v:g;a.options=E(E({},s),{initialFetchPolicy:b,fetchPolicy:v}),a.queryId=i.queryId||r.generateQueryId();var _=ar(a.query);return a.queryName=_&&_.name&&_.name.value,a}return Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var t=this;return new Promise(function(r,i){var s={next:function(c){r(c),t.observers.delete(s),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){a.unsubscribe()},0)},error:i},a=t.subscribe(s)})},e.prototype.getCurrentResult=function(t){t===void 0&&(t=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||ge.ready,s=E(E({},r),{loading:ir(i),networkStatus:i}),a=this.options.fetchPolicy,c=a===void 0?"cache-first":a;if(!(c==="network-only"||c==="no-cache"||c==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var u=this.queryInfo.getDiff();(u.complete||this.options.returnPartialData)&&(s.data=u.result),Ie(s.data,{})&&(s.data=void 0),u.complete?(delete s.partial,u.complete&&s.networkStatus===ge.loading&&(c==="cache-first"||c==="cache-only")&&(s.networkStatus=ge.ready,s.loading=!1)):s.partial=!0,__DEV__&&!u.complete&&!this.options.partialRefetch&&!s.loading&&!s.data&&!s.error&&Bl(u.missing)}return t&&this.updateLastResult(s),s},e.prototype.isDifferentFromLastResult=function(t,r){return!this.last||!Ie(this.last.result,t)||r&&!Ie(this.last.variables,r)},e.prototype.getLast=function(t,r){var i=this.last;if(i&&i[t]&&(!r||Ie(i.variables,this.variables)))return i[t]},e.prototype.getLastResult=function(t){return this.getLast("result",t)},e.prototype.getLastError=function(t){return this.getLast("error",t)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(t){var r,i={pollInterval:0},s=this.options.fetchPolicy;if(s==="cache-and-network"?i.fetchPolicy=s:s==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",__DEV__&&t&&zp.call(t,"variables")){var a=nl(this.query),c=a.variableDefinitions;(!c||!c.some(function(u){return u.variable.name.value==="variables"}))&&__DEV__&&R.warn("Called refetch(".concat(JSON.stringify(t),") for query ").concat(((r=a.name)===null||r===void 0?void 0:r.value)||JSON.stringify(a),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return t&&!Ie(this.options.variables,t)&&(i.variables=this.options.variables=E(E({},this.options.variables),t)),this.queryInfo.resetLastWrite(),this.reobserve(i,ge.refetch)},e.prototype.fetchMore=function(t){var r=this,i=E(E({},t.query?t:E(E(E(E({},this.options),{query:this.query}),t),{variables:E(E({},this.options.variables),t.variables)})),{fetchPolicy:"no-cache"}),s=this.queryManager.generateQueryId(),a=this.queryInfo,c=a.networkStatus;a.networkStatus=ge.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var u=new Set;return this.queryManager.fetchQuery(s,i,ge.fetchMore).then(function(f){return r.queryManager.removeQuery(s),a.networkStatus===ge.fetchMore&&(a.networkStatus=c),r.queryManager.cache.batch({update:function(d){var m=t.updateQuery;m?d.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(v){return m(v,{fetchMoreResult:f.data,variables:i.variables})}):d.writeQuery({query:i.query,variables:i.variables,data:f.data})},onWatchUpdated:function(d){u.add(d.query)}}),f}).finally(function(){u.has(r.query)||Fl(r)})},e.prototype.subscribeToMore=function(t){var r=this,i=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:function(s){var a=t.updateQuery;a&&r.updateQuery(function(c,u){var f=u.variables;return a(c,{subscriptionData:s,variables:f})})},error:function(s){if(t.onError){t.onError(s);return}__DEV__&&R.error("Unhandled GraphQL subscription error",s)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(t){return this.reobserve(t)},e.prototype.setVariables=function(t){return Ie(this.variables,t)?this.observers.size?this.result():Promise.resolve():(this.options.variables=t,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:t},ge.setVariables):Promise.resolve())},e.prototype.updateQuery=function(t){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,s=t(i,{variables:this.variables});s&&(r.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(t){this.options.pollInterval=t,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(t,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,s=i===void 0?"cache-first":i,a=r.initialFetchPolicy,c=a===void 0?s:a;s==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(s,{reason:t,options:r,observable:this,initialFetchPolicy:c}):t==="variables-changed"?r.fetchPolicy=c:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(t,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,t,r)},e.prototype.updatePolling=function(){var t=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,s=r.options.pollInterval;if(!s){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===s)){__DEV__?R(s,"Attempted to start a polling query without a polling interval."):R(s,13);var a=i||(this.pollingInfo={});a.interval=s;var c=function(){t.pollingInfo&&(ir(t.queryInfo.networkStatus)?u():t.reobserve({fetchPolicy:t.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},ge.poll).then(u,u))},u=function(){var f=t.pollingInfo;f&&(clearTimeout(f.timeout),f.timeout=setTimeout(c,f.interval))};u()}}},e.prototype.updateLastResult=function(t,r){return r===void 0&&(r=this.variables),this.last=E(E({},this.last),{result:this.queryManager.assumeImmutableResults?t:cl(t),variables:r}),pt(t.errors)||delete this.last.error,this.last},e.prototype.reobserveAsConcast=function(t,r){var i=this;this.isTornDown=!1;var s=r===ge.refetch||r===ge.fetchMore||r===ge.poll,a=this.options.variables,c=this.options.fetchPolicy,u=ai(this.options,t||{}),f=s?u:Up(this.options,u);s||(this.updatePolling(),t&&t.variables&&!Ie(t.variables,a)&&f.fetchPolicy!=="standby"&&f.fetchPolicy===c&&(this.applyNextFetchPolicy("variables-changed",f),r===void 0&&(r=ge.setVariables)));var d=f.variables&&E({},f.variables),m=this.fetch(f,r),v=m.concast,g=m.fromLink,b={next:function(_){i.reportResult(_,d)},error:function(_){i.reportError(_,d)}};return!s&&g&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=v,this.observer=b),v.addObserver(b),v},e.prototype.reobserve=function(t,r){return this.reobserveAsConcast(t,r).promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(t,r){var i=this.getLastError();(i||this.isDifferentFromLastResult(t,r))&&((i||!t.partial||this.options.returnPartialData)&&this.updateLastResult(t,r),Xn(this.observers,"next",t))},e.prototype.reportError=function(t,r){var i=E(E({},this.getLastResult()),{error:t,errors:t.graphQLErrors,networkStatus:ge.error,loading:!1});this.updateLastResult(i,r),Xn(this.observers,"error",this.last.error=t)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(t){return t.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(we);ul(Os);function Fl(n){var e=n.options,t=e.fetchPolicy,r=e.nextFetchPolicy;return t==="cache-and-network"||t==="network-only"?n.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,typeof r=="function"?r.apply(this,arguments):t}}):n.reobserve()}function Wp(n){__DEV__&&R.error("Unhandled error",n.message,n.stack)}function Bl(n){__DEV__&&n&&__DEV__&&R.debug("Missing cache result fields: ".concat(JSON.stringify(n)),n)}var jl=function(){function n(e){var t=e.cache,r=e.client,i=e.resolvers,s=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,r&&(this.client=r),i&&this.addResolvers(i),s&&this.setFragmentMatcher(s)}return n.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){t.resolvers=Ka(t.resolvers,r)}):this.resolvers=Ka(this.resolvers,e)},n.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},n.prototype.getResolvers=function(){return this.resolvers||{}},n.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,i=e.context,s=e.variables,a=e.onlyRunForcedResolvers,c=a===void 0?!1:a;return St(this,void 0,void 0,function(){return It(this,function(u){return t?[2,this.resolveDocument(t,r.data,i,s,this.fragmentMatcher,c).then(function(f){return E(E({},r),{data:f.result})})]:[2,r]})})},n.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},n.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},n.prototype.clientQuery=function(e){return Ms(["client"],e)&&this.resolvers?e:null},n.prototype.serverQuery=function(e){return rd(e)},n.prototype.prepareContext=function(e){var t=this.cache;return E(E({},e),{cache:t,getCacheKey:function(r){return t.identify(r)}})},n.prototype.addExportedVariables=function(e,t,r){return t===void 0&&(t={}),r===void 0&&(r={}),St(this,void 0,void 0,function(){return It(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then(function(s){return E(E({},t),s.exportedVariables)})]:[2,E({},t)]})})},n.prototype.shouldForceResolvers=function(e){var t=!1;return wt(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(t=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),t))return Rs}}}),t},n.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:nd(e),variables:t,returnPartialData:!0,optimistic:!1}).result},n.prototype.resolveDocument=function(e,t,r,i,s,a){return r===void 0&&(r={}),i===void 0&&(i={}),s===void 0&&(s=function(){return!0}),a===void 0&&(a=!1),St(this,void 0,void 0,function(){var c,u,f,d,m,v,g,b,_,k,C;return It(this,function(x){return c=si(e),u=qs(e),f=Fs(u),d=this.collectSelectionsToResolve(c,f),m=c.operation,v=m?m.charAt(0).toUpperCase()+m.slice(1):"Query",g=this,b=g.cache,_=g.client,k={fragmentMap:f,context:E(E({},r),{cache:b,client:_}),variables:i,fragmentMatcher:s,defaultOperationType:v,exportedVariables:{},selectionsToResolve:d,onlyRunForcedResolvers:a},C=!1,[2,this.resolveSelectionSet(c.selectionSet,C,t,k).then(function(T){return{result:T,exportedVariables:k.exportedVariables}})]})})},n.prototype.resolveSelectionSet=function(e,t,r,i){return St(this,void 0,void 0,function(){var s,a,c,u,f,d=this;return It(this,function(m){return s=i.fragmentMap,a=i.context,c=i.variables,u=[r],f=function(v){return St(d,void 0,void 0,function(){var g,b;return It(this,function(_){return!t&&!i.selectionsToResolve.has(v)?[2]:ni(v,c)?Xt(v)?[2,this.resolveField(v,t,r,i).then(function(k){var C;typeof k<"u"&&u.push((C={},C[Jt(v)]=k,C))})]:(Yh(v)?g=v:(g=s[v.name.value],__DEV__?R(g,"No fragment named ".concat(v.name.value)):R(g,11)),g&&g.typeCondition&&(b=g.typeCondition.name.value,i.fragmentMatcher(r,b,a))?[2,this.resolveSelectionSet(g.selectionSet,t,r,i).then(function(k){u.push(k)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(f)).then(function(){return $s(u)})]})})},n.prototype.resolveField=function(e,t,r,i){return St(this,void 0,void 0,function(){var s,a,c,u,f,d,m,v,g,b=this;return It(this,function(_){return r?(s=i.variables,a=e.name.value,c=Jt(e),u=a!==c,f=r[c]||r[a],d=Promise.resolve(f),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(m=r.__typename||i.defaultOperationType,v=this.resolvers&&this.resolvers[m],v&&(g=v[u?a:c],g&&(d=Promise.resolve(Xs.withValue(this.cache,g,[r,ri(e,s),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,d.then(function(k){var C,x;if(k===void 0&&(k=f),e.directives&&e.directives.forEach(function(A){A.name.value==="export"&&A.arguments&&A.arguments.forEach(function(j){j.name.value==="as"&&j.value.kind==="StringValue"&&(i.exportedVariables[j.value.value]=k)})}),!e.selectionSet||k==null)return k;var T=(x=(C=e.directives)===null||C===void 0?void 0:C.some(function(A){return A.name.value==="client"}))!==null&&x!==void 0?x:!1;if(Array.isArray(k))return b.resolveSubSelectedArray(e,t||T,k,i);if(e.selectionSet)return b.resolveSelectionSet(e.selectionSet,t||T,k,i)})]):[2,null]})})},n.prototype.resolveSubSelectedArray=function(e,t,r,i){var s=this;return Promise.all(r.map(function(a){if(a===null)return null;if(Array.isArray(a))return s.resolveSubSelectedArray(e,t,a,i);if(e.selectionSet)return s.resolveSelectionSet(e.selectionSet,t,a,i)}))},n.prototype.collectSelectionsToResolve=function(e,t){var r=function(a){return!Array.isArray(a)},i=this.selectionsToResolveCache;function s(a){if(!i.has(a)){var c=new Set;i.set(a,c),wt(a,{Directive:function(u,f,d,m,v){u.name.value==="client"&&v.forEach(function(g){r(g)&&za(g)&&c.add(g)})},FragmentSpread:function(u,f,d,m,v){var g=t[u.name.value];__DEV__?R(g,"No fragment named ".concat(u.name.value)):R(g,12);var b=s(g);b.size>0&&(v.forEach(function(_){r(_)&&za(_)&&c.add(_)}),c.add(u),b.forEach(function(_){c.add(_)}))}})}return i.get(a)}return s(e)},n}(),Tn=new(Zt?WeakMap:Map);function Yi(n,e){var t=n[e];typeof t=="function"&&(n[e]=function(){return Tn.set(n,(Tn.get(n)+1)%1e15),t.apply(this,arguments)})}function Cc(n){n.notifyTimeout&&(clearTimeout(n.notifyTimeout),n.notifyTimeout=void 0)}var Ji=function(){function n(e,t){t===void 0&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;Tn.has(r)||(Tn.set(r,0),Yi(r,"evict"),Yi(r,"modify"),Yi(r,"reset"))}return n.prototype.init=function(e){var t=e.networkStatus||ge.loading;return this.variables&&this.networkStatus!==ge.loading&&!Ie(this.variables,e.variables)&&(t=ge.setVariables),Ie(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},n.prototype.reset=function(){Cc(this),this.dirty=!1},n.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&Ie(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var r=this.observableQuery;if(r&&r.options.fetchPolicy==="no-cache")return{complete:!1};var i=this.cache.diff(t);return this.updateLastDiff(i,t),i},n.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},n.prototype.getDiffOptions=function(e){var t;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(t=this.observableQuery)===null||t===void 0?void 0:t.options.canonizeResults}},n.prototype.setDiff=function(e){var t=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!Ie(r&&r.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return t.notify()},0)))},n.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=t.getDiff();r.fromOptimisticTransaction?e.observe():Fl(e)})):delete this.oqListener)},n.prototype.notify=function(){var e=this;Cc(this),this.shouldNotify()&&this.listeners.forEach(function(t){return t(e)}),this.dirty=!1},n.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(ir(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},n.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=n.prototype.cancel,this.subscriptions.forEach(function(t){return t.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},n.prototype.cancel=function(){},n.prototype.updateWatch=function(e){var t=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=E(E({},this.getDiffOptions(e)),{watcher:this,callback:function(s){return t.setDiff(s)}});(!this.lastWatch||!Ie(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},n.prototype.resetLastWrite=function(){this.lastWrite=void 0},n.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===Tn.get(this.cache)&&Ie(t,r.variables)&&Ie(e.data,r.result.data))},n.prototype.markResult=function(e,t,r,i){var s=this,a=new Dt,c=pt(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&pt(e.incremental)){var u=fl(this.getDiff().result,e);e.data=u}else if("hasNext"in e&&e.hasNext){var f=this.getDiff();e.data=a.merge(f.result,e.data)}this.graphQLErrors=c,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(Ss(e,r.errorPolicy)?this.cache.performTransaction(function(d){if(s.shouldWrite(e,r.variables))d.writeQuery({query:t,data:e.data,variables:r.variables,overwrite:i===1}),s.lastWrite={result:e,variables:r.variables,dmCount:Tn.get(s.cache)};else if(s.lastDiff&&s.lastDiff.diff.complete){e.data=s.lastDiff.diff.result;return}var m=s.getDiffOptions(r.variables),v=d.diff(m);s.stopped||s.updateWatch(r.variables),s.updateLastDiff(v,m),v.complete&&(e.data=v.result)}):this.lastWrite=void 0)},n.prototype.markReady=function(){return this.networkError=null,this.networkStatus=ge.ready},n.prototype.markError=function(e){return this.networkStatus=ge.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},n}();function Ss(n,e){e===void 0&&(e="none");var t=e==="ignore"||e==="all",r=!jr(n);return!r&&t&&n.data&&(r=!0),r}var Hp=Object.prototype.hasOwnProperty,Kp=function(){function n(e){var t=e.cache,r=e.link,i=e.defaultOptions,s=e.queryDeduplication,a=s===void 0?!1:s,c=e.onBroadcast,u=e.ssrMode,f=u===void 0?!1:u,d=e.clientAwareness,m=d===void 0?{}:d,v=e.localState,g=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Zt?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=r,this.defaultOptions=i||Object.create(null),this.queryDeduplication=a,this.clientAwareness=m,this.localState=v||new jl({cache:t}),this.ssrMode=f,this.assumeImmutableResults=!!g,(this.onBroadcast=c)&&(this.mutationStore=Object.create(null))}return n.prototype.stop=function(){var e=this;this.queries.forEach(function(t,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(__DEV__?new fe("QueryManager stopped while query was in flight"):new fe(14))},n.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(t){return t(e)}),this.fetchCancelFns.clear()},n.prototype.mutate=function(e){var t,r,i=e.mutation,s=e.variables,a=e.optimisticResponse,c=e.updateQueries,u=e.refetchQueries,f=u===void 0?[]:u,d=e.awaitRefetchQueries,m=d===void 0?!1:d,v=e.update,g=e.onQueryUpdated,b=e.fetchPolicy,_=b===void 0?((t=this.defaultOptions.mutate)===null||t===void 0?void 0:t.fetchPolicy)||"network-only":b,k=e.errorPolicy,C=k===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.errorPolicy)||"none":k,x=e.keepRootFields,T=e.context;return St(this,void 0,void 0,function(){var A,j,U,M,z,W;return It(this,function(H){switch(H.label){case 0:return __DEV__?R(i,"mutation option is required. You must specify your GraphQL document in the mutation option."):R(i,15),__DEV__?R(_==="network-only"||_==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):R(_==="network-only"||_==="no-cache",16),A=this.generateMutationId(),j=this.transform(i),U=j.document,M=j.hasClientExports,i=this.cache.transformForLink(U),s=this.getVariables(i,s),M?[4,this.localState.addExportedVariables(i,s,T)]:[3,2];case 1:s=H.sent(),H.label=2;case 2:return z=this.mutationStore&&(this.mutationStore[A]={mutation:i,variables:s,loading:!0,error:null}),a&&this.markMutationOptimistic(a,{mutationId:A,document:i,variables:s,fetchPolicy:_,errorPolicy:C,context:T,updateQueries:c,update:v,keepRootFields:x}),this.broadcastQueries(),W=this,[2,new Promise(function(Z,ie){return Qi(W.getObservableFromLink(i,E(E({},T),{optimisticResponse:a}),s,!1),function(ce){if(jr(ce)&&C==="none")throw new gn({graphQLErrors:ps(ce)});z&&(z.loading=!1,z.error=null);var Ce=E({},ce);return typeof f=="function"&&(f=f(Ce)),C==="ignore"&&jr(Ce)&&delete Ce.errors,W.markMutationResult({mutationId:A,result:Ce,document:i,variables:s,fetchPolicy:_,errorPolicy:C,context:T,update:v,updateQueries:c,awaitRefetchQueries:m,refetchQueries:f,removeOptimistic:a?A:void 0,onQueryUpdated:g,keepRootFields:x})}).subscribe({next:function(ce){W.broadcastQueries(),(!("hasNext"in ce)||ce.hasNext===!1)&&Z(ce)},error:function(ce){z&&(z.loading=!1,z.error=ce),a&&W.cache.removeOptimistic(A),W.broadcastQueries(),ie(ce instanceof gn?ce:new gn({networkError:ce}))}})})]}})})},n.prototype.markMutationResult=function(e,t){var r=this;t===void 0&&(t=this.cache);var i=e.result,s=[],a=e.fetchPolicy==="no-cache";if(!a&&Ss(i,e.errorPolicy)){if(On(i)||s.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),On(i)&&pt(i.incremental)){var c=t.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),u=void 0;c.result&&(u=fl(c.result,i)),typeof u<"u"&&(i.data=u,s.push({result:u,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var f=e.updateQueries;f&&this.queries.forEach(function(m,v){var g=m.observableQuery,b=g&&g.queryName;if(!(!b||!Hp.call(f,b))){var _=f[b],k=r.queries.get(v),C=k.document,x=k.variables,T=t.diff({query:C,variables:x,returnPartialData:!0,optimistic:!1}),A=T.result,j=T.complete;if(j&&A){var U=_(A,{mutationResult:i,queryName:C&&ls(C)||void 0,queryVariables:x});U&&s.push({result:U,dataId:"ROOT_QUERY",query:C,variables:x})}}})}if(s.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var d=[];if(this.refetchQueries({updateCache:function(m){a||s.forEach(function(_){return m.write(_)});var v=e.update,g=!bd(i)||On(i)&&!i.hasNext;if(v){if(!a){var b=m.diff({id:"ROOT_MUTATION",query:r.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});b.complete&&(i=E(E({},i),{data:b.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}g&&v(m,i,{context:e.context,variables:e.variables})}!a&&!e.keepRootFields&&g&&m.modify({id:"ROOT_MUTATION",fields:function(_,k){var C=k.fieldName,x=k.DELETE;return C==="__typename"?_:x}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(m){return d.push(m)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(d).then(function(){return i})}return Promise.resolve(i)},n.prototype.markMutationOptimistic=function(e,t){var r=this,i=typeof e=="function"?e(t.variables):e;return this.cache.recordOptimisticTransaction(function(s){try{r.markMutationResult(E(E({},t),{result:{data:i}}),s)}catch(a){__DEV__&&R.error(a)}},t.mutationId)},n.prototype.fetchQuery=function(e,t,r){return this.fetchQueryObservable(e,t,r).promise},n.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}}),e},n.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},n.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var r=this.cache.transformDocument(e),i=td(r),s=this.localState.clientQuery(r),a=i&&this.localState.serverQuery(i),c={document:r,hasClientExports:Nh(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:s,serverQuery:a,defaultVars:Vs(ar(r)),asQuery:E(E({},r),{definitions:r.definitions.map(function(f){return f.kind==="OperationDefinition"&&f.operation!=="query"?E(E({},f),{operation:"query"}):f})})},u=function(f){f&&!t.has(f)&&t.set(f,c)};u(e),u(r),u(s),u(a)}return t.get(e)},n.prototype.getVariables=function(e,t){return E(E({},this.transform(e).defaultVars),t)},n.prototype.watchQuery=function(e){e=E(E({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var t=new Ji(this),r=new Os({queryManager:this,queryInfo:t,options:e});return this.queries.set(r.queryId,t),t.init({document:r.query,observableQuery:r,variables:r.variables}),r},n.prototype.query=function(e,t){var r=this;return t===void 0&&(t=this.generateQueryId()),__DEV__?R(e.query,"query option is required. You must specify your GraphQL document in the query option."):R(e.query,17),__DEV__?R(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):R(e.query.kind==="Document",18),__DEV__?R(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):R(!e.returnPartialData,19),__DEV__?R(!e.pollInterval,"pollInterval option only supported on watchQuery."):R(!e.pollInterval,20),this.fetchQuery(t,e).finally(function(){return r.stopQuery(t)})},n.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},n.prototype.generateRequestId=function(){return this.requestIdCounter++},n.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},n.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},n.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new fe("Store reset while query was in flight (not completed in link chain)"):new fe(21)),this.queries.forEach(function(t){t.observableQuery?t.networkStatus=ge.loading:t.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},n.prototype.getObservableQueries=function(e){var t=this;e===void 0&&(e="active");var r=new Map,i=new Map,s=new Set;return Array.isArray(e)&&e.forEach(function(a){typeof a=="string"?i.set(a,!1):Fh(a)?i.set(t.transform(a).document,!1):Te(a)&&a.query&&s.add(a)}),this.queries.forEach(function(a,c){var u=a.observableQuery,f=a.document;if(u){if(e==="all"){r.set(c,u);return}var d=u.queryName,m=u.options.fetchPolicy;if(m==="standby"||e==="active"&&!u.hasObservers())return;(e==="active"||d&&i.has(d)||f&&i.has(f))&&(r.set(c,u),d&&i.set(d,!0),f&&i.set(f,!0))}}),s.size&&s.forEach(function(a){var c=vs("legacyOneTimeQuery"),u=t.getQuery(c).init({document:a.query,variables:a.variables}),f=new Os({queryManager:t,queryInfo:u,options:E(E({},a),{fetchPolicy:"network-only"})});R(f.queryId===c),u.setObservableQuery(f),r.set(c,f)}),__DEV__&&i.size&&i.forEach(function(a,c){a||__DEV__&&R.warn("Unknown query ".concat(typeof c=="string"?"named ":"").concat(JSON.stringify(c,null,2)," requested in refetchQueries options.include array"))}),r},n.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,s){var a=i.options.fetchPolicy;i.resetLastResults(),(e||a!=="standby"&&a!=="cache-only")&&r.push(i.refetch()),t.getQuery(s).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},n.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},n.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,i=e.fetchPolicy,s=e.errorPolicy,a=e.variables,c=e.context,u=c===void 0?{}:c;r=this.transform(r).document,a=this.getVariables(r,a);var f=function(m){return t.getObservableFromLink(r,u,m).map(function(v){i!=="no-cache"&&(Ss(v,s)&&t.cache.write({query:r,result:v.data,dataId:"ROOT_SUBSCRIPTION",variables:m}),t.broadcastQueries());var g=jr(v),b=Fd(v);if(g||b){var _={};throw g&&(_.graphQLErrors=v.errors),b&&(_.protocolErrors=v.extensions[Ks]),new gn(_)}return v})};if(this.transform(r).hasClientExports){var d=this.localState.addExportedVariables(r,a,u).then(f);return new we(function(m){var v=null;return d.then(function(g){return v=g.subscribe(m)},m.error),function(){return v&&v.unsubscribe()}})}return f(a)},n.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},n.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},n.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},n.prototype.getLocalState=function(){return this.localState},n.prototype.getObservableFromLink=function(e,t,r,i){var s=this,a;i===void 0&&(i=(a=t?.queryDeduplication)!==null&&a!==void 0?a:this.queryDeduplication);var c,u=this.transform(e).serverQuery;if(u){var f=this,d=f.inFlightLinkObservables,m=f.link,v={query:u,variables:r,operationName:ls(u)||void 0,context:this.prepareContext(E(E({},t),{forceFetch:!i}))};if(t=v.context,i){var g=d.get(u)||new Map;d.set(u,g);var b=Gt(r);if(c=g.get(b),!c){var _=new bn([gs(m,v)]);g.set(b,c=_),_.beforeNext(function(){g.delete(b)&&g.size<1&&d.delete(u)})}}else c=new bn([gs(m,v)])}else c=new bn([we.of({data:{}})]),t=this.prepareContext(t);var k=this.transform(e).clientQuery;return k&&(c=Qi(c,function(C){return s.localState.runResolvers({document:k,remoteResult:C,context:t,variables:r})})),c},n.prototype.getResultsFromLink=function(e,t,r){var i=e.lastRequestId=this.generateRequestId(),s=this.cache.transformForLink(this.transform(e.document).document);return Qi(this.getObservableFromLink(s,r.context,r.variables),function(a){var c=ps(a),u=c.length>0;if(i>=e.lastRequestId){if(u&&r.errorPolicy==="none")throw e.markError(new gn({graphQLErrors:c}));e.markResult(a,s,r,t),e.markReady()}var f={data:a.data,loading:!1,networkStatus:ge.ready};return u&&r.errorPolicy!=="ignore"&&(f.errors=c,f.networkStatus=ge.error),f},function(a){var c=Bd(a)?a:new gn({networkError:a});throw i>=e.lastRequestId&&e.markError(c),c})},n.prototype.fetchQueryObservable=function(e,t,r){return this.fetchConcastWithInfo(e,t,r).concast},n.prototype.fetchConcastWithInfo=function(e,t,r){var i=this;r===void 0&&(r=ge.loading);var s=this.transform(t.query).document,a=this.getVariables(s,t.variables),c=this.getQuery(e),u=this.defaultOptions.watchQuery,f=t.fetchPolicy,d=f===void 0?u&&u.fetchPolicy||"cache-first":f,m=t.errorPolicy,v=m===void 0?u&&u.errorPolicy||"none":m,g=t.returnPartialData,b=g===void 0?!1:g,_=t.notifyOnNetworkStatusChange,k=_===void 0?!1:_,C=t.context,x=C===void 0?{}:C,T=Object.assign({},t,{query:s,variables:a,fetchPolicy:d,errorPolicy:v,returnPartialData:b,notifyOnNetworkStatusChange:k,context:x}),A=function(W){T.variables=W;var H=i.fetchQueryByPolicy(c,T,r);return T.fetchPolicy!=="standby"&&H.sources.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",t),H},j=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(W){j(),setTimeout(function(){return U.cancel(W)})});var U,M;if(this.transform(T.query).hasClientExports)U=new bn(this.localState.addExportedVariables(T.query,T.variables,T.context).then(A).then(function(W){return W.sources})),M=!0;else{var z=A(T.variables);M=z.fromLink,U=new bn(z.sources)}return U.promise.then(j,j),{concast:U,fromLink:M}},n.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,i=e.include,s=e.optimistic,a=s===void 0?!1:s,c=e.removeOptimistic,u=c===void 0?a?vs("refetchQueries"):void 0:c,f=e.onQueryUpdated,d=new Map;i&&this.getObservableQueries(i).forEach(function(v,g){d.set(g,{oq:v,lastDiff:t.getQuery(g).getDiff()})});var m=new Map;return r&&this.cache.batch({update:r,optimistic:a&&u||!1,removeOptimistic:u,onWatchUpdated:function(v,g,b){var _=v.watcher instanceof Ji&&v.watcher.observableQuery;if(_){if(f){d.delete(_.queryId);var k=f(_,g,b);return k===!0&&(k=_.refetch()),k!==!1&&m.set(_,k),k}f!==null&&d.set(_.queryId,{oq:_,lastDiff:b,diff:g})}}}),d.size&&d.forEach(function(v,g){var b=v.oq,_=v.lastDiff,k=v.diff,C;if(f){if(!k){var x=b.queryInfo;x.reset(),k=x.getDiff()}C=f(b,k,_)}(!f||C===!0)&&(C=b.refetch()),C!==!1&&m.set(b,C),g.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(g)}),u&&this.cache.removeOptimistic(u),m},n.prototype.fetchQueryByPolicy=function(e,t,r){var i=this,s=t.query,a=t.variables,c=t.fetchPolicy,u=t.refetchWritePolicy,f=t.errorPolicy,d=t.returnPartialData,m=t.context,v=t.notifyOnNetworkStatusChange,g=e.networkStatus;e.init({document:this.transform(s).document,variables:a,networkStatus:r});var b=function(){return e.getDiff(a)},_=function(A,j){j===void 0&&(j=e.networkStatus||ge.loading);var U=A.result;__DEV__&&!d&&!Ie(U,{})&&Bl(A.missing);var M=function(z){return we.of(E({data:z,loading:ir(j),networkStatus:j},A.complete?null:{partial:!0}))};return U&&i.transform(s).hasForcedResolvers?i.localState.runResolvers({document:s,remoteResult:{data:U},context:m,variables:a,onlyRunForcedResolvers:!0}).then(function(z){return M(z.data||void 0)}):f==="none"&&j===ge.refetch&&Array.isArray(A.missing)?M(void 0):M(U)},k=c==="no-cache"?0:r===ge.refetch&&u!=="merge"?1:2,C=function(){return i.getResultsFromLink(e,k,{variables:a,context:m,fetchPolicy:c,errorPolicy:f})},x=v&&typeof g=="number"&&g!==r&&ir(r);switch(c){default:case"cache-first":{var T=b();return T.complete?{fromLink:!1,sources:[_(T,e.markReady())]}:d||x?{fromLink:!0,sources:[_(T),C()]}:{fromLink:!0,sources:[C()]}}case"cache-and-network":{var T=b();return T.complete||d||x?{fromLink:!0,sources:[_(T),C()]}:{fromLink:!0,sources:[C()]}}case"cache-only":return{fromLink:!1,sources:[_(b(),e.markReady())]};case"network-only":return x?{fromLink:!0,sources:[_(b()),C()]}:{fromLink:!0,sources:[C()]};case"no-cache":return x?{fromLink:!0,sources:[_(e.getDiff()),C()]}:{fromLink:!0,sources:[C()]};case"standby":return{fromLink:!1,sources:[]}}},n.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Ji(this,e)),this.queries.get(e)},n.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return E(E({},t),{clientAwareness:this.clientAwareness})},n}(),Ac=!1,Gp=function(){function n(e){var t=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,i=e.credentials,s=e.headers,a=e.cache,c=e.ssrMode,u=c===void 0?!1:c,f=e.ssrForceFetchDelay,d=f===void 0?0:f,m=e.connectToDevTools,v=m===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:m,g=e.queryDeduplication,b=g===void 0?!0:g,_=e.defaultOptions,k=e.assumeImmutableResults,C=k===void 0?!1:k,x=e.resolvers,T=e.typeDefs,A=e.fragmentMatcher,j=e.name,U=e.version,M=e.link;if(M||(M=r?new np({uri:r,credentials:i,headers:s}):cr.empty()),!a)throw __DEV__?new fe(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new fe(9);if(this.link=M,this.cache=a,this.disableNetworkFetches=u||d>0,this.queryDeduplication=b,this.defaultOptions=_||Object.create(null),this.typeDefs=T,d&&setTimeout(function(){return t.disableNetworkFetches=!1},d),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),v&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!Ac&&v&&__DEV__&&(Ac=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var z=window.navigator,W=z&&z.userAgent,H=void 0;typeof W=="string"&&(W.indexOf("Chrome/")>-1?H="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":W.indexOf("Firefox/")>-1&&(H="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),H&&__DEV__&&R.log("Download the Apollo DevTools for a better development experience: "+H)}this.version=Pd,this.localState=new jl({cache:a,client:this,resolvers:x,fragmentMatcher:A}),this.queryManager=new Kp({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:b,ssrMode:u,clientAwareness:{name:j,version:U},localState:this.localState,assumeImmutableResults:C,onBroadcast:v?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return n.prototype.stop=function(){this.queryManager.stop()},n.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=$i(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=E(E({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},n.prototype.query=function(e){return this.defaultOptions.query&&(e=$i(this.defaultOptions.query,e)),__DEV__?R(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):R(e.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=E(E({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},n.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=$i(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},n.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},n.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t},n.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t},n.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},n.prototype.__requestRaw=function(e){return gs(this.link,e)},n.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},n.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},n.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(r){return r!==e})}},n.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(r){return r!==e})}},n.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},n.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],i=[];t.forEach(function(a,c){r.push(c),i.push(a)});var s=Promise.all(i);return s.queries=r,s.results=i,s.catch(function(a){__DEV__&&R.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(a))}),s},n.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},n.prototype.extract=function(e){return this.cache.extract(e)},n.prototype.restore=function(e){return this.cache.restore(e)},n.prototype.addResolvers=function(e){this.localState.addResolvers(e)},n.prototype.setResolvers=function(e){this.localState.setResolvers(e)},n.prototype.getResolvers=function(){return this.localState.getResolvers()},n.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},n.prototype.setLink=function(e){this.link=this.queryManager.link=e},n}(),Vr=new Map,Is=new Map,ql=!0,Jr=!1;function Vl(n){return n.replace(/[\s,]+/g," ").trim()}function Yp(n){return Vl(n.source.body.substring(n.start,n.end))}function Jp(n){var e=new Set,t=[];return n.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,s=Yp(r.loc),a=Is.get(i);a&&!a.has(s)?ql&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):a||Is.set(i,a=new Set),a.add(s),e.has(s)||(e.add(s),t.push(r))}else t.push(r)}),E(E({},n),{definitions:t})}function Xp(n){var e=new Set(n.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var s=r[i];s&&typeof s=="object"&&e.add(s)})});var t=n.loc;return t&&(delete t.startToken,delete t.endToken),n}function Zp(n){var e=Vl(n);if(!Vr.has(e)){var t=wh(n,{experimentalFragmentVariables:Jr,allowLegacyFragmentVariables:Jr});if(!t||t.kind!=="Document")throw new Error("Not a valid GraphQL document.");Vr.set(e,Xp(Jp(t)))}return Vr.get(e)}function vt(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];typeof n=="string"&&(n=[n]);var r=n[0];return e.forEach(function(i,s){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=n[s+1]}),Zp(r)}function ev(){Vr.clear(),Is.clear()}function tv(){ql=!1}function nv(){Jr=!0}function rv(){Jr=!1}var Kn={gql:vt,resetCaches:ev,disableFragmentWarnings:tv,enableExperimentalFragmentVariables:nv,disableExperimentalFragmentVariables:rv};(function(n){n.gql=Kn.gql,n.resetCaches=Kn.resetCaches,n.disableFragmentWarnings=Kn.disableFragmentWarnings,n.enableExperimentalFragmentVariables=Kn.enableExperimentalFragmentVariables,n.disableExperimentalFragmentVariables=Kn.disableExperimentalFragmentVariables})(vt||(vt={}));vt.default=vt;const Gn=new Gp({uri:"http://localhost:4000/graphql",cache:new $p}),iv=vt`
  query {
    getUsers {
      id
      username
      cat_url
    }
  }
`;vt`
  mutation ($id: ID!) {
    deleteUser(id: $id) {
      id
    }
  }
`;const sv=vt`
  subscription {
    users {
      id
      username
      cat_url
    }
  }
`,Dc=vt`
  mutation ($id: ID!, $username: String!, $cat_url: String!) {
    addUser(id: $id, username: $username, cat_url: $cat_url) {
      id
    }
  }
`,ov=vt`
  mutation ($id: ID!) {
    updateLastSeen(id: $id) {
      id
    }
  }`;function av({}){const[n,e]=Ee(""),[t,r]=Ee(""),[i,s]=Ee(!1);Ee(!1);const[a,c]=Ee([]);xn(async()=>{await f(),await Gn.query({query:iv}).then(b=>(console.log("users from query",b.data.getUsers),c(b.data.getUsers),b.data.getUsers))}),Gn.subscribe({query:sv}).subscribe({next:b=>((!d(t(),b.data.users)||!d(t(),a())||a().length!=b.data.users.length)&&(c(b.data.users),console.log("mutated")),b.data.users)});function u(){Gn.mutate({mutation:ov,variables:{id:t()}}).then(b=>{})}async function f(){let b=sessionStorage.getItem("gabrielmalek/chess.data"),_=JSON.parse(b);if(b==null)console.log("session storage null");else{console.log("session storage not null"),console.log(_),await r(_.userId),await e(_.userName),await s(!0),u(),setInterval(u,6e3),await v();return}b=localStorage.getItem("gabrielmalek/chess.data"),_=JSON.parse(b),b==null?console.log("local storage null"):(console.log("local storage not null"),r(_.userId),e(_.userName))}function d(b,_){for(let k=0;k<_.length;k++)if(_[k].id==b)return!0;return!1}async function m(){return(await(await fetch("https://api.thecatapi.com/v1/images/search")).json())[0].url}async function v(){console.log("id",t()),console.log("username",n()),console.log("adding user to graphql"),console.log("users",a());let b=await m();if(console.log("cat_url",b),a()==null){Gn.mutate({mutation:Dc,variables:{id:t(),username:n(),cat_url:b}}).then(_=>{console.log("added user to graphql"),console.log(_),console.log("users from here",a())});return}d(t(),a())==!1&&(console.log("user not in list"),await Gn.mutate({mutation:Dc,variables:{id:t(),username:n(),cat_url:b}}).then(_=>{console.log("added user to graphql"),console.log(_),console.log("users from here",a())}))}function g(b){console.log("sending notification to",b.username)}return[Re(Jn,{get when(){return!i()},get children(){return Re(Nf,{oldUserName:n,oldUserId:t,setOldUserName:e,setOldUserId:r,setSessionStorageUser:s,addUserToGraphql:v,updateLastSeen:u})}}),Re(Jn,{get when(){return i()},get children(){return Re(qf,{users:a,userId:t,playChess:g})}}),Re(Jn,{when:!0}),Re(Cf,{})]}const cv=()=>Re(av,{});pf(()=>Re(cv,{}),document.getElementById("root"))});export default lv();
